{
  "version": 1,
  "timestamp": "2026-01-30T00:53:16.761Z",
  "editorState": {
    "data": {
      "root": {
        "id": "root",
        "name": "root",
        "displayName": "Root",
        "type": "directory",
        "path": "",
        "urlPath": "/",
        "include": true,
        "children": [
          {
            "id": "readme",
            "name": "readme",
            "displayName": "README",
            "type": "file",
            "order": 1,
            "path": "readme",
            "urlPath": "/readme",
            "content": "<!-- component-READMEComponent -->\n",
            "components": [
              {
                "id": "component-READMEComponent",
                "name": "READMEComponent",
                "displayName": "READMEComponent",
                "type": "component",
                "path": "readme.component.READMEComponent",
                "urlPath": "",
                "componentId": "READMEComponent",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "theme",
            "name": "theme",
            "displayName": "Theme",
            "type": "file",
            "order": 2,
            "path": "theme",
            "urlPath": "/theme",
            "content": "# Theme configuration\n\nSelect and customize your theme! These styles will be applied to every component in your generated web app.\n\n<!-- component-ThemeConfiguration -->\n",
            "components": [
              {
                "id": "component-ThemeConfiguration",
                "name": "ThemeConfiguration",
                "displayName": "ThemeConfiguration",
                "type": "component",
                "path": "theme.component.ThemeConfiguration",
                "urlPath": "",
                "componentId": "ThemeConfiguration",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "app-directory",
            "name": "app-directory",
            "displayName": "App Directory",
            "type": "file",
            "order": 3,
            "path": "app-directory",
            "urlPath": "/app-directory",
            "content": "# App Directory\n\n<!-- component-LayoutAndStructure -->\n",
            "components": [
              {
                "id": "component-LayoutAndStructure",
                "name": "LayoutAndStructure",
                "displayName": "LayoutAndStructure",
                "type": "component",
                "path": "app-directory.component.LayoutAndStructure",
                "urlPath": "",
                "componentId": "LayoutAndStructure",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "database",
            "name": "database",
            "displayName": "Database",
            "type": "file",
            "order": 4,
            "path": "database",
            "urlPath": "/database",
            "content": "# Database\n\n<!-- component-DatabaseConfiguration -->\n",
            "components": [
              {
                "id": "component-DatabaseConfiguration",
                "name": "DatabaseConfiguration",
                "displayName": "DatabaseConfiguration",
                "type": "component",
                "path": "database.component.DatabaseConfiguration",
                "urlPath": "",
                "componentId": "DatabaseConfiguration",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "starter-kit",
            "name": "starter-kit",
            "displayName": "Starter Kit",
            "type": "file",
            "order": 5,
            "path": "starter-kit",
            "urlPath": "/starter-kit",
            "content": "# Starter Kit\n\n<!-- component-NextStepsComponent -->\n",
            "components": [
              {
                "id": "component-NextStepsComponent",
                "name": "NextStepsComponent",
                "displayName": "NextStepsComponent",
                "type": "component",
                "path": "starter-kit.component.NextStepsComponent",
                "urlPath": "",
                "componentId": "NextStepsComponent",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "extensions",
            "name": "extensions",
            "displayName": "Extensions",
            "type": "file",
            "order": 6,
            "path": "extensions",
            "urlPath": "/extensions",
            "content": "# Extensions\n\n<!-- component-ExtensionsComponent -->\n",
            "components": [
              {
                "id": "component-ExtensionsComponent",
                "name": "ExtensionsComponent",
                "displayName": "ExtensionsComponent",
                "type": "component",
                "path": "extensions.component.ExtensionsComponent",
                "urlPath": "",
                "componentId": "ExtensionsComponent",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "10-util",
            "name": "10-util",
            "displayName": " 10-util",
            "type": "file",
            "path": "10-util",
            "urlPath": "/10-util",
            "content": "# File examples\n\nThis guide provides code examples and patterns for organizing your application code following best practices.\n\n## Types file example\n\nType definitions establish contracts and ensure type safety throughout your application.\n\n<!-- section-1 -->\n\n## Stores file example\n\nZustand stores manage application state with persistence and middleware support.\n\n<!-- section-2 -->\n\n## Actions file example\n\nServer actions handle data mutations and communicate with your backend services.\n\n<!-- section-3 -->\n\n## Hooks file example\n\nReact Query hooks manage data fetching, caching, and synchronization.\n\n<!-- section-4 -->\n\n## Utility files\n\nUtility modules provide reusable helper functions and configurations.\n\n<!-- section-5 -->\n",
            "components": [],
            "sections": {
              "section1": {
                "option1": {
                  "content": "**Types file example (Client-side):**\n\n```typescript\nexport interface AppState {\n  data: any[];\n  setData: (data: any[]) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n  reset: () => void;\n}\n\nexport interface ApiData {\n  id: string;\n  name: string;\n  value: number;\n}\n```",
                  "include": true
                },
                "option2": {
                  "content": "**Types file example (With Database):**\n\n```typescript\nimport { User } from \"@prisma/client\";\n\nexport interface AppState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  tempEmail?: string;\n  setTempEmail: (tempEmail: string) => void;\n  reset: () => void;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n```",
                  "include": true
                }
              },
              "section2": {
                "option1": {
                  "content": "### Store Example (With Database)\n\n```typescript\nimport { UserRole } from \"@prisma/client\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { AppState, ExtendedUser, RedirectState } from \"./layout.types\";\n\nconst initialState = {\n  user: null,\n};\n\nexport const useAppStore = create<AppState>()((set) => ({\n  ...initialState,\n  setUser: (user) => set({ user, profile: user?.profile || null }),\n  reset: () => set(initialState),\n}));\n```\n\n**Usage with React Query:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\nimport { useGetUser } from \"@/hooks/user.hooks\";\n\nexport const UserProfile = () => {\n  const setUser = useAppStore((state) => state.setUser);\n  const user = useAppStore((state) => state.user);\n\n  const { isLoading } = useGetUser({\n    onSuccess: (data) => setUser(data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return <div>Welcome, {user?.name}</div>;\n};\n```",
                  "include": true
                },
                "option2": {
                  "content": "### Store Example (Without Database)\n\n```typescript\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface AppState {\n  theme: \"light\" | \"dark\";\n  setTheme: (theme: \"light\" | \"dark\") => void;\n  sidebarOpen: boolean;\n  toggleSidebar: () => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set) => ({\n      theme: \"light\",\n      setTheme: (theme) => set({ theme }),\n      sidebarOpen: true,\n      toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),\n    }),\n    {\n      name: \"app-storage\",\n    }\n  )\n);\n```\n\n**Usage:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useAppStore();\n\n  return (\n    <button onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}>\n      Toggle Theme\n    </button>\n  );\n};\n```",
                  "include": true
                }
              },
              "section3": {
                "option1": {
                  "content": "**No actions file needed for client-side only applications.**\n\nUse API routes or external API calls directly in hooks with React Query.",
                  "include": true
                },
                "option2": {
                  "content": "**Actions file example (NeonDB + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                  "include": true
                },
                "option3": {
                  "content": "**Actions file example (Supabase + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                  "include": true
                },
                "option4": {
                  "content": "**Actions file example (Supabase Auth Only):**\n\n```typescript\n\"use server\";\n\nimport { createClient } from \"@/lib/supabase/server\";\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\n\nexport const getUserAction = async (): Promise<ActionResponse<any>> => {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return getActionResponse({ error: authError?.message || \"Not authenticated\" });\n    }\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (error) throw error;\n\n    return getActionResponse({ data });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                  "include": true
                }
              },
              "section4": {
                "option1": {
                  "content": "**Hooks file example (Client-side):**\n\n```typescript\n\"use client\";\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetData = () => {\n  const { setData } = useAppStore();\n\n  return useQuery({\n    queryKey: [\"data\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/data\");\n      if (!response.ok) throw new Error(\"Failed to fetch\");\n      const data = await response.json();\n      setData(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useCreateData = () => {\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (newData: any) => {\n      const response = await fetch(\"/api/data\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newData),\n      });\n      if (!response.ok) throw new Error(\"Failed to create\");\n      return response.json();\n    },\n    onSuccess: () => {\n      router.refresh();\n    },\n  });\n};\n```",
                  "include": true
                },
                "option2": {
                  "content": "**Hooks file example (Better Auth):**\n\n```typescript\n\"use client\";\n\nimport { configuration, privatePaths } from \"@/configuration\";\nimport { signIn } from \"@/lib/auth-client\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Toast } from \"../(components)/Toast\";\nimport { CypressDataAttributes } from \"../../types/cypress.types\";\nimport { useAppStore, useRedirectStore } from \"../layout.stores\";\nimport { SignInData } from \"../layout.types\";\nimport { getUserAction } from \"./layout.actions\";\nimport { useAuthLayoutStore } from \"./layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const { reset: resetAuthLayout } = useAuthLayoutStore();\n  const { setUserData } = useRedirectStore();\n  const pathname = usePathname();\n\n  const router = useRouter();\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const { data, error } = await getUserAction();\n      if (!data || error) {\n        if (privatePaths.includes(pathname)) {\n          router.push(configuration.paths.signIn);\n        }\n        reset();\n        resetAuthLayout();\n      }\n      if (error) throw error;\n      setUser(data ?? null);\n\n      setUserData(data);\n\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser, setTempEmail } = useAppStore();\n  const { setUserData } = useRedirectStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (signInData: SignInData) => {\n      const { error } = await signIn.email({\n        email: signInData.email,\n        password: signInData.password,\n      });\n\n      if (error?.status === 403) setTempEmail(signInData.email);\n\n      if (error) throw error;\n      const { data: userData, error: userError } = await getUserAction();\n\n      if (userError) throw new Error(userError);\n\n      return userData;\n    },\n    onSuccess: (data) => {\n      if (data) {\n        setUser(data);\n        setUserData(data);\n      }\n      toast.custom(() => (\n        <Toast\n          variant=\"success\"\n          title=\"Success\"\n          message=\"Successfully signed in\"\n          data-cy={CypressDataAttributes.TOAST_SUCCESS}\n        />\n      ));\n      if (data && !data.profile?.isOnboardingComplete) {\n        router.push(configuration.paths.onboarding);\n        return;\n      }\n      router.push(configuration.paths.home);\n    },\n    onError: (\n      error: {\n        code?: string | undefined;\n        message?: string | undefined;\n        status: number;\n        statusText: string;\n      } | null\n    ) => {\n      if (error?.status === 403) return;\n      toast.custom(() => (\n        <Toast\n          variant=\"error\"\n          title=\"Sign In Failed\"\n          message={error?.message || \"Failed to sign in\"}\n          data-cy={CypressDataAttributes.TOAST_ERROR}\n        />\n      ));\n    },\n  });\n};\n```",
                  "include": true
                },
                "option3": {
                  "content": "**Hooks file example (Supabase Auth):**\n\n```typescript\n\"use client\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const router = useRouter();\n\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        reset();\n        return null;\n      }\n\n      const { data, error } = await supabase\n        .from('users')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (error) throw error;\n\n      setUser(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser } = useAppStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const supabase = createClient();\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) throw error;\n\n      return data.user;\n    },\n    onSuccess: (user) => {\n      setUser(user);\n      router.push('/dashboard');\n    },\n  });\n};\n```",
                  "include": true
                }
              },
              "section5": {
                "option1": {
                  "content": "**No utility files needed for client-side only applications.**",
                  "include": true
                },
                "option2": {
                  "content": "**Utility files (Better Auth + Prisma):**\n\n## `prisma-rls.ts`:\n\n```typescript\nimport { Prisma } from \"@prisma/client\";\nimport { prisma } from \"./prisma\";\n\nfunction forUser(userId: string, tenantId?: string) {\n  return Prisma.defineExtension((prisma) =>\n    prisma.$extends({\n      query: {\n        $allModels: {\n          async $allOperations({ args, query }) {\n            if (tenantId) {\n              const [, , result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                prisma.$executeRaw`SELECT set_config('app.current_tenant_id', ${tenantId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            } else {\n              const [, result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            }\n          },\n        },\n      },\n    })\n  );\n}\n\nexport function createRLSClient(userId: string, tenantId?: string) {\n  return prisma.$extends(forUser(userId, tenantId));\n}\n```\n\n## `auth.util.ts`\n\n```typescript\nimport { User } from \"better-auth\";\nimport jwt from \"jsonwebtoken\";\nimport { headers } from \"next/headers\";\nimport { auth, Session } from \"./auth\";\nimport { createRLSClient } from \"./prisma-rls\";\n\nexport async function getAuthenticatedClient(user?: User): Promise<{\n  db: ReturnType<typeof createRLSClient>;\n  session: Session | null;\n}> {\n  const headersList = await headers();\n\n  const session = await auth.api.getSession({\n    headers: headersList,\n  });\n\n  const userId = user?.id || session?.user.id;\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const db = createRLSClient(userId);\n\n  return { db, session };\n}\n\nexport function generateSupabaseJWT(userId: string, userRole: string): string {\n  const jwtSecret = process.env.SUPABASE_JWT_SECRET;\n\n  if (!jwtSecret) {\n    throw new Error(\"SUPABASE_JWT_SECRET is required for JWT generation\");\n  }\n\n  const payload = {\n    aud: \"authenticated\",\n    exp: Math.floor(Date.now() / 1000) + 60 * 60,\n    sub: userId,\n    email: `${userId}@better-auth.local`,\n    role: \"authenticated\",\n    user_metadata: {\n      better_auth_user_id: userId,\n      better_auth_role: userRole,\n    },\n    app_metadata: {\n      provider: \"better-auth\",\n      providers: [\"better-auth\"],\n    },\n  };\n\n  return jwt.sign(payload, jwtSecret, {\n    algorithm: \"HS256\",\n  });\n}\n```\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                  "include": true
                },
                "option3": {
                  "content": "**Utility files (Supabase):**\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                  "include": true
                }
              }
            },
            "include": true,
            "includeInSidebar": false,
            "isDynamicRobotsFile": false
          },
          {
            "id": "6-robots",
            "name": "6-robots",
            "displayName": " 6-ROBOTS",
            "type": "file",
            "path": "6-robots",
            "urlPath": "/6-robots",
            "content": "# ROBOTS.md\n\nThis file provides guidance to AI assistants when working with code in this repository.\n\n### Tech stack\n\n- **Next.js 15** with App Router architecture\n- **TypeScript** for type safety\n- **TailwindCSS & Shadcn** for styling\n\n<!-- section-1 -->\n\n# General rules:\n\n- Don't include any comments in any files.\n- All errors should be thrown - no \"fallback\" functionality\n- Import \"cn\" from \"@/lib/utils\" to concatenate classes.\n\n# File Organization and Naming Conventions\n\n- Types and store files alongside ancestor files\n- Actions and hooks files alongside descendent files\n\n\\`\\`\\`\n\n# Hook, action, store and type patterns\n\n<!-- section-2 -->\n\n# Console.logging\n\nAll logging should be performed using the \\`conditionalLog\\` function exported from \\`lib/log.utils.ts\\`\nThe \\`NEXT_PUBLIC_LOG_LABELS\\` variable in \\`.env.local\\` stores a comma separated string of log labels. Logs are returned if \\`NEXT_PUBLIC_LOG_LABELS=\"all\"\\`, or if \\`NEXT_PUBLIC_LOG_LABELS\\` includes the label arg in \\`conditionalLog\\`.\n\n\\`\\`\\`\n",
            "components": [],
            "sections": {
              "section1": {
                "option1": {
                  "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for authentication and real-time features\n\n# Database Architecture\n\nUse Supabase as the primary database and authentication provider.",
                  "include": true
                },
                "option2": {
                  "content": "- **Postgres & Prisma** for database and ORM\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse NeonDB for serverless Postgres with Prisma ORM and Better-Auth for authentication.",
                  "include": true
                },
                "option3": {
                  "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for real-time features\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse both Supabase and NeonDB based on feature requirements. Use Better-Auth for authentication with NeonDB as the primary database.",
                  "include": true
                },
                "option4": {
                  "content": "# Database Architecture\n\nNo database required - this is a frontend-only application.",
                  "include": true
                }
              },
              "section2": {
                "option1": {
                  "content": "DB <-> Supabase Client <-> hook <-> store\n\n- Supabase client queries are called directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store (if applicable).\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `@/supabase/types`.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                  "include": true
                },
                "option2": {
                  "content": "DB <-> Action <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `\"@prisma/client\"`\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, action, store or type files. The file also contains the `prisma-rls.ts` and `action.util.ts` files for reference.",
                  "include": true
                },
                "option3": {
                  "content": "DB <-> Action/Supabase Client <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient for NeonDB.\n- Supabase client queries are called directly in react-query hooks for real-time features.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- Database types should be defined from `\"@prisma/client\"` for NeonDB and `@/supabase/types` for Supabase.",
                  "include": true
                },
                "option4": {
                  "content": "Component <-> hook <-> store\n\n- No database interactions - frontend only.\n- API calls (if any) are made directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All types should be defined in `.types.ts` files alongside components.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                  "include": true
                }
              }
            },
            "include": true,
            "includeInSidebar": false,
            "isDynamicRobotsFile": true,
            "visibleAfterPage": "readme"
          },
          {
            "id": "7-deployment",
            "name": "7-deployment",
            "displayName": " 7-Deployment",
            "type": "file",
            "path": "7-deployment",
            "urlPath": "/7-deployment",
            "content": "# Deployment Instructions\n\nThis guide provides step-by-step instructions for deploying your application based on your selected technology stack.\n\n## Platform Setup\n\n<!-- section-1 -->\n\n## Database Deployment\n\n<!-- section-2 -->\n\n## Environment Variables\n\n<!-- section-3 -->\n\n## Authentication Setup\n\n<!-- section-4 -->\n\n## Post-Deployment Tasks\n\n<!-- section-5 -->\n",
            "components": [],
            "sections": {
              "section1": {
                "option1": {
                  "content": "### Deploying to Vercel\n\n**Prerequisites:**\n- Vercel account\n- GitHub repository connected to Vercel\n\n**Steps:**\n\n1. Install Vercel CLI:\n```bash\nnpm install -g vercel\n```\n\n2. Login to Vercel:\n```bash\nvercel login\n```\n\n3. Deploy your application:\n```bash\nvercel\n```\n\n4. For production deployment:\n```bash\nvercel --prod\n```\n\n**Configuration:**\n- Vercel automatically detects Next.js projects\n- Environment variables should be set in the Vercel dashboard under Settings → Environment Variables\n- Build command: `npm run build`\n- Output directory: `.next`\n- Install command: `npm install`\n\n**Custom Domain:**\n1. Go to your project settings in Vercel dashboard\n2. Navigate to Domains\n3. Add your custom domain\n4. Update your DNS records as instructed\n\n**Continuous Deployment:**\n- Vercel automatically deploys on push to your main branch\n- Pull requests create preview deployments\n- Configure branch deployments in Settings → Git",
                  "include": true
                },
                "option2": {
                  "content": "### Deploying to Railway\n\n**Prerequisites:**\n- Railway account\n- GitHub repository\n\n**Steps:**\n\n1. Install Railway CLI:\n```bash\nnpm install -g @railway/cli\n```\n\n2. Login to Railway:\n```bash\nrailway login\n```\n\n3. Initialize your project:\n```bash\nrailway init\n```\n\n4. Link to your Railway project:\n```bash\nrailway link\n```\n\n5. Deploy your application:\n```bash\nrailway up\n```\n\n**Configuration:**\n\nCreate a `railway.json` file in your project root:\n```json\n{\n  \"$schema\": \"https://railway.app/railway.schema.json\",\n  \"build\": {\n    \"builder\": \"NIXPACKS\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n**Environment Variables:**\n- Set in Railway dashboard under Variables tab\n- Or use CLI: `railway variables set KEY=value`\n\n**Health Checks:**\nRailway automatically monitors your application. Configure health check endpoint in your application:\n```typescript\napp.get('/health', (req, res) => {\n  res.status(200).json({ status: 'healthy' });\n});\n```\n\n**Custom Domain:**\n1. Go to Settings in Railway dashboard\n2. Navigate to Domains\n3. Add custom domain\n4. Update DNS records with provided values\n\n**Scaling:**\n- Railway supports horizontal and vertical scaling\n- Configure in Settings → Resources\n- Adjust memory and CPU allocation as needed",
                  "include": true
                }
              },
              "section2": {
                "option1": {
                  "content": "### No Database Deployment\n\nYour application is configured without a database backend. No additional database setup is required.\n\n**Static Content:**\n- All data is client-side only\n- Consider using environment variables for configuration\n- Perfect for static sites and applications without persistent data",
                  "include": true
                },
                "option2": {
                  "content": "### NeonDB Deployment\n\n**Prerequisites:**\n- NeonDB account (sign up at [neon.tech](https://neon.tech))\n\n**Steps:**\n\n1. Create a new project in NeonDB dashboard\n2. Copy your connection string from the dashboard\n3. Set environment variable in your deployment platform:\n   - `DATABASE_URL=your-neondb-connection-string`\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n3. Or use migrations:\n```bash\nnpx prisma migrate deploy\n```\n\n**Connection Pooling:**\nNeonDB provides built-in connection pooling. Use the pooled connection string for serverless environments.\n\n**Branching:**\nNeonDB supports database branching:\n- Create branches for preview deployments\n- Automatically create database branches per pull request\n- Configure in your CI/CD pipeline\n\n**Monitoring:**\n- Access database metrics in NeonDB dashboard\n- Set up alerts for connection limits\n- Monitor query performance",
                  "include": true
                },
                "option3": {
                  "content": "### Supabase Deployment\n\n**Prerequisites:**\n- Supabase account (sign up at [supabase.com](https://supabase.com))\n\n**Steps:**\n\n1. Create a new project in Supabase dashboard\n2. Note your project URL and anon key\n3. Set environment variables in your deployment platform:\n   - `VITE_SUPABASE_URL=your-project-url`\n   - `VITE_SUPABASE_ANON_KEY=your-anon-key`\n   - `DATABASE_URL=your-connection-string` (for Prisma)\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n**Row Level Security (RLS):**\nEnable RLS policies through Supabase dashboard:\n1. Navigate to Authentication → Policies\n2. Create policies for each table\n3. Test policies using the SQL editor\n\n**Storage Setup:**\nIf using Supabase Storage:\n1. Create storage buckets in dashboard\n2. Configure bucket policies\n3. Set CORS policies if needed\n\n**Realtime Setup:**\nEnable realtime for tables:\n1. Go to Database → Replication\n2. Enable replication for tables\n3. Configure realtime listeners in your application\n\n**Edge Functions (Optional):**\nDeploy edge functions for server-side logic:\n```bash\nsupabase functions deploy function-name\n```\n\n**Monitoring:**\n- Access logs in Supabase dashboard\n- Monitor API usage and database performance\n- Set up error tracking",
                  "include": true
                }
              },
              "section3": {
                "option1": {
                  "content": "### Core Environment Variables\n\nRequired for all deployments:\n\n```env\nNODE_ENV=production\nVITE_APP_URL=https://your-domain.com\n```",
                  "include": true
                },
                "option2": {
                  "content": "### Database Environment Variables\n\n**For NeonDB:**\n```env\nDATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/dbname\n```\n\n**For Supabase:**\n```env\nVITE_SUPABASE_URL=https://xxx.supabase.co\nVITE_SUPABASE_ANON_KEY=your-anon-key\nDATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres\n```",
                  "include": true
                },
                "option3": {
                  "content": "### Better Auth Environment Variables\n\n```env\nBETTER_AUTH_SECRET=your-secret-key-min-32-chars\nBETTER_AUTH_URL=https://your-domain.com\n```\n\nGenerate a secure secret:\n```bash\nopenssl rand -base64 32\n```",
                  "include": true
                },
                "option4": {
                  "content": "### Email Service (Resend)\n\n```env\nRESEND_API_KEY=re_xxxxxxxxxxxx\nVITE_FROM_EMAIL=noreply@yourdomain.com\n```\n\nGet your API key from [resend.com/api-keys](https://resend.com/api-keys)",
                  "include": true
                },
                "option5": {
                  "content": "### Stripe Payment Variables\n\n```env\nSTRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxx\nSTRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Get keys from Stripe Dashboard\n2. Set up webhook endpoint at `/api/webhooks/stripe`\n3. Configure webhook events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`",
                  "include": true
                },
                "option6": {
                  "content": "### PayPal Payment Variables\n\n```env\nPAYPAL_CLIENT_ID=xxxxxxxxxxxx\nPAYPAL_CLIENT_SECRET=xxxxxxxxxxxx\nPAYPAL_MODE=live\n```\n\n**Setup:**\n1. Create app in PayPal Developer Dashboard\n2. Get credentials from app settings\n3. Use `sandbox` mode for testing, `live` for production",
                  "include": true
                },
                "option7": {
                  "content": "### OpenRouter AI Variables\n\n```env\nOPENROUTER_API_KEY=sk-or-xxxxxxxxxxxx\n```\n\nGet your API key from [openrouter.ai/keys](https://openrouter.ai/keys)",
                  "include": true
                },
                "option8": {
                  "content": "### OAuth Provider Variables (Google)\n\n```env\nGOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Create project in Google Cloud Console\n2. Enable Google+ API\n3. Create OAuth 2.0 credentials\n4. Add authorized redirect URI: `https://your-domain.com/api/auth/callback/google`",
                  "include": true
                },
                "option9": {
                  "content": "### OAuth Provider Variables (GitHub)\n\n```env\nGITHUB_CLIENT_ID=xxxxxxxxxxxx\nGITHUB_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Go to GitHub Settings → Developer settings → OAuth Apps\n2. Create new OAuth App\n3. Set callback URL: `https://your-domain.com/api/auth/callback/github`",
                  "include": true
                },
                "option10": {
                  "content": "### OAuth Provider Variables (Apple)\n\n```env\nAPPLE_CLIENT_ID=com.yourapp.service\nAPPLE_TEAM_ID=xxxxxxxxxxxx\nAPPLE_KEY_ID=xxxxxxxxxxxx\nAPPLE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n**Setup:**\n1. Create Service ID in Apple Developer Account\n2. Configure Sign in with Apple\n3. Generate private key\n4. Set return URL: `https://your-domain.com/api/auth/callback/apple`",
                  "include": true
                }
              },
              "section4": {
                "option1": {
                  "content": "### Authentication Setup (Better Auth)\n\n**Database Schema:**\nBetter Auth creates necessary tables automatically on first run. Ensure your database is accessible.\n\n**Email Provider Setup:**\nConfigure Resend for email authentication:\n1. Verify your domain in Resend dashboard\n2. Add SPF and DKIM records to your DNS\n3. Test email delivery\n\n**Magic Link Setup:**\nMagic links are automatically configured if enabled. Ensure:\n- `BETTER_AUTH_URL` is set to your production domain\n- Email provider is configured correctly\n\n**Two-Factor Authentication:**\n2FA tables are created automatically. Users can enable in their account settings.\n\n**Session Management:**\n- Sessions are stored in database\n- Default expiration: 30 days\n- Refresh tokens enabled by default\n\n**Passkey Setup:**\nPasskeys require HTTPS:\n- Ensure your domain has valid SSL certificate\n- Passkeys stored securely in database\n- Works with biometric authentication",
                  "include": true
                },
                "option2": {
                  "content": "### Authentication Setup (Supabase Auth)\n\n**Email Templates:**\nCustomize email templates in Supabase dashboard:\n1. Navigate to Authentication → Email Templates\n2. Customize confirmation, magic link, and password reset emails\n3. Add your branding and domain\n\n**OAuth Providers:**\nConfigure in Supabase dashboard under Authentication → Providers:\n- Add client IDs and secrets\n- Set redirect URLs\n- Enable providers\n\n**Email Confirmation:**\nConfigure email confirmation settings:\n- Require email confirmation for new signups\n- Set confirmation token expiration\n- Configure redirect URLs\n\n**Password Requirements:**\nSet password policies:\n- Minimum length\n- Require special characters\n- Password history\n\n**Session Management:**\n- Sessions managed by Supabase\n- Configure JWT expiry\n- Set up refresh token rotation",
                  "include": true
                },
                "option3": {
                  "content": "### Organization Setup (Better Auth)\n\n**Super Admin Creation:**\nCreate your first super admin using the CLI:\n\n```bash\nnpm run create-super-admin\n```\n\nOr manually insert into database:\n```sql\nINSERT INTO users (email, role)\nVALUES ('admin@yourdomain.com', 'super_admin');\n```\n\n**Organization Creation:**\nSuper admins can create organizations through the admin panel or API.\n\n**Role Assignment:**\n- Super admins: Full system access\n- Org admins: Manage their organization and members\n- Org members: Read access to organization data\n\n**RLS Policies:**\nEnsure Row Level Security policies are enabled for organization tables:\n- Users can only see their organization data\n- Org admins can manage org members\n- Super admins have full access",
                  "include": true
                }
              },
              "section5": {
                "option1": {
                  "content": "### Stripe Webhook Configuration\n\n**Create Webhook Endpoint:**\n1. Go to Stripe Dashboard → Developers → Webhooks\n2. Add endpoint: `https://your-domain.com/api/webhooks/stripe`\n3. Select events to listen for:\n   - `checkout.session.completed`\n   - `customer.subscription.created`\n   - `customer.subscription.updated`\n   - `customer.subscription.deleted`\n   - `invoice.paid`\n   - `invoice.payment_failed`\n\n4. Copy the webhook signing secret\n5. Add to environment variables as `STRIPE_WEBHOOK_SECRET`\n\n**Test Webhook:**\n```bash\nstripe listen --forward-to localhost:3000/api/webhooks/stripe\n```\n\n**Webhook Handler:**\nVerify webhook signatures in your handler to ensure security.",
                  "include": true
                },
                "option2": {
                  "content": "### PayPal Webhook Configuration\n\n**Create Webhook:**\n1. Go to PayPal Developer Dashboard\n2. Select your app\n3. Add webhook URL: `https://your-domain.com/api/webhooks/paypal`\n4. Select events:\n   - `PAYMENT.CAPTURE.COMPLETED`\n   - `PAYMENT.CAPTURE.DENIED`\n   - `BILLING.SUBSCRIPTION.ACTIVATED`\n   - `BILLING.SUBSCRIPTION.CANCELLED`\n\n**Verify Webhooks:**\nPayPal provides webhook signature verification. Implement in your handler.",
                  "include": true
                },
                "option3": {
                  "content": "### Health Checks (Railway)\n\n**Configure Health Check Endpoint:**\nCreate endpoint at `/health` or `/api/health`:\n\n```typescript\nexport async function GET() {\n  return Response.json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n}\n```\n\n**Railway Configuration:**\nRailway automatically detects health checks. Configure in `railway.json`:\n\n```json\n{\n  \"deploy\": {\n    \"healthcheckPath\": \"/health\",\n    \"healthcheckTimeout\": 300\n  }\n}\n```",
                  "include": true
                },
                "option4": {
                  "content": "### Domain and SSL Setup (Vercel)\n\n**Add Custom Domain:**\n1. Go to project settings in Vercel\n2. Navigate to Domains tab\n3. Add your domain\n\n**DNS Configuration:**\nAdd these records to your DNS provider:\n- A record: `76.76.21.21`\n- AAAA record: `2606:4700:4700::1111`\n\nOr use CNAME:\n- CNAME: `cname.vercel-dns.com`\n\n**SSL Certificate:**\n- Vercel automatically provisions SSL certificates\n- Certificates auto-renew\n- HTTPS enforced by default\n\n**Redirect www to apex:**\nConfigure in Vercel dashboard or use redirect in `vercel.json`",
                  "include": true
                },
                "option5": {
                  "content": "### Domain and SSL Setup (Railway)\n\n**Add Custom Domain:**\n1. Go to your project settings\n2. Click on Domains\n3. Add custom domain\n\n**DNS Configuration:**\nPoint your domain to Railway:\n- CNAME record: `your-app.up.railway.app`\n- Or use A records provided by Railway\n\n**SSL Certificate:**\n- Railway automatically provisions Let's Encrypt certificates\n- Auto-renewal enabled\n- HTTPS enforced\n\n**Domain Verification:**\nMay require TXT record verification for some domains",
                  "include": true
                },
                "option6": {
                  "content": "### Email Deliverability (Resend)\n\n**Domain Verification:**\n1. Add domain in Resend dashboard\n2. Add DNS records:\n   - SPF: `v=spf1 include:resend.com ~all`\n   - DKIM: Provided by Resend\n   - DMARC: `v=DMARC1; p=none;`\n\n**Verification:**\n- Verify domain in Resend dashboard\n- Test email delivery\n- Monitor bounce rates\n\n**Best Practices:**\n- Use verified domain for production\n- Set up DMARC policy to `quarantine` or `reject` after testing\n- Monitor email reputation",
                  "include": true
                },
                "option7": {
                  "content": "### Monitoring and Logging\n\n**Application Monitoring:**\n- Set up error tracking (Sentry, LogRocket)\n- Monitor API response times\n- Track user analytics\n\n**Database Monitoring:**\n- Monitor connection pool usage\n- Set up slow query alerts\n- Track database size and growth\n\n**Platform Monitoring:**\n- Use platform-provided metrics\n- Set up uptime monitoring\n- Configure alerts for downtime\n\n**Log Aggregation:**\nConsider log aggregation service:\n- Logtail\n- Datadog\n- New Relic",
                  "include": true
                },
                "option8": {
                  "content": "### File Storage Setup (Supabase)\n\n**Create Storage Buckets:**\n1. Go to Supabase dashboard → Storage\n2. Create new bucket\n3. Configure bucket as public or private\n\n**Bucket Policies:**\nSet up access policies:\n```sql\nCREATE POLICY \"Public Access\"\nON storage.objects FOR SELECT\nUSING (bucket_id = 'public-bucket');\n\nCREATE POLICY \"Authenticated Upload\"\nON storage.objects FOR INSERT\nTO authenticated\nWITH CHECK (bucket_id = 'user-uploads');\n```\n\n**CORS Configuration:**\nConfigure CORS if accessing from different domain:\n1. Go to Storage → Configuration\n2. Add allowed origins\n3. Set allowed methods\n\n**CDN:**\nSupabase Storage includes CDN. Use transformation parameters for images:\n```\nhttps://xxx.supabase.co/storage/v1/object/public/bucket/image.jpg?width=500\n```",
                  "include": true
                },
                "option9": {
                  "content": "### Realtime Setup (Supabase)\n\n**Enable Replication:**\n1. Go to Database → Replication\n2. Enable for tables you want realtime updates\n3. Configure publication settings\n\n**Security:**\nSet up RLS policies for realtime:\n```sql\nALTER TABLE messages ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Users can see their messages\"\nON messages FOR SELECT\nUSING (auth.uid() = user_id);\n```\n\n**Client Configuration:**\nRealtime subscriptions are automatic with Supabase client. Ensure proper channel naming and filtering.\n\n**Monitoring:**\n- Monitor connection count\n- Check message delivery latency\n- Set up alerts for connection issues",
                  "include": true
                },
                "option10": {
                  "content": "### Post-Deployment Verification\n\n**Checklist:**\n- [ ] Application loads correctly at production URL\n- [ ] Database migrations applied successfully\n- [ ] All environment variables set correctly\n- [ ] Authentication flow works (sign up, login, logout)\n- [ ] Email delivery working\n- [ ] Payment processing functional (if applicable)\n- [ ] File uploads working (if applicable)\n- [ ] API endpoints responding correctly\n- [ ] SSL certificate valid and auto-renewing\n- [ ] Monitoring and logging configured\n- [ ] Error tracking set up\n- [ ] Backups configured\n- [ ] Domain DNS propagated\n\n**Load Testing:**\nTest your application under load:\n```bash\nnpm install -g artillery\nartillery quick --count 100 --num 10 https://your-domain.com\n```\n\n**Security Scan:**\n- Run security audit: `npm audit`\n- Check for exposed secrets\n- Verify CORS settings\n- Test rate limiting\n- Verify CSP headers",
                  "include": true
                }
              }
            },
            "include": true,
            "includeInSidebar": false,
            "isDynamicRobotsFile": false
          },
          {
            "id": "code-files",
            "name": "code-files",
            "displayName": "Code files",
            "type": "directory",
            "path": "code-files",
            "urlPath": "/code-files",
            "include": true,
            "includeInSidebar": true,
            "children": []
          }
        ]
      },
      "flatIndex": {
        "": {
          "id": "root",
          "name": "root",
          "displayName": "Root",
          "type": "directory",
          "path": "",
          "urlPath": "/",
          "include": true,
          "children": [
            {
              "id": "readme",
              "name": "readme",
              "displayName": "README",
              "type": "file",
              "order": 1,
              "path": "readme",
              "urlPath": "/readme",
              "content": "<!-- component-READMEComponent -->\n",
              "components": [
                {
                  "id": "component-READMEComponent",
                  "name": "READMEComponent",
                  "displayName": "READMEComponent",
                  "type": "component",
                  "path": "readme.component.READMEComponent",
                  "urlPath": "",
                  "componentId": "READMEComponent",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "theme",
              "name": "theme",
              "displayName": "Theme",
              "type": "file",
              "order": 2,
              "path": "theme",
              "urlPath": "/theme",
              "content": "# Theme configuration\n\nSelect and customize your theme! These styles will be applied to every component in your generated web app.\n\n<!-- component-ThemeConfiguration -->\n",
              "components": [
                {
                  "id": "component-ThemeConfiguration",
                  "name": "ThemeConfiguration",
                  "displayName": "ThemeConfiguration",
                  "type": "component",
                  "path": "theme.component.ThemeConfiguration",
                  "urlPath": "",
                  "componentId": "ThemeConfiguration",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "app-directory",
              "name": "app-directory",
              "displayName": "App Directory",
              "type": "file",
              "order": 3,
              "path": "app-directory",
              "urlPath": "/app-directory",
              "content": "# App Directory\n\n<!-- component-LayoutAndStructure -->\n",
              "components": [
                {
                  "id": "component-LayoutAndStructure",
                  "name": "LayoutAndStructure",
                  "displayName": "LayoutAndStructure",
                  "type": "component",
                  "path": "app-directory.component.LayoutAndStructure",
                  "urlPath": "",
                  "componentId": "LayoutAndStructure",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "database",
              "name": "database",
              "displayName": "Database",
              "type": "file",
              "order": 4,
              "path": "database",
              "urlPath": "/database",
              "content": "# Database\n\n<!-- component-DatabaseConfiguration -->\n",
              "components": [
                {
                  "id": "component-DatabaseConfiguration",
                  "name": "DatabaseConfiguration",
                  "displayName": "DatabaseConfiguration",
                  "type": "component",
                  "path": "database.component.DatabaseConfiguration",
                  "urlPath": "",
                  "componentId": "DatabaseConfiguration",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "starter-kit",
              "name": "starter-kit",
              "displayName": "Starter Kit",
              "type": "file",
              "order": 5,
              "path": "starter-kit",
              "urlPath": "/starter-kit",
              "content": "# Starter Kit\n\n<!-- component-NextStepsComponent -->\n",
              "components": [
                {
                  "id": "component-NextStepsComponent",
                  "name": "NextStepsComponent",
                  "displayName": "NextStepsComponent",
                  "type": "component",
                  "path": "starter-kit.component.NextStepsComponent",
                  "urlPath": "",
                  "componentId": "NextStepsComponent",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "extensions",
              "name": "extensions",
              "displayName": "Extensions",
              "type": "file",
              "order": 6,
              "path": "extensions",
              "urlPath": "/extensions",
              "content": "# Extensions\n\n<!-- component-ExtensionsComponent -->\n",
              "components": [
                {
                  "id": "component-ExtensionsComponent",
                  "name": "ExtensionsComponent",
                  "displayName": "ExtensionsComponent",
                  "type": "component",
                  "path": "extensions.component.ExtensionsComponent",
                  "urlPath": "",
                  "componentId": "ExtensionsComponent",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "10-util",
              "name": "10-util",
              "displayName": " 10-util",
              "type": "file",
              "path": "10-util",
              "urlPath": "/10-util",
              "content": "# File examples\n\nThis guide provides code examples and patterns for organizing your application code following best practices.\n\n## Types file example\n\nType definitions establish contracts and ensure type safety throughout your application.\n\n<!-- section-1 -->\n\n## Stores file example\n\nZustand stores manage application state with persistence and middleware support.\n\n<!-- section-2 -->\n\n## Actions file example\n\nServer actions handle data mutations and communicate with your backend services.\n\n<!-- section-3 -->\n\n## Hooks file example\n\nReact Query hooks manage data fetching, caching, and synchronization.\n\n<!-- section-4 -->\n\n## Utility files\n\nUtility modules provide reusable helper functions and configurations.\n\n<!-- section-5 -->\n",
              "components": [],
              "sections": {
                "section1": {
                  "option1": {
                    "content": "**Types file example (Client-side):**\n\n```typescript\nexport interface AppState {\n  data: any[];\n  setData: (data: any[]) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n  reset: () => void;\n}\n\nexport interface ApiData {\n  id: string;\n  name: string;\n  value: number;\n}\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "**Types file example (With Database):**\n\n```typescript\nimport { User } from \"@prisma/client\";\n\nexport interface AppState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  tempEmail?: string;\n  setTempEmail: (tempEmail: string) => void;\n  reset: () => void;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n```",
                    "include": true
                  }
                },
                "section2": {
                  "option1": {
                    "content": "### Store Example (With Database)\n\n```typescript\nimport { UserRole } from \"@prisma/client\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { AppState, ExtendedUser, RedirectState } from \"./layout.types\";\n\nconst initialState = {\n  user: null,\n};\n\nexport const useAppStore = create<AppState>()((set) => ({\n  ...initialState,\n  setUser: (user) => set({ user, profile: user?.profile || null }),\n  reset: () => set(initialState),\n}));\n```\n\n**Usage with React Query:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\nimport { useGetUser } from \"@/hooks/user.hooks\";\n\nexport const UserProfile = () => {\n  const setUser = useAppStore((state) => state.setUser);\n  const user = useAppStore((state) => state.user);\n\n  const { isLoading } = useGetUser({\n    onSuccess: (data) => setUser(data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return <div>Welcome, {user?.name}</div>;\n};\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "### Store Example (Without Database)\n\n```typescript\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface AppState {\n  theme: \"light\" | \"dark\";\n  setTheme: (theme: \"light\" | \"dark\") => void;\n  sidebarOpen: boolean;\n  toggleSidebar: () => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set) => ({\n      theme: \"light\",\n      setTheme: (theme) => set({ theme }),\n      sidebarOpen: true,\n      toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),\n    }),\n    {\n      name: \"app-storage\",\n    }\n  )\n);\n```\n\n**Usage:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useAppStore();\n\n  return (\n    <button onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}>\n      Toggle Theme\n    </button>\n  );\n};\n```",
                    "include": true
                  }
                },
                "section3": {
                  "option1": {
                    "content": "**No actions file needed for client-side only applications.**\n\nUse API routes or external API calls directly in hooks with React Query.",
                    "include": true
                  },
                  "option2": {
                    "content": "**Actions file example (NeonDB + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "**Actions file example (Supabase + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                    "include": true
                  },
                  "option4": {
                    "content": "**Actions file example (Supabase Auth Only):**\n\n```typescript\n\"use server\";\n\nimport { createClient } from \"@/lib/supabase/server\";\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\n\nexport const getUserAction = async (): Promise<ActionResponse<any>> => {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return getActionResponse({ error: authError?.message || \"Not authenticated\" });\n    }\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (error) throw error;\n\n    return getActionResponse({ data });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                    "include": true
                  }
                },
                "section4": {
                  "option1": {
                    "content": "**Hooks file example (Client-side):**\n\n```typescript\n\"use client\";\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetData = () => {\n  const { setData } = useAppStore();\n\n  return useQuery({\n    queryKey: [\"data\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/data\");\n      if (!response.ok) throw new Error(\"Failed to fetch\");\n      const data = await response.json();\n      setData(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useCreateData = () => {\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (newData: any) => {\n      const response = await fetch(\"/api/data\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newData),\n      });\n      if (!response.ok) throw new Error(\"Failed to create\");\n      return response.json();\n    },\n    onSuccess: () => {\n      router.refresh();\n    },\n  });\n};\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "**Hooks file example (Better Auth):**\n\n```typescript\n\"use client\";\n\nimport { configuration, privatePaths } from \"@/configuration\";\nimport { signIn } from \"@/lib/auth-client\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Toast } from \"../(components)/Toast\";\nimport { CypressDataAttributes } from \"../../types/cypress.types\";\nimport { useAppStore, useRedirectStore } from \"../layout.stores\";\nimport { SignInData } from \"../layout.types\";\nimport { getUserAction } from \"./layout.actions\";\nimport { useAuthLayoutStore } from \"./layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const { reset: resetAuthLayout } = useAuthLayoutStore();\n  const { setUserData } = useRedirectStore();\n  const pathname = usePathname();\n\n  const router = useRouter();\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const { data, error } = await getUserAction();\n      if (!data || error) {\n        if (privatePaths.includes(pathname)) {\n          router.push(configuration.paths.signIn);\n        }\n        reset();\n        resetAuthLayout();\n      }\n      if (error) throw error;\n      setUser(data ?? null);\n\n      setUserData(data);\n\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser, setTempEmail } = useAppStore();\n  const { setUserData } = useRedirectStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (signInData: SignInData) => {\n      const { error } = await signIn.email({\n        email: signInData.email,\n        password: signInData.password,\n      });\n\n      if (error?.status === 403) setTempEmail(signInData.email);\n\n      if (error) throw error;\n      const { data: userData, error: userError } = await getUserAction();\n\n      if (userError) throw new Error(userError);\n\n      return userData;\n    },\n    onSuccess: (data) => {\n      if (data) {\n        setUser(data);\n        setUserData(data);\n      }\n      toast.custom(() => (\n        <Toast\n          variant=\"success\"\n          title=\"Success\"\n          message=\"Successfully signed in\"\n          data-cy={CypressDataAttributes.TOAST_SUCCESS}\n        />\n      ));\n      if (data && !data.profile?.isOnboardingComplete) {\n        router.push(configuration.paths.onboarding);\n        return;\n      }\n      router.push(configuration.paths.home);\n    },\n    onError: (\n      error: {\n        code?: string | undefined;\n        message?: string | undefined;\n        status: number;\n        statusText: string;\n      } | null\n    ) => {\n      if (error?.status === 403) return;\n      toast.custom(() => (\n        <Toast\n          variant=\"error\"\n          title=\"Sign In Failed\"\n          message={error?.message || \"Failed to sign in\"}\n          data-cy={CypressDataAttributes.TOAST_ERROR}\n        />\n      ));\n    },\n  });\n};\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "**Hooks file example (Supabase Auth):**\n\n```typescript\n\"use client\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const router = useRouter();\n\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        reset();\n        return null;\n      }\n\n      const { data, error } = await supabase\n        .from('users')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (error) throw error;\n\n      setUser(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser } = useAppStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const supabase = createClient();\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) throw error;\n\n      return data.user;\n    },\n    onSuccess: (user) => {\n      setUser(user);\n      router.push('/dashboard');\n    },\n  });\n};\n```",
                    "include": true
                  }
                },
                "section5": {
                  "option1": {
                    "content": "**No utility files needed for client-side only applications.**",
                    "include": true
                  },
                  "option2": {
                    "content": "**Utility files (Better Auth + Prisma):**\n\n## `prisma-rls.ts`:\n\n```typescript\nimport { Prisma } from \"@prisma/client\";\nimport { prisma } from \"./prisma\";\n\nfunction forUser(userId: string, tenantId?: string) {\n  return Prisma.defineExtension((prisma) =>\n    prisma.$extends({\n      query: {\n        $allModels: {\n          async $allOperations({ args, query }) {\n            if (tenantId) {\n              const [, , result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                prisma.$executeRaw`SELECT set_config('app.current_tenant_id', ${tenantId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            } else {\n              const [, result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            }\n          },\n        },\n      },\n    })\n  );\n}\n\nexport function createRLSClient(userId: string, tenantId?: string) {\n  return prisma.$extends(forUser(userId, tenantId));\n}\n```\n\n## `auth.util.ts`\n\n```typescript\nimport { User } from \"better-auth\";\nimport jwt from \"jsonwebtoken\";\nimport { headers } from \"next/headers\";\nimport { auth, Session } from \"./auth\";\nimport { createRLSClient } from \"./prisma-rls\";\n\nexport async function getAuthenticatedClient(user?: User): Promise<{\n  db: ReturnType<typeof createRLSClient>;\n  session: Session | null;\n}> {\n  const headersList = await headers();\n\n  const session = await auth.api.getSession({\n    headers: headersList,\n  });\n\n  const userId = user?.id || session?.user.id;\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const db = createRLSClient(userId);\n\n  return { db, session };\n}\n\nexport function generateSupabaseJWT(userId: string, userRole: string): string {\n  const jwtSecret = process.env.SUPABASE_JWT_SECRET;\n\n  if (!jwtSecret) {\n    throw new Error(\"SUPABASE_JWT_SECRET is required for JWT generation\");\n  }\n\n  const payload = {\n    aud: \"authenticated\",\n    exp: Math.floor(Date.now() / 1000) + 60 * 60,\n    sub: userId,\n    email: `${userId}@better-auth.local`,\n    role: \"authenticated\",\n    user_metadata: {\n      better_auth_user_id: userId,\n      better_auth_role: userRole,\n    },\n    app_metadata: {\n      provider: \"better-auth\",\n      providers: [\"better-auth\"],\n    },\n  };\n\n  return jwt.sign(payload, jwtSecret, {\n    algorithm: \"HS256\",\n  });\n}\n```\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "**Utility files (Supabase):**\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                    "include": true
                  }
                }
              },
              "include": true,
              "includeInSidebar": false,
              "isDynamicRobotsFile": false
            },
            {
              "id": "6-robots",
              "name": "6-robots",
              "displayName": " 6-ROBOTS",
              "type": "file",
              "path": "6-robots",
              "urlPath": "/6-robots",
              "content": "# ROBOTS.md\n\nThis file provides guidance to AI assistants when working with code in this repository.\n\n### Tech stack\n\n- **Next.js 15** with App Router architecture\n- **TypeScript** for type safety\n- **TailwindCSS & Shadcn** for styling\n\n<!-- section-1 -->\n\n# General rules:\n\n- Don't include any comments in any files.\n- All errors should be thrown - no \"fallback\" functionality\n- Import \"cn\" from \"@/lib/utils\" to concatenate classes.\n\n# File Organization and Naming Conventions\n\n- Types and store files alongside ancestor files\n- Actions and hooks files alongside descendent files\n\n\\`\\`\\`\n\n# Hook, action, store and type patterns\n\n<!-- section-2 -->\n\n# Console.logging\n\nAll logging should be performed using the \\`conditionalLog\\` function exported from \\`lib/log.utils.ts\\`\nThe \\`NEXT_PUBLIC_LOG_LABELS\\` variable in \\`.env.local\\` stores a comma separated string of log labels. Logs are returned if \\`NEXT_PUBLIC_LOG_LABELS=\"all\"\\`, or if \\`NEXT_PUBLIC_LOG_LABELS\\` includes the label arg in \\`conditionalLog\\`.\n\n\\`\\`\\`\n",
              "components": [],
              "sections": {
                "section1": {
                  "option1": {
                    "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for authentication and real-time features\n\n# Database Architecture\n\nUse Supabase as the primary database and authentication provider.",
                    "include": true
                  },
                  "option2": {
                    "content": "- **Postgres & Prisma** for database and ORM\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse NeonDB for serverless Postgres with Prisma ORM and Better-Auth for authentication.",
                    "include": true
                  },
                  "option3": {
                    "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for real-time features\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse both Supabase and NeonDB based on feature requirements. Use Better-Auth for authentication with NeonDB as the primary database.",
                    "include": true
                  },
                  "option4": {
                    "content": "# Database Architecture\n\nNo database required - this is a frontend-only application.",
                    "include": true
                  }
                },
                "section2": {
                  "option1": {
                    "content": "DB <-> Supabase Client <-> hook <-> store\n\n- Supabase client queries are called directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store (if applicable).\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `@/supabase/types`.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                    "include": true
                  },
                  "option2": {
                    "content": "DB <-> Action <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `\"@prisma/client\"`\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, action, store or type files. The file also contains the `prisma-rls.ts` and `action.util.ts` files for reference.",
                    "include": true
                  },
                  "option3": {
                    "content": "DB <-> Action/Supabase Client <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient for NeonDB.\n- Supabase client queries are called directly in react-query hooks for real-time features.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- Database types should be defined from `\"@prisma/client\"` for NeonDB and `@/supabase/types` for Supabase.",
                    "include": true
                  },
                  "option4": {
                    "content": "Component <-> hook <-> store\n\n- No database interactions - frontend only.\n- API calls (if any) are made directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All types should be defined in `.types.ts` files alongside components.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                    "include": true
                  }
                }
              },
              "include": true,
              "includeInSidebar": false,
              "isDynamicRobotsFile": true,
              "visibleAfterPage": "readme"
            },
            {
              "id": "7-deployment",
              "name": "7-deployment",
              "displayName": " 7-Deployment",
              "type": "file",
              "path": "7-deployment",
              "urlPath": "/7-deployment",
              "content": "# Deployment Instructions\n\nThis guide provides step-by-step instructions for deploying your application based on your selected technology stack.\n\n## Platform Setup\n\n<!-- section-1 -->\n\n## Database Deployment\n\n<!-- section-2 -->\n\n## Environment Variables\n\n<!-- section-3 -->\n\n## Authentication Setup\n\n<!-- section-4 -->\n\n## Post-Deployment Tasks\n\n<!-- section-5 -->\n",
              "components": [],
              "sections": {
                "section1": {
                  "option1": {
                    "content": "### Deploying to Vercel\n\n**Prerequisites:**\n- Vercel account\n- GitHub repository connected to Vercel\n\n**Steps:**\n\n1. Install Vercel CLI:\n```bash\nnpm install -g vercel\n```\n\n2. Login to Vercel:\n```bash\nvercel login\n```\n\n3. Deploy your application:\n```bash\nvercel\n```\n\n4. For production deployment:\n```bash\nvercel --prod\n```\n\n**Configuration:**\n- Vercel automatically detects Next.js projects\n- Environment variables should be set in the Vercel dashboard under Settings → Environment Variables\n- Build command: `npm run build`\n- Output directory: `.next`\n- Install command: `npm install`\n\n**Custom Domain:**\n1. Go to your project settings in Vercel dashboard\n2. Navigate to Domains\n3. Add your custom domain\n4. Update your DNS records as instructed\n\n**Continuous Deployment:**\n- Vercel automatically deploys on push to your main branch\n- Pull requests create preview deployments\n- Configure branch deployments in Settings → Git",
                    "include": true
                  },
                  "option2": {
                    "content": "### Deploying to Railway\n\n**Prerequisites:**\n- Railway account\n- GitHub repository\n\n**Steps:**\n\n1. Install Railway CLI:\n```bash\nnpm install -g @railway/cli\n```\n\n2. Login to Railway:\n```bash\nrailway login\n```\n\n3. Initialize your project:\n```bash\nrailway init\n```\n\n4. Link to your Railway project:\n```bash\nrailway link\n```\n\n5. Deploy your application:\n```bash\nrailway up\n```\n\n**Configuration:**\n\nCreate a `railway.json` file in your project root:\n```json\n{\n  \"$schema\": \"https://railway.app/railway.schema.json\",\n  \"build\": {\n    \"builder\": \"NIXPACKS\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n**Environment Variables:**\n- Set in Railway dashboard under Variables tab\n- Or use CLI: `railway variables set KEY=value`\n\n**Health Checks:**\nRailway automatically monitors your application. Configure health check endpoint in your application:\n```typescript\napp.get('/health', (req, res) => {\n  res.status(200).json({ status: 'healthy' });\n});\n```\n\n**Custom Domain:**\n1. Go to Settings in Railway dashboard\n2. Navigate to Domains\n3. Add custom domain\n4. Update DNS records with provided values\n\n**Scaling:**\n- Railway supports horizontal and vertical scaling\n- Configure in Settings → Resources\n- Adjust memory and CPU allocation as needed",
                    "include": true
                  }
                },
                "section2": {
                  "option1": {
                    "content": "### No Database Deployment\n\nYour application is configured without a database backend. No additional database setup is required.\n\n**Static Content:**\n- All data is client-side only\n- Consider using environment variables for configuration\n- Perfect for static sites and applications without persistent data",
                    "include": true
                  },
                  "option2": {
                    "content": "### NeonDB Deployment\n\n**Prerequisites:**\n- NeonDB account (sign up at [neon.tech](https://neon.tech))\n\n**Steps:**\n\n1. Create a new project in NeonDB dashboard\n2. Copy your connection string from the dashboard\n3. Set environment variable in your deployment platform:\n   - `DATABASE_URL=your-neondb-connection-string`\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n3. Or use migrations:\n```bash\nnpx prisma migrate deploy\n```\n\n**Connection Pooling:**\nNeonDB provides built-in connection pooling. Use the pooled connection string for serverless environments.\n\n**Branching:**\nNeonDB supports database branching:\n- Create branches for preview deployments\n- Automatically create database branches per pull request\n- Configure in your CI/CD pipeline\n\n**Monitoring:**\n- Access database metrics in NeonDB dashboard\n- Set up alerts for connection limits\n- Monitor query performance",
                    "include": true
                  },
                  "option3": {
                    "content": "### Supabase Deployment\n\n**Prerequisites:**\n- Supabase account (sign up at [supabase.com](https://supabase.com))\n\n**Steps:**\n\n1. Create a new project in Supabase dashboard\n2. Note your project URL and anon key\n3. Set environment variables in your deployment platform:\n   - `VITE_SUPABASE_URL=your-project-url`\n   - `VITE_SUPABASE_ANON_KEY=your-anon-key`\n   - `DATABASE_URL=your-connection-string` (for Prisma)\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n**Row Level Security (RLS):**\nEnable RLS policies through Supabase dashboard:\n1. Navigate to Authentication → Policies\n2. Create policies for each table\n3. Test policies using the SQL editor\n\n**Storage Setup:**\nIf using Supabase Storage:\n1. Create storage buckets in dashboard\n2. Configure bucket policies\n3. Set CORS policies if needed\n\n**Realtime Setup:**\nEnable realtime for tables:\n1. Go to Database → Replication\n2. Enable replication for tables\n3. Configure realtime listeners in your application\n\n**Edge Functions (Optional):**\nDeploy edge functions for server-side logic:\n```bash\nsupabase functions deploy function-name\n```\n\n**Monitoring:**\n- Access logs in Supabase dashboard\n- Monitor API usage and database performance\n- Set up error tracking",
                    "include": true
                  }
                },
                "section3": {
                  "option1": {
                    "content": "### Core Environment Variables\n\nRequired for all deployments:\n\n```env\nNODE_ENV=production\nVITE_APP_URL=https://your-domain.com\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "### Database Environment Variables\n\n**For NeonDB:**\n```env\nDATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/dbname\n```\n\n**For Supabase:**\n```env\nVITE_SUPABASE_URL=https://xxx.supabase.co\nVITE_SUPABASE_ANON_KEY=your-anon-key\nDATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "### Better Auth Environment Variables\n\n```env\nBETTER_AUTH_SECRET=your-secret-key-min-32-chars\nBETTER_AUTH_URL=https://your-domain.com\n```\n\nGenerate a secure secret:\n```bash\nopenssl rand -base64 32\n```",
                    "include": true
                  },
                  "option4": {
                    "content": "### Email Service (Resend)\n\n```env\nRESEND_API_KEY=re_xxxxxxxxxxxx\nVITE_FROM_EMAIL=noreply@yourdomain.com\n```\n\nGet your API key from [resend.com/api-keys](https://resend.com/api-keys)",
                    "include": true
                  },
                  "option5": {
                    "content": "### Stripe Payment Variables\n\n```env\nSTRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxx\nSTRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Get keys from Stripe Dashboard\n2. Set up webhook endpoint at `/api/webhooks/stripe`\n3. Configure webhook events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`",
                    "include": true
                  },
                  "option6": {
                    "content": "### PayPal Payment Variables\n\n```env\nPAYPAL_CLIENT_ID=xxxxxxxxxxxx\nPAYPAL_CLIENT_SECRET=xxxxxxxxxxxx\nPAYPAL_MODE=live\n```\n\n**Setup:**\n1. Create app in PayPal Developer Dashboard\n2. Get credentials from app settings\n3. Use `sandbox` mode for testing, `live` for production",
                    "include": true
                  },
                  "option7": {
                    "content": "### OpenRouter AI Variables\n\n```env\nOPENROUTER_API_KEY=sk-or-xxxxxxxxxxxx\n```\n\nGet your API key from [openrouter.ai/keys](https://openrouter.ai/keys)",
                    "include": true
                  },
                  "option8": {
                    "content": "### OAuth Provider Variables (Google)\n\n```env\nGOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Create project in Google Cloud Console\n2. Enable Google+ API\n3. Create OAuth 2.0 credentials\n4. Add authorized redirect URI: `https://your-domain.com/api/auth/callback/google`",
                    "include": true
                  },
                  "option9": {
                    "content": "### OAuth Provider Variables (GitHub)\n\n```env\nGITHUB_CLIENT_ID=xxxxxxxxxxxx\nGITHUB_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Go to GitHub Settings → Developer settings → OAuth Apps\n2. Create new OAuth App\n3. Set callback URL: `https://your-domain.com/api/auth/callback/github`",
                    "include": true
                  },
                  "option10": {
                    "content": "### OAuth Provider Variables (Apple)\n\n```env\nAPPLE_CLIENT_ID=com.yourapp.service\nAPPLE_TEAM_ID=xxxxxxxxxxxx\nAPPLE_KEY_ID=xxxxxxxxxxxx\nAPPLE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n**Setup:**\n1. Create Service ID in Apple Developer Account\n2. Configure Sign in with Apple\n3. Generate private key\n4. Set return URL: `https://your-domain.com/api/auth/callback/apple`",
                    "include": true
                  }
                },
                "section4": {
                  "option1": {
                    "content": "### Authentication Setup (Better Auth)\n\n**Database Schema:**\nBetter Auth creates necessary tables automatically on first run. Ensure your database is accessible.\n\n**Email Provider Setup:**\nConfigure Resend for email authentication:\n1. Verify your domain in Resend dashboard\n2. Add SPF and DKIM records to your DNS\n3. Test email delivery\n\n**Magic Link Setup:**\nMagic links are automatically configured if enabled. Ensure:\n- `BETTER_AUTH_URL` is set to your production domain\n- Email provider is configured correctly\n\n**Two-Factor Authentication:**\n2FA tables are created automatically. Users can enable in their account settings.\n\n**Session Management:**\n- Sessions are stored in database\n- Default expiration: 30 days\n- Refresh tokens enabled by default\n\n**Passkey Setup:**\nPasskeys require HTTPS:\n- Ensure your domain has valid SSL certificate\n- Passkeys stored securely in database\n- Works with biometric authentication",
                    "include": true
                  },
                  "option2": {
                    "content": "### Authentication Setup (Supabase Auth)\n\n**Email Templates:**\nCustomize email templates in Supabase dashboard:\n1. Navigate to Authentication → Email Templates\n2. Customize confirmation, magic link, and password reset emails\n3. Add your branding and domain\n\n**OAuth Providers:**\nConfigure in Supabase dashboard under Authentication → Providers:\n- Add client IDs and secrets\n- Set redirect URLs\n- Enable providers\n\n**Email Confirmation:**\nConfigure email confirmation settings:\n- Require email confirmation for new signups\n- Set confirmation token expiration\n- Configure redirect URLs\n\n**Password Requirements:**\nSet password policies:\n- Minimum length\n- Require special characters\n- Password history\n\n**Session Management:**\n- Sessions managed by Supabase\n- Configure JWT expiry\n- Set up refresh token rotation",
                    "include": true
                  },
                  "option3": {
                    "content": "### Organization Setup (Better Auth)\n\n**Super Admin Creation:**\nCreate your first super admin using the CLI:\n\n```bash\nnpm run create-super-admin\n```\n\nOr manually insert into database:\n```sql\nINSERT INTO users (email, role)\nVALUES ('admin@yourdomain.com', 'super_admin');\n```\n\n**Organization Creation:**\nSuper admins can create organizations through the admin panel or API.\n\n**Role Assignment:**\n- Super admins: Full system access\n- Org admins: Manage their organization and members\n- Org members: Read access to organization data\n\n**RLS Policies:**\nEnsure Row Level Security policies are enabled for organization tables:\n- Users can only see their organization data\n- Org admins can manage org members\n- Super admins have full access",
                    "include": true
                  }
                },
                "section5": {
                  "option1": {
                    "content": "### Stripe Webhook Configuration\n\n**Create Webhook Endpoint:**\n1. Go to Stripe Dashboard → Developers → Webhooks\n2. Add endpoint: `https://your-domain.com/api/webhooks/stripe`\n3. Select events to listen for:\n   - `checkout.session.completed`\n   - `customer.subscription.created`\n   - `customer.subscription.updated`\n   - `customer.subscription.deleted`\n   - `invoice.paid`\n   - `invoice.payment_failed`\n\n4. Copy the webhook signing secret\n5. Add to environment variables as `STRIPE_WEBHOOK_SECRET`\n\n**Test Webhook:**\n```bash\nstripe listen --forward-to localhost:3000/api/webhooks/stripe\n```\n\n**Webhook Handler:**\nVerify webhook signatures in your handler to ensure security.",
                    "include": true
                  },
                  "option2": {
                    "content": "### PayPal Webhook Configuration\n\n**Create Webhook:**\n1. Go to PayPal Developer Dashboard\n2. Select your app\n3. Add webhook URL: `https://your-domain.com/api/webhooks/paypal`\n4. Select events:\n   - `PAYMENT.CAPTURE.COMPLETED`\n   - `PAYMENT.CAPTURE.DENIED`\n   - `BILLING.SUBSCRIPTION.ACTIVATED`\n   - `BILLING.SUBSCRIPTION.CANCELLED`\n\n**Verify Webhooks:**\nPayPal provides webhook signature verification. Implement in your handler.",
                    "include": true
                  },
                  "option3": {
                    "content": "### Health Checks (Railway)\n\n**Configure Health Check Endpoint:**\nCreate endpoint at `/health` or `/api/health`:\n\n```typescript\nexport async function GET() {\n  return Response.json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n}\n```\n\n**Railway Configuration:**\nRailway automatically detects health checks. Configure in `railway.json`:\n\n```json\n{\n  \"deploy\": {\n    \"healthcheckPath\": \"/health\",\n    \"healthcheckTimeout\": 300\n  }\n}\n```",
                    "include": true
                  },
                  "option4": {
                    "content": "### Domain and SSL Setup (Vercel)\n\n**Add Custom Domain:**\n1. Go to project settings in Vercel\n2. Navigate to Domains tab\n3. Add your domain\n\n**DNS Configuration:**\nAdd these records to your DNS provider:\n- A record: `76.76.21.21`\n- AAAA record: `2606:4700:4700::1111`\n\nOr use CNAME:\n- CNAME: `cname.vercel-dns.com`\n\n**SSL Certificate:**\n- Vercel automatically provisions SSL certificates\n- Certificates auto-renew\n- HTTPS enforced by default\n\n**Redirect www to apex:**\nConfigure in Vercel dashboard or use redirect in `vercel.json`",
                    "include": true
                  },
                  "option5": {
                    "content": "### Domain and SSL Setup (Railway)\n\n**Add Custom Domain:**\n1. Go to your project settings\n2. Click on Domains\n3. Add custom domain\n\n**DNS Configuration:**\nPoint your domain to Railway:\n- CNAME record: `your-app.up.railway.app`\n- Or use A records provided by Railway\n\n**SSL Certificate:**\n- Railway automatically provisions Let's Encrypt certificates\n- Auto-renewal enabled\n- HTTPS enforced\n\n**Domain Verification:**\nMay require TXT record verification for some domains",
                    "include": true
                  },
                  "option6": {
                    "content": "### Email Deliverability (Resend)\n\n**Domain Verification:**\n1. Add domain in Resend dashboard\n2. Add DNS records:\n   - SPF: `v=spf1 include:resend.com ~all`\n   - DKIM: Provided by Resend\n   - DMARC: `v=DMARC1; p=none;`\n\n**Verification:**\n- Verify domain in Resend dashboard\n- Test email delivery\n- Monitor bounce rates\n\n**Best Practices:**\n- Use verified domain for production\n- Set up DMARC policy to `quarantine` or `reject` after testing\n- Monitor email reputation",
                    "include": true
                  },
                  "option7": {
                    "content": "### Monitoring and Logging\n\n**Application Monitoring:**\n- Set up error tracking (Sentry, LogRocket)\n- Monitor API response times\n- Track user analytics\n\n**Database Monitoring:**\n- Monitor connection pool usage\n- Set up slow query alerts\n- Track database size and growth\n\n**Platform Monitoring:**\n- Use platform-provided metrics\n- Set up uptime monitoring\n- Configure alerts for downtime\n\n**Log Aggregation:**\nConsider log aggregation service:\n- Logtail\n- Datadog\n- New Relic",
                    "include": true
                  },
                  "option8": {
                    "content": "### File Storage Setup (Supabase)\n\n**Create Storage Buckets:**\n1. Go to Supabase dashboard → Storage\n2. Create new bucket\n3. Configure bucket as public or private\n\n**Bucket Policies:**\nSet up access policies:\n```sql\nCREATE POLICY \"Public Access\"\nON storage.objects FOR SELECT\nUSING (bucket_id = 'public-bucket');\n\nCREATE POLICY \"Authenticated Upload\"\nON storage.objects FOR INSERT\nTO authenticated\nWITH CHECK (bucket_id = 'user-uploads');\n```\n\n**CORS Configuration:**\nConfigure CORS if accessing from different domain:\n1. Go to Storage → Configuration\n2. Add allowed origins\n3. Set allowed methods\n\n**CDN:**\nSupabase Storage includes CDN. Use transformation parameters for images:\n```\nhttps://xxx.supabase.co/storage/v1/object/public/bucket/image.jpg?width=500\n```",
                    "include": true
                  },
                  "option9": {
                    "content": "### Realtime Setup (Supabase)\n\n**Enable Replication:**\n1. Go to Database → Replication\n2. Enable for tables you want realtime updates\n3. Configure publication settings\n\n**Security:**\nSet up RLS policies for realtime:\n```sql\nALTER TABLE messages ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Users can see their messages\"\nON messages FOR SELECT\nUSING (auth.uid() = user_id);\n```\n\n**Client Configuration:**\nRealtime subscriptions are automatic with Supabase client. Ensure proper channel naming and filtering.\n\n**Monitoring:**\n- Monitor connection count\n- Check message delivery latency\n- Set up alerts for connection issues",
                    "include": true
                  },
                  "option10": {
                    "content": "### Post-Deployment Verification\n\n**Checklist:**\n- [ ] Application loads correctly at production URL\n- [ ] Database migrations applied successfully\n- [ ] All environment variables set correctly\n- [ ] Authentication flow works (sign up, login, logout)\n- [ ] Email delivery working\n- [ ] Payment processing functional (if applicable)\n- [ ] File uploads working (if applicable)\n- [ ] API endpoints responding correctly\n- [ ] SSL certificate valid and auto-renewing\n- [ ] Monitoring and logging configured\n- [ ] Error tracking set up\n- [ ] Backups configured\n- [ ] Domain DNS propagated\n\n**Load Testing:**\nTest your application under load:\n```bash\nnpm install -g artillery\nartillery quick --count 100 --num 10 https://your-domain.com\n```\n\n**Security Scan:**\n- Run security audit: `npm audit`\n- Check for exposed secrets\n- Verify CORS settings\n- Test rate limiting\n- Verify CSP headers",
                    "include": true
                  }
                }
              },
              "include": true,
              "includeInSidebar": false,
              "isDynamicRobotsFile": false
            },
            {
              "id": "code-files",
              "name": "code-files",
              "displayName": "Code files",
              "type": "directory",
              "path": "code-files",
              "urlPath": "/code-files",
              "include": true,
              "includeInSidebar": true,
              "children": []
            }
          ]
        },
        "readme": {
          "id": "readme",
          "name": "readme",
          "displayName": "README",
          "type": "file",
          "order": 1,
          "path": "readme",
          "urlPath": "/readme",
          "content": "<!-- component-READMEComponent -->\n\n# Quiz.Win\n\n## Overview\n\nQuiz.Win revolutionizes educational engagement by seamlessly blending quiz-based learning with narrative adventures. This innovative platform transforms traditional study materials into immersive experiences where knowledge acquisition drives character progression and story development.\n\nThrough advanced AI technology, Quiz.Win automatically converts various content formats into engaging quiz sets while weaving them into dynamic storytelling experiences. Students create unique characters who grow stronger through successful quiz completion, making learning feel like a compelling game rather than a chore.\n\nThe platform fosters a vibrant community where educators and learners can share content, showcase achievements, and collaborate on educational journeys. With comprehensive analytics and progress tracking, Quiz.Win provides meaningful insights into learning patterns while maintaining an engaging, game-like atmosphere.\n\n## Pages\n\n### Home (/) [Public]\n\nThe Home page welcomes users with a striking hero section featuring dual call-to-action buttons for quiz creation and adventure mode. A dynamic content grid showcases popular quiz sets and active adventures, while a real-time activity feed highlights community achievements and shared content.\n\nUsers can quickly access their recent quizzes, view personalized recommendations based on their learning history, and see their characters' latest achievements. The page serves as a central hub, providing clear pathways to all core platform features.\n\nFeatured content is automatically curated based on user preferences, community ratings, and current learning trends, ensuring relevant and engaging material is always at the forefront.\n\n### Sign In (/sign-in) [Public]\n\nThe Sign In page presents a streamlined authentication interface with email and password fields. The clean, minimalist design emphasizes security while maintaining accessibility, with clear options for password recovery and new account creation.\n\nUsers can enable \"Remember Me\" functionality for convenient access on trusted devices, while robust error handling provides clear feedback for incorrect credentials. Social authentication options are prominently displayed for quick access.\n\nThe page includes helpful links to the help center and community guidelines, ensuring users can quickly resolve access issues or learn more about platform features.\n\n### Sign Up (/sign-up) [Public]\n\nThe Sign Up page features an intuitive registration form that clearly communicates platform benefits while collecting essential user information. The form implements real-time validation with visual feedback, ensuring users create secure accounts.\n\nNew users can choose their primary interests and preferred learning styles during registration, enabling personalized content recommendations from their first login. The page includes clear terms of service and privacy policy links.\n\nA progressive form design breaks registration into manageable steps, preventing overwhelming new users while collecting necessary information for a personalized experience.\n\n### Forgot Password (/forgot-password) [Public]\n\nThe Forgot Password page provides a simple, secure way to regain account access. Users enter their email address to receive a time-limited reset link, with clear instructions and confirmation messaging throughout the process.\n\nRate limiting and security measures protect against abuse while maintaining a user-friendly experience. The page includes alternative contact options for users needing additional assistance.\n\nClear status messages keep users informed about the recovery process, with estimated timeframes for reset link delivery and expiration information.\n\n### Reset Password (/reset-password) [Public]\n\nThe Reset Password page guides users through creating a new secure password. A strength meter provides real-time feedback as users type, ensuring compliance with security requirements while explaining any issues in user-friendly language.\n\nThe page requires password confirmation to prevent typos and includes visibility toggles for password fields. After successful reset, users receive confirmation and are directed to sign in with their new credentials.\n\nSecurity features include automatic invalidation of old reset links and notification of successful password changes to the account email.\n\n### Welcome (/welcome) [Authenticated]\n\nThe Welcome page introduces new users to Quiz.Win through an engaging setup wizard. Users personalize their experience by selecting interests, learning goals, and preferred quiz types through an interactive interface.\n\nThe character creation process is introduced here, with users selecting their first character class and customizing appearance. The wizard provides tips and explanations for each choice's impact on the learning experience.\n\nProgress is automatically saved at each step, allowing users to return later if needed. Upon completion, users receive their first quest and recommended content based on their selections.\n\n### Quiz Library (/quizzes) [Authenticated]\n\nThe Quiz Library serves as the content management hub, displaying user-created and saved quizzes in an organized grid view. Advanced filtering and search capabilities help users quickly find specific content or discover new material.\n\nUsers can create quiz sets manually or through AI-assisted generation, with options to import from various file formats. Analytics provide insights into quiz performance and learning patterns.\n\nSharing controls allow users to make quizzes public or private, with options to collaborate with specific users or groups. Integration with the adventure system shows which quizzes are currently active in storylines.\n\n### Character Dashboard (/characters) [Authenticated]\n\nThe Character Dashboard displays all user characters in an visually appealing grid, showcasing character statistics, achievements, and current quests. Each character card provides quick access to continue adventures or view detailed profiles.\n\nUsers can create new characters, customize appearances, and manage character progression. The dashboard highlights character synergies and suggests optimal quiz combinations for advancement.\n\nReal-time updates show character experience gains and achievement unlocks, with celebrations for significant milestones.\n\n### Adventure Mode (/adventure/[characterId]) [Authenticated]\n\nAdventure Mode transforms quiz-taking into an epic journey, with a dynamic story viewport that adapts to user choices and quiz performance. The character sidebar displays relevant stats and quest progress.\n\nThe narrative automatically incorporates quiz content into the story, creating meaningful context for learning. Users can pause adventures at any time, with progress automatically saved.\n\nAI-driven story generation ensures each adventure feels unique, with multiple possible paths based on quiz performance and character choices.\n\n### Create Quiz (/quizzes/create) [Authenticated]\n\nThe Create Quiz interface offers multiple content creation methods, from manual entry to AI-assisted generation. Users can upload documents, paste text, or write questions directly, with real-time preview and editing capabilities.\n\nThe AI assistant helps generate questions, suggests improvements, and ensures balanced difficulty levels. Multiple question types are supported, including multiple choice, short answer, and matching.\n\nCollaboration features allow multiple users to work on quiz sets simultaneously, with version history and change tracking.\n\n### Character Profile (/characters/[characterId]) [Authenticated]\n\nCharacter Profiles showcase detailed character statistics, achievement history, and current quests. A prominent character portrait and customization options allow users to personalize their learning avatar.\n\nThe profile tracks learning progress across different subjects and quiz types, displaying this information through engaging visualizations. Social features enable character sharing and community interaction.\n\nAn activity feed shows recent achievements and quest completions, with options to share milestones on the community board.\n\n### Community (/community) [Authenticated]\n\nThe Community hub features a tabbed interface showcasing shared content, character achievements, and learning milestones. Users can interact with shared content through comments, ratings, and quiz attempts.\n\nContent discovery tools help users find relevant materials and connect with others sharing similar interests. Featured content rotates regularly to maintain engagement and highlight quality contributions.\n\nModeration tools ensure community guidelines are maintained, with options to report inappropriate content or behavior.\n\n### Settings (/settings) [Authenticated]\n\nThe Settings page provides comprehensive control over account preferences, notification settings, and privacy options. Users can manage their profile information, connected accounts, and learning preferences.\n\nAdvanced options include quiz default settings, adventure preferences, and accessibility features. Data export and account management tools are clearly organized and easily accessible.\n\nSecurity settings allow users to review active sessions, change authentication methods, and manage connected applications.\n\n### Content Moderation (/admin) [Admin]\n\nThe Content Moderation dashboard provides administrators with tools to review and manage user-generated content. Moderation queues organize content by type and priority, streamlining the review process.\n\nDetailed analytics track content quality metrics and user behavior patterns. Administrative tools enable quick action on reported content and user management.\n\nThe interface includes bulk action capabilities and automated moderation features to maintain community standards efficiently.\n\n## Authentication & Access Control\n\nQuiz.Win implements a secure, multi-level authentication system to protect user data and content. Authentication methods include email/password login and optional social authentication through major providers.\n\nAccess levels:\n\n- Public: Home, Sign In, Sign Up, Forgot Password, Reset Password\n- Authenticated: All main features and community content\n- Admin: Content moderation and platform management\n\n## User Experience\n\nQuiz.Win prioritizes an intuitive, engaging user journey that begins with simple registration and evolves into a rich learning adventure. The platform guides new users through character creation and initial quiz selection, ensuring a smooth onboarding experience.\n\nNavigation follows natural learning progressions, with clear pathways between quiz creation, character development, and adventure mode. Interactive elements provide immediate feedback, while achievements and character progression create compelling motivation for continued engagement.\n\nThe interface adapts to user preferences and learning patterns, presenting personalized content recommendations and tailored adventure opportunities. Social features are seamlessly integrated, encouraging community participation while maintaining focus on individual learning goals.\n\n## Getting Started\n\n1. Create your account\n\n- Sign up with email or social authentication\n- Complete the welcome wizard\n- Create your first character\n\n2. Build your quiz library\n\n- Import existing materials\n- Use AI-assisted generation\n- Create custom quiz sets\n\n3. Begin your adventure\n\n- Select a quest line\n- Complete quizzes to progress\n- Track achievements and character growth\n\n4. Join the community\n\n- Share your content\n- Connect with other learners\n- Participate in events and challenges",
          "components": [
            {
              "id": "component-READMEComponent",
              "name": "READMEComponent",
              "displayName": "READMEComponent",
              "type": "component",
              "path": "readme.component.READMEComponent",
              "urlPath": "",
              "componentId": "READMEComponent",
              "include": true
            }
          ],
          "sections": {
            "section1": {
              "option1": {
                "content": "",
                "include": false
              },
              "option2": {
                "content": "",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": true
              },
              "option3": {
                "content": "",
                "include": true
              },
              "option4": {
                "content": "",
                "include": true
              },
              "option5": {
                "content": "",
                "include": true
              },
              "option6": {
                "content": "",
                "include": true
              },
              "option7": {
                "content": "",
                "include": true
              },
              "option8": {
                "content": "",
                "include": true
              },
              "option12": {
                "content": "",
                "include": true
              },
              "option13": {
                "content": "",
                "include": false
              },
              "option14": {
                "content": "",
                "include": false
              },
              "option15": {
                "content": "",
                "include": false
              },
              "option16": {
                "content": "",
                "include": false
              },
              "option17": {
                "content": "",
                "include": false
              },
              "option18": {
                "content": "",
                "include": false
              },
              "option19": {
                "content": "",
                "include": false
              }
            },
            "section3": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": true
              }
            },
            "section4": {
              "option1": {
                "content": "",
                "include": true
              },
              "option5": {
                "content": "",
                "include": false
              },
              "option6": {
                "content": "",
                "include": false
              },
              "option7": {
                "content": "",
                "include": false
              },
              "option8": {
                "content": "",
                "include": false
              }
            },
            "section5": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": false
              },
              "option3": {
                "content": "",
                "include": false
              }
            },
            "section6": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": false
              }
            }
          },
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "readme.component.READMEComponent": {
          "id": "component-READMEComponent",
          "name": "READMEComponent",
          "displayName": "READMEComponent",
          "type": "component",
          "path": "readme.component.READMEComponent",
          "urlPath": "",
          "componentId": "READMEComponent",
          "include": true
        },
        "theme": {
          "id": "theme",
          "name": "theme",
          "displayName": "Theme",
          "type": "file",
          "order": 2,
          "path": "theme",
          "urlPath": "/theme",
          "content": "# Theme configuration\n\nSelect and customize your theme! These styles will be applied to every component in your generated web app.\n\n<!-- component-ThemeConfiguration -->\n",
          "components": [
            {
              "id": "component-ThemeConfiguration",
              "name": "ThemeConfiguration",
              "displayName": "ThemeConfiguration",
              "type": "component",
              "path": "theme.component.ThemeConfiguration",
              "urlPath": "",
              "componentId": "ThemeConfiguration",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "theme.component.ThemeConfiguration": {
          "id": "component-ThemeConfiguration",
          "name": "ThemeConfiguration",
          "displayName": "ThemeConfiguration",
          "type": "component",
          "path": "theme.component.ThemeConfiguration",
          "urlPath": "",
          "componentId": "ThemeConfiguration",
          "include": true
        },
        "app-directory": {
          "id": "app-directory",
          "name": "app-directory",
          "displayName": "App Directory",
          "type": "file",
          "order": 3,
          "path": "app-directory",
          "urlPath": "/app-directory",
          "content": "# App Directory\n\n<!-- component-LayoutAndStructure -->\n",
          "components": [
            {
              "id": "component-LayoutAndStructure",
              "name": "LayoutAndStructure",
              "displayName": "LayoutAndStructure",
              "type": "component",
              "path": "app-directory.component.LayoutAndStructure",
              "urlPath": "",
              "componentId": "LayoutAndStructure",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "app-directory.component.LayoutAndStructure": {
          "id": "component-LayoutAndStructure",
          "name": "LayoutAndStructure",
          "displayName": "LayoutAndStructure",
          "type": "component",
          "path": "app-directory.component.LayoutAndStructure",
          "urlPath": "",
          "componentId": "LayoutAndStructure",
          "include": true
        },
        "database": {
          "id": "database",
          "name": "database",
          "displayName": "Database",
          "type": "file",
          "order": 4,
          "path": "database",
          "urlPath": "/database",
          "content": "# Database\n\n<!-- component-DatabaseConfiguration -->\n",
          "components": [
            {
              "id": "component-DatabaseConfiguration",
              "name": "DatabaseConfiguration",
              "displayName": "DatabaseConfiguration",
              "type": "component",
              "path": "database.component.DatabaseConfiguration",
              "urlPath": "",
              "componentId": "DatabaseConfiguration",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "database.component.DatabaseConfiguration": {
          "id": "component-DatabaseConfiguration",
          "name": "DatabaseConfiguration",
          "displayName": "DatabaseConfiguration",
          "type": "component",
          "path": "database.component.DatabaseConfiguration",
          "urlPath": "",
          "componentId": "DatabaseConfiguration",
          "include": true
        },
        "starter-kit": {
          "id": "starter-kit",
          "name": "starter-kit",
          "displayName": "Starter Kit",
          "type": "file",
          "order": 5,
          "path": "starter-kit",
          "urlPath": "/starter-kit",
          "content": "# Starter Kit\n\n<!-- component-NextStepsComponent -->\n",
          "components": [
            {
              "id": "component-NextStepsComponent",
              "name": "NextStepsComponent",
              "displayName": "NextStepsComponent",
              "type": "component",
              "path": "starter-kit.component.NextStepsComponent",
              "urlPath": "",
              "componentId": "NextStepsComponent",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "starter-kit.component.NextStepsComponent": {
          "id": "component-NextStepsComponent",
          "name": "NextStepsComponent",
          "displayName": "NextStepsComponent",
          "type": "component",
          "path": "starter-kit.component.NextStepsComponent",
          "urlPath": "",
          "componentId": "NextStepsComponent",
          "include": true
        },
        "extensions": {
          "id": "extensions",
          "name": "extensions",
          "displayName": "Extensions",
          "type": "file",
          "order": 6,
          "path": "extensions",
          "urlPath": "/extensions",
          "content": "# Extensions\n\n<!-- component-ExtensionsComponent -->\n",
          "components": [
            {
              "id": "component-ExtensionsComponent",
              "name": "ExtensionsComponent",
              "displayName": "ExtensionsComponent",
              "type": "component",
              "path": "extensions.component.ExtensionsComponent",
              "urlPath": "",
              "componentId": "ExtensionsComponent",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "extensions.component.ExtensionsComponent": {
          "id": "component-ExtensionsComponent",
          "name": "ExtensionsComponent",
          "displayName": "ExtensionsComponent",
          "type": "component",
          "path": "extensions.component.ExtensionsComponent",
          "urlPath": "",
          "componentId": "ExtensionsComponent",
          "include": true
        },
        "10-util": {
          "id": "10-util",
          "name": "10-util",
          "displayName": " 10-util",
          "type": "file",
          "path": "10-util",
          "urlPath": "/10-util",
          "content": "# File examples\n\nThis guide provides code examples and patterns for organizing your application code following best practices.\n\n## Types file example\n\nType definitions establish contracts and ensure type safety throughout your application.\n\n<!-- section-1 -->\n\n## Stores file example\n\nZustand stores manage application state with persistence and middleware support.\n\n<!-- section-2 -->\n\n## Actions file example\n\nServer actions handle data mutations and communicate with your backend services.\n\n<!-- section-3 -->\n\n## Hooks file example\n\nReact Query hooks manage data fetching, caching, and synchronization.\n\n<!-- section-4 -->\n\n## Utility files\n\nUtility modules provide reusable helper functions and configurations.\n\n<!-- section-5 -->\n",
          "components": [],
          "sections": {
            "section1": {
              "option1": {
                "content": "**Types file example (Client-side):**\n\n```typescript\nexport interface AppState {\n  data: any[];\n  setData: (data: any[]) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n  reset: () => void;\n}\n\nexport interface ApiData {\n  id: string;\n  name: string;\n  value: number;\n}\n```",
                "include": true
              },
              "option2": {
                "content": "**Types file example (With Database):**\n\n```typescript\nimport { User } from \"@prisma/client\";\n\nexport interface AppState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  tempEmail?: string;\n  setTempEmail: (tempEmail: string) => void;\n  reset: () => void;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n```",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "### Store Example (With Database)\n\n```typescript\nimport { UserRole } from \"@prisma/client\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { AppState, ExtendedUser, RedirectState } from \"./layout.types\";\n\nconst initialState = {\n  user: null,\n};\n\nexport const useAppStore = create<AppState>()((set) => ({\n  ...initialState,\n  setUser: (user) => set({ user, profile: user?.profile || null }),\n  reset: () => set(initialState),\n}));\n```\n\n**Usage with React Query:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\nimport { useGetUser } from \"@/hooks/user.hooks\";\n\nexport const UserProfile = () => {\n  const setUser = useAppStore((state) => state.setUser);\n  const user = useAppStore((state) => state.user);\n\n  const { isLoading } = useGetUser({\n    onSuccess: (data) => setUser(data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return <div>Welcome, {user?.name}</div>;\n};\n```",
                "include": true
              },
              "option2": {
                "content": "### Store Example (Without Database)\n\n```typescript\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface AppState {\n  theme: \"light\" | \"dark\";\n  setTheme: (theme: \"light\" | \"dark\") => void;\n  sidebarOpen: boolean;\n  toggleSidebar: () => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set) => ({\n      theme: \"light\",\n      setTheme: (theme) => set({ theme }),\n      sidebarOpen: true,\n      toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),\n    }),\n    {\n      name: \"app-storage\",\n    }\n  )\n);\n```\n\n**Usage:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useAppStore();\n\n  return (\n    <button onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}>\n      Toggle Theme\n    </button>\n  );\n};\n```",
                "include": true
              }
            },
            "section3": {
              "option1": {
                "content": "**No actions file needed for client-side only applications.**\n\nUse API routes or external API calls directly in hooks with React Query.",
                "include": true
              },
              "option2": {
                "content": "**Actions file example (NeonDB + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                "include": true
              },
              "option3": {
                "content": "**Actions file example (Supabase + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                "include": true
              },
              "option4": {
                "content": "**Actions file example (Supabase Auth Only):**\n\n```typescript\n\"use server\";\n\nimport { createClient } from \"@/lib/supabase/server\";\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\n\nexport const getUserAction = async (): Promise<ActionResponse<any>> => {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return getActionResponse({ error: authError?.message || \"Not authenticated\" });\n    }\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (error) throw error;\n\n    return getActionResponse({ data });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                "include": true
              }
            },
            "section4": {
              "option1": {
                "content": "**Hooks file example (Client-side):**\n\n```typescript\n\"use client\";\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetData = () => {\n  const { setData } = useAppStore();\n\n  return useQuery({\n    queryKey: [\"data\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/data\");\n      if (!response.ok) throw new Error(\"Failed to fetch\");\n      const data = await response.json();\n      setData(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useCreateData = () => {\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (newData: any) => {\n      const response = await fetch(\"/api/data\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newData),\n      });\n      if (!response.ok) throw new Error(\"Failed to create\");\n      return response.json();\n    },\n    onSuccess: () => {\n      router.refresh();\n    },\n  });\n};\n```",
                "include": true
              },
              "option2": {
                "content": "**Hooks file example (Better Auth):**\n\n```typescript\n\"use client\";\n\nimport { configuration, privatePaths } from \"@/configuration\";\nimport { signIn } from \"@/lib/auth-client\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Toast } from \"../(components)/Toast\";\nimport { CypressDataAttributes } from \"../../types/cypress.types\";\nimport { useAppStore, useRedirectStore } from \"../layout.stores\";\nimport { SignInData } from \"../layout.types\";\nimport { getUserAction } from \"./layout.actions\";\nimport { useAuthLayoutStore } from \"./layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const { reset: resetAuthLayout } = useAuthLayoutStore();\n  const { setUserData } = useRedirectStore();\n  const pathname = usePathname();\n\n  const router = useRouter();\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const { data, error } = await getUserAction();\n      if (!data || error) {\n        if (privatePaths.includes(pathname)) {\n          router.push(configuration.paths.signIn);\n        }\n        reset();\n        resetAuthLayout();\n      }\n      if (error) throw error;\n      setUser(data ?? null);\n\n      setUserData(data);\n\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser, setTempEmail } = useAppStore();\n  const { setUserData } = useRedirectStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (signInData: SignInData) => {\n      const { error } = await signIn.email({\n        email: signInData.email,\n        password: signInData.password,\n      });\n\n      if (error?.status === 403) setTempEmail(signInData.email);\n\n      if (error) throw error;\n      const { data: userData, error: userError } = await getUserAction();\n\n      if (userError) throw new Error(userError);\n\n      return userData;\n    },\n    onSuccess: (data) => {\n      if (data) {\n        setUser(data);\n        setUserData(data);\n      }\n      toast.custom(() => (\n        <Toast\n          variant=\"success\"\n          title=\"Success\"\n          message=\"Successfully signed in\"\n          data-cy={CypressDataAttributes.TOAST_SUCCESS}\n        />\n      ));\n      if (data && !data.profile?.isOnboardingComplete) {\n        router.push(configuration.paths.onboarding);\n        return;\n      }\n      router.push(configuration.paths.home);\n    },\n    onError: (\n      error: {\n        code?: string | undefined;\n        message?: string | undefined;\n        status: number;\n        statusText: string;\n      } | null\n    ) => {\n      if (error?.status === 403) return;\n      toast.custom(() => (\n        <Toast\n          variant=\"error\"\n          title=\"Sign In Failed\"\n          message={error?.message || \"Failed to sign in\"}\n          data-cy={CypressDataAttributes.TOAST_ERROR}\n        />\n      ));\n    },\n  });\n};\n```",
                "include": true
              },
              "option3": {
                "content": "**Hooks file example (Supabase Auth):**\n\n```typescript\n\"use client\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const router = useRouter();\n\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        reset();\n        return null;\n      }\n\n      const { data, error } = await supabase\n        .from('users')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (error) throw error;\n\n      setUser(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser } = useAppStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const supabase = createClient();\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) throw error;\n\n      return data.user;\n    },\n    onSuccess: (user) => {\n      setUser(user);\n      router.push('/dashboard');\n    },\n  });\n};\n```",
                "include": true
              }
            },
            "section5": {
              "option1": {
                "content": "**No utility files needed for client-side only applications.**",
                "include": true
              },
              "option2": {
                "content": "**Utility files (Better Auth + Prisma):**\n\n## `prisma-rls.ts`:\n\n```typescript\nimport { Prisma } from \"@prisma/client\";\nimport { prisma } from \"./prisma\";\n\nfunction forUser(userId: string, tenantId?: string) {\n  return Prisma.defineExtension((prisma) =>\n    prisma.$extends({\n      query: {\n        $allModels: {\n          async $allOperations({ args, query }) {\n            if (tenantId) {\n              const [, , result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                prisma.$executeRaw`SELECT set_config('app.current_tenant_id', ${tenantId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            } else {\n              const [, result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            }\n          },\n        },\n      },\n    })\n  );\n}\n\nexport function createRLSClient(userId: string, tenantId?: string) {\n  return prisma.$extends(forUser(userId, tenantId));\n}\n```\n\n## `auth.util.ts`\n\n```typescript\nimport { User } from \"better-auth\";\nimport jwt from \"jsonwebtoken\";\nimport { headers } from \"next/headers\";\nimport { auth, Session } from \"./auth\";\nimport { createRLSClient } from \"./prisma-rls\";\n\nexport async function getAuthenticatedClient(user?: User): Promise<{\n  db: ReturnType<typeof createRLSClient>;\n  session: Session | null;\n}> {\n  const headersList = await headers();\n\n  const session = await auth.api.getSession({\n    headers: headersList,\n  });\n\n  const userId = user?.id || session?.user.id;\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const db = createRLSClient(userId);\n\n  return { db, session };\n}\n\nexport function generateSupabaseJWT(userId: string, userRole: string): string {\n  const jwtSecret = process.env.SUPABASE_JWT_SECRET;\n\n  if (!jwtSecret) {\n    throw new Error(\"SUPABASE_JWT_SECRET is required for JWT generation\");\n  }\n\n  const payload = {\n    aud: \"authenticated\",\n    exp: Math.floor(Date.now() / 1000) + 60 * 60,\n    sub: userId,\n    email: `${userId}@better-auth.local`,\n    role: \"authenticated\",\n    user_metadata: {\n      better_auth_user_id: userId,\n      better_auth_role: userRole,\n    },\n    app_metadata: {\n      provider: \"better-auth\",\n      providers: [\"better-auth\"],\n    },\n  };\n\n  return jwt.sign(payload, jwtSecret, {\n    algorithm: \"HS256\",\n  });\n}\n```\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                "include": true
              },
              "option3": {
                "content": "**Utility files (Supabase):**\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                "include": true
              }
            }
          },
          "include": true,
          "includeInSidebar": false,
          "isDynamicRobotsFile": false
        },
        "6-robots": {
          "id": "6-robots",
          "name": "6-robots",
          "displayName": " 6-ROBOTS",
          "type": "file",
          "path": "6-robots",
          "urlPath": "/6-robots",
          "content": "# ROBOTS.md\n\nThis file provides guidance to AI assistants when working with code in this repository.\n\n### Tech stack\n\n- **Next.js 15** with App Router architecture\n- **TypeScript** for type safety\n- **TailwindCSS & Shadcn** for styling\n\n<!-- section-1 -->\n\n# General rules:\n\n- Don't include any comments in any files.\n- All errors should be thrown - no \"fallback\" functionality\n- Import \"cn\" from \"@/lib/utils\" to concatenate classes.\n\n# File Organization and Naming Conventions\n\n- Types and store files alongside ancestor files\n- Actions and hooks files alongside descendent files\n\n\\`\\`\\`\n\n# Hook, action, store and type patterns\n\n<!-- section-2 -->\n\n# Console.logging\n\nAll logging should be performed using the \\`conditionalLog\\` function exported from \\`lib/log.utils.ts\\`\nThe \\`NEXT_PUBLIC_LOG_LABELS\\` variable in \\`.env.local\\` stores a comma separated string of log labels. Logs are returned if \\`NEXT_PUBLIC_LOG_LABELS=\"all\"\\`, or if \\`NEXT_PUBLIC_LOG_LABELS\\` includes the label arg in \\`conditionalLog\\`.\n\n\\`\\`\\`\n",
          "components": [],
          "sections": {
            "section1": {
              "option1": {
                "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for authentication and real-time features\n\n# Database Architecture\n\nUse Supabase as the primary database and authentication provider.",
                "include": true
              },
              "option2": {
                "content": "- **Postgres & Prisma** for database and ORM\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse NeonDB for serverless Postgres with Prisma ORM and Better-Auth for authentication.",
                "include": true
              },
              "option3": {
                "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for real-time features\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse both Supabase and NeonDB based on feature requirements. Use Better-Auth for authentication with NeonDB as the primary database.",
                "include": true
              },
              "option4": {
                "content": "# Database Architecture\n\nNo database required - this is a frontend-only application.",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "DB <-> Supabase Client <-> hook <-> store\n\n- Supabase client queries are called directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store (if applicable).\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `@/supabase/types`.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                "include": true
              },
              "option2": {
                "content": "DB <-> Action <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `\"@prisma/client\"`\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, action, store or type files. The file also contains the `prisma-rls.ts` and `action.util.ts` files for reference.",
                "include": true
              },
              "option3": {
                "content": "DB <-> Action/Supabase Client <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient for NeonDB.\n- Supabase client queries are called directly in react-query hooks for real-time features.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- Database types should be defined from `\"@prisma/client\"` for NeonDB and `@/supabase/types` for Supabase.",
                "include": true
              },
              "option4": {
                "content": "Component <-> hook <-> store\n\n- No database interactions - frontend only.\n- API calls (if any) are made directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All types should be defined in `.types.ts` files alongside components.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                "include": true
              }
            }
          },
          "include": true,
          "includeInSidebar": false,
          "isDynamicRobotsFile": true,
          "visibleAfterPage": "readme"
        },
        "7-deployment": {
          "id": "7-deployment",
          "name": "7-deployment",
          "displayName": " 7-Deployment",
          "type": "file",
          "path": "7-deployment",
          "urlPath": "/7-deployment",
          "content": "# Deployment Instructions\n\nThis guide provides step-by-step instructions for deploying your application based on your selected technology stack.\n\n## Platform Setup\n\n<!-- section-1 -->\n\n## Database Deployment\n\n<!-- section-2 -->\n\n## Environment Variables\n\n<!-- section-3 -->\n\n## Authentication Setup\n\n<!-- section-4 -->\n\n## Post-Deployment Tasks\n\n<!-- section-5 -->\n",
          "components": [],
          "sections": {
            "section1": {
              "option1": {
                "content": "### Deploying to Vercel\n\n**Prerequisites:**\n- Vercel account\n- GitHub repository connected to Vercel\n\n**Steps:**\n\n1. Install Vercel CLI:\n```bash\nnpm install -g vercel\n```\n\n2. Login to Vercel:\n```bash\nvercel login\n```\n\n3. Deploy your application:\n```bash\nvercel\n```\n\n4. For production deployment:\n```bash\nvercel --prod\n```\n\n**Configuration:**\n- Vercel automatically detects Next.js projects\n- Environment variables should be set in the Vercel dashboard under Settings → Environment Variables\n- Build command: `npm run build`\n- Output directory: `.next`\n- Install command: `npm install`\n\n**Custom Domain:**\n1. Go to your project settings in Vercel dashboard\n2. Navigate to Domains\n3. Add your custom domain\n4. Update your DNS records as instructed\n\n**Continuous Deployment:**\n- Vercel automatically deploys on push to your main branch\n- Pull requests create preview deployments\n- Configure branch deployments in Settings → Git",
                "include": true
              },
              "option2": {
                "content": "### Deploying to Railway\n\n**Prerequisites:**\n- Railway account\n- GitHub repository\n\n**Steps:**\n\n1. Install Railway CLI:\n```bash\nnpm install -g @railway/cli\n```\n\n2. Login to Railway:\n```bash\nrailway login\n```\n\n3. Initialize your project:\n```bash\nrailway init\n```\n\n4. Link to your Railway project:\n```bash\nrailway link\n```\n\n5. Deploy your application:\n```bash\nrailway up\n```\n\n**Configuration:**\n\nCreate a `railway.json` file in your project root:\n```json\n{\n  \"$schema\": \"https://railway.app/railway.schema.json\",\n  \"build\": {\n    \"builder\": \"NIXPACKS\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n**Environment Variables:**\n- Set in Railway dashboard under Variables tab\n- Or use CLI: `railway variables set KEY=value`\n\n**Health Checks:**\nRailway automatically monitors your application. Configure health check endpoint in your application:\n```typescript\napp.get('/health', (req, res) => {\n  res.status(200).json({ status: 'healthy' });\n});\n```\n\n**Custom Domain:**\n1. Go to Settings in Railway dashboard\n2. Navigate to Domains\n3. Add custom domain\n4. Update DNS records with provided values\n\n**Scaling:**\n- Railway supports horizontal and vertical scaling\n- Configure in Settings → Resources\n- Adjust memory and CPU allocation as needed",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "### No Database Deployment\n\nYour application is configured without a database backend. No additional database setup is required.\n\n**Static Content:**\n- All data is client-side only\n- Consider using environment variables for configuration\n- Perfect for static sites and applications without persistent data",
                "include": true
              },
              "option2": {
                "content": "### NeonDB Deployment\n\n**Prerequisites:**\n- NeonDB account (sign up at [neon.tech](https://neon.tech))\n\n**Steps:**\n\n1. Create a new project in NeonDB dashboard\n2. Copy your connection string from the dashboard\n3. Set environment variable in your deployment platform:\n   - `DATABASE_URL=your-neondb-connection-string`\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n3. Or use migrations:\n```bash\nnpx prisma migrate deploy\n```\n\n**Connection Pooling:**\nNeonDB provides built-in connection pooling. Use the pooled connection string for serverless environments.\n\n**Branching:**\nNeonDB supports database branching:\n- Create branches for preview deployments\n- Automatically create database branches per pull request\n- Configure in your CI/CD pipeline\n\n**Monitoring:**\n- Access database metrics in NeonDB dashboard\n- Set up alerts for connection limits\n- Monitor query performance",
                "include": true
              },
              "option3": {
                "content": "### Supabase Deployment\n\n**Prerequisites:**\n- Supabase account (sign up at [supabase.com](https://supabase.com))\n\n**Steps:**\n\n1. Create a new project in Supabase dashboard\n2. Note your project URL and anon key\n3. Set environment variables in your deployment platform:\n   - `VITE_SUPABASE_URL=your-project-url`\n   - `VITE_SUPABASE_ANON_KEY=your-anon-key`\n   - `DATABASE_URL=your-connection-string` (for Prisma)\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n**Row Level Security (RLS):**\nEnable RLS policies through Supabase dashboard:\n1. Navigate to Authentication → Policies\n2. Create policies for each table\n3. Test policies using the SQL editor\n\n**Storage Setup:**\nIf using Supabase Storage:\n1. Create storage buckets in dashboard\n2. Configure bucket policies\n3. Set CORS policies if needed\n\n**Realtime Setup:**\nEnable realtime for tables:\n1. Go to Database → Replication\n2. Enable replication for tables\n3. Configure realtime listeners in your application\n\n**Edge Functions (Optional):**\nDeploy edge functions for server-side logic:\n```bash\nsupabase functions deploy function-name\n```\n\n**Monitoring:**\n- Access logs in Supabase dashboard\n- Monitor API usage and database performance\n- Set up error tracking",
                "include": true
              }
            },
            "section3": {
              "option1": {
                "content": "### Core Environment Variables\n\nRequired for all deployments:\n\n```env\nNODE_ENV=production\nVITE_APP_URL=https://your-domain.com\n```",
                "include": true
              },
              "option2": {
                "content": "### Database Environment Variables\n\n**For NeonDB:**\n```env\nDATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/dbname\n```\n\n**For Supabase:**\n```env\nVITE_SUPABASE_URL=https://xxx.supabase.co\nVITE_SUPABASE_ANON_KEY=your-anon-key\nDATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres\n```",
                "include": true
              },
              "option3": {
                "content": "### Better Auth Environment Variables\n\n```env\nBETTER_AUTH_SECRET=your-secret-key-min-32-chars\nBETTER_AUTH_URL=https://your-domain.com\n```\n\nGenerate a secure secret:\n```bash\nopenssl rand -base64 32\n```",
                "include": true
              },
              "option4": {
                "content": "### Email Service (Resend)\n\n```env\nRESEND_API_KEY=re_xxxxxxxxxxxx\nVITE_FROM_EMAIL=noreply@yourdomain.com\n```\n\nGet your API key from [resend.com/api-keys](https://resend.com/api-keys)",
                "include": true
              },
              "option5": {
                "content": "### Stripe Payment Variables\n\n```env\nSTRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxx\nSTRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Get keys from Stripe Dashboard\n2. Set up webhook endpoint at `/api/webhooks/stripe`\n3. Configure webhook events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`",
                "include": true
              },
              "option6": {
                "content": "### PayPal Payment Variables\n\n```env\nPAYPAL_CLIENT_ID=xxxxxxxxxxxx\nPAYPAL_CLIENT_SECRET=xxxxxxxxxxxx\nPAYPAL_MODE=live\n```\n\n**Setup:**\n1. Create app in PayPal Developer Dashboard\n2. Get credentials from app settings\n3. Use `sandbox` mode for testing, `live` for production",
                "include": true
              },
              "option7": {
                "content": "### OpenRouter AI Variables\n\n```env\nOPENROUTER_API_KEY=sk-or-xxxxxxxxxxxx\n```\n\nGet your API key from [openrouter.ai/keys](https://openrouter.ai/keys)",
                "include": true
              },
              "option8": {
                "content": "### OAuth Provider Variables (Google)\n\n```env\nGOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Create project in Google Cloud Console\n2. Enable Google+ API\n3. Create OAuth 2.0 credentials\n4. Add authorized redirect URI: `https://your-domain.com/api/auth/callback/google`",
                "include": true
              },
              "option9": {
                "content": "### OAuth Provider Variables (GitHub)\n\n```env\nGITHUB_CLIENT_ID=xxxxxxxxxxxx\nGITHUB_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Go to GitHub Settings → Developer settings → OAuth Apps\n2. Create new OAuth App\n3. Set callback URL: `https://your-domain.com/api/auth/callback/github`",
                "include": true
              },
              "option10": {
                "content": "### OAuth Provider Variables (Apple)\n\n```env\nAPPLE_CLIENT_ID=com.yourapp.service\nAPPLE_TEAM_ID=xxxxxxxxxxxx\nAPPLE_KEY_ID=xxxxxxxxxxxx\nAPPLE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n**Setup:**\n1. Create Service ID in Apple Developer Account\n2. Configure Sign in with Apple\n3. Generate private key\n4. Set return URL: `https://your-domain.com/api/auth/callback/apple`",
                "include": true
              }
            },
            "section4": {
              "option1": {
                "content": "### Authentication Setup (Better Auth)\n\n**Database Schema:**\nBetter Auth creates necessary tables automatically on first run. Ensure your database is accessible.\n\n**Email Provider Setup:**\nConfigure Resend for email authentication:\n1. Verify your domain in Resend dashboard\n2. Add SPF and DKIM records to your DNS\n3. Test email delivery\n\n**Magic Link Setup:**\nMagic links are automatically configured if enabled. Ensure:\n- `BETTER_AUTH_URL` is set to your production domain\n- Email provider is configured correctly\n\n**Two-Factor Authentication:**\n2FA tables are created automatically. Users can enable in their account settings.\n\n**Session Management:**\n- Sessions are stored in database\n- Default expiration: 30 days\n- Refresh tokens enabled by default\n\n**Passkey Setup:**\nPasskeys require HTTPS:\n- Ensure your domain has valid SSL certificate\n- Passkeys stored securely in database\n- Works with biometric authentication",
                "include": true
              },
              "option2": {
                "content": "### Authentication Setup (Supabase Auth)\n\n**Email Templates:**\nCustomize email templates in Supabase dashboard:\n1. Navigate to Authentication → Email Templates\n2. Customize confirmation, magic link, and password reset emails\n3. Add your branding and domain\n\n**OAuth Providers:**\nConfigure in Supabase dashboard under Authentication → Providers:\n- Add client IDs and secrets\n- Set redirect URLs\n- Enable providers\n\n**Email Confirmation:**\nConfigure email confirmation settings:\n- Require email confirmation for new signups\n- Set confirmation token expiration\n- Configure redirect URLs\n\n**Password Requirements:**\nSet password policies:\n- Minimum length\n- Require special characters\n- Password history\n\n**Session Management:**\n- Sessions managed by Supabase\n- Configure JWT expiry\n- Set up refresh token rotation",
                "include": true
              },
              "option3": {
                "content": "### Organization Setup (Better Auth)\n\n**Super Admin Creation:**\nCreate your first super admin using the CLI:\n\n```bash\nnpm run create-super-admin\n```\n\nOr manually insert into database:\n```sql\nINSERT INTO users (email, role)\nVALUES ('admin@yourdomain.com', 'super_admin');\n```\n\n**Organization Creation:**\nSuper admins can create organizations through the admin panel or API.\n\n**Role Assignment:**\n- Super admins: Full system access\n- Org admins: Manage their organization and members\n- Org members: Read access to organization data\n\n**RLS Policies:**\nEnsure Row Level Security policies are enabled for organization tables:\n- Users can only see their organization data\n- Org admins can manage org members\n- Super admins have full access",
                "include": true
              }
            },
            "section5": {
              "option1": {
                "content": "### Stripe Webhook Configuration\n\n**Create Webhook Endpoint:**\n1. Go to Stripe Dashboard → Developers → Webhooks\n2. Add endpoint: `https://your-domain.com/api/webhooks/stripe`\n3. Select events to listen for:\n   - `checkout.session.completed`\n   - `customer.subscription.created`\n   - `customer.subscription.updated`\n   - `customer.subscription.deleted`\n   - `invoice.paid`\n   - `invoice.payment_failed`\n\n4. Copy the webhook signing secret\n5. Add to environment variables as `STRIPE_WEBHOOK_SECRET`\n\n**Test Webhook:**\n```bash\nstripe listen --forward-to localhost:3000/api/webhooks/stripe\n```\n\n**Webhook Handler:**\nVerify webhook signatures in your handler to ensure security.",
                "include": true
              },
              "option2": {
                "content": "### PayPal Webhook Configuration\n\n**Create Webhook:**\n1. Go to PayPal Developer Dashboard\n2. Select your app\n3. Add webhook URL: `https://your-domain.com/api/webhooks/paypal`\n4. Select events:\n   - `PAYMENT.CAPTURE.COMPLETED`\n   - `PAYMENT.CAPTURE.DENIED`\n   - `BILLING.SUBSCRIPTION.ACTIVATED`\n   - `BILLING.SUBSCRIPTION.CANCELLED`\n\n**Verify Webhooks:**\nPayPal provides webhook signature verification. Implement in your handler.",
                "include": true
              },
              "option3": {
                "content": "### Health Checks (Railway)\n\n**Configure Health Check Endpoint:**\nCreate endpoint at `/health` or `/api/health`:\n\n```typescript\nexport async function GET() {\n  return Response.json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n}\n```\n\n**Railway Configuration:**\nRailway automatically detects health checks. Configure in `railway.json`:\n\n```json\n{\n  \"deploy\": {\n    \"healthcheckPath\": \"/health\",\n    \"healthcheckTimeout\": 300\n  }\n}\n```",
                "include": true
              },
              "option4": {
                "content": "### Domain and SSL Setup (Vercel)\n\n**Add Custom Domain:**\n1. Go to project settings in Vercel\n2. Navigate to Domains tab\n3. Add your domain\n\n**DNS Configuration:**\nAdd these records to your DNS provider:\n- A record: `76.76.21.21`\n- AAAA record: `2606:4700:4700::1111`\n\nOr use CNAME:\n- CNAME: `cname.vercel-dns.com`\n\n**SSL Certificate:**\n- Vercel automatically provisions SSL certificates\n- Certificates auto-renew\n- HTTPS enforced by default\n\n**Redirect www to apex:**\nConfigure in Vercel dashboard or use redirect in `vercel.json`",
                "include": true
              },
              "option5": {
                "content": "### Domain and SSL Setup (Railway)\n\n**Add Custom Domain:**\n1. Go to your project settings\n2. Click on Domains\n3. Add custom domain\n\n**DNS Configuration:**\nPoint your domain to Railway:\n- CNAME record: `your-app.up.railway.app`\n- Or use A records provided by Railway\n\n**SSL Certificate:**\n- Railway automatically provisions Let's Encrypt certificates\n- Auto-renewal enabled\n- HTTPS enforced\n\n**Domain Verification:**\nMay require TXT record verification for some domains",
                "include": true
              },
              "option6": {
                "content": "### Email Deliverability (Resend)\n\n**Domain Verification:**\n1. Add domain in Resend dashboard\n2. Add DNS records:\n   - SPF: `v=spf1 include:resend.com ~all`\n   - DKIM: Provided by Resend\n   - DMARC: `v=DMARC1; p=none;`\n\n**Verification:**\n- Verify domain in Resend dashboard\n- Test email delivery\n- Monitor bounce rates\n\n**Best Practices:**\n- Use verified domain for production\n- Set up DMARC policy to `quarantine` or `reject` after testing\n- Monitor email reputation",
                "include": true
              },
              "option7": {
                "content": "### Monitoring and Logging\n\n**Application Monitoring:**\n- Set up error tracking (Sentry, LogRocket)\n- Monitor API response times\n- Track user analytics\n\n**Database Monitoring:**\n- Monitor connection pool usage\n- Set up slow query alerts\n- Track database size and growth\n\n**Platform Monitoring:**\n- Use platform-provided metrics\n- Set up uptime monitoring\n- Configure alerts for downtime\n\n**Log Aggregation:**\nConsider log aggregation service:\n- Logtail\n- Datadog\n- New Relic",
                "include": true
              },
              "option8": {
                "content": "### File Storage Setup (Supabase)\n\n**Create Storage Buckets:**\n1. Go to Supabase dashboard → Storage\n2. Create new bucket\n3. Configure bucket as public or private\n\n**Bucket Policies:**\nSet up access policies:\n```sql\nCREATE POLICY \"Public Access\"\nON storage.objects FOR SELECT\nUSING (bucket_id = 'public-bucket');\n\nCREATE POLICY \"Authenticated Upload\"\nON storage.objects FOR INSERT\nTO authenticated\nWITH CHECK (bucket_id = 'user-uploads');\n```\n\n**CORS Configuration:**\nConfigure CORS if accessing from different domain:\n1. Go to Storage → Configuration\n2. Add allowed origins\n3. Set allowed methods\n\n**CDN:**\nSupabase Storage includes CDN. Use transformation parameters for images:\n```\nhttps://xxx.supabase.co/storage/v1/object/public/bucket/image.jpg?width=500\n```",
                "include": true
              },
              "option9": {
                "content": "### Realtime Setup (Supabase)\n\n**Enable Replication:**\n1. Go to Database → Replication\n2. Enable for tables you want realtime updates\n3. Configure publication settings\n\n**Security:**\nSet up RLS policies for realtime:\n```sql\nALTER TABLE messages ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Users can see their messages\"\nON messages FOR SELECT\nUSING (auth.uid() = user_id);\n```\n\n**Client Configuration:**\nRealtime subscriptions are automatic with Supabase client. Ensure proper channel naming and filtering.\n\n**Monitoring:**\n- Monitor connection count\n- Check message delivery latency\n- Set up alerts for connection issues",
                "include": true
              },
              "option10": {
                "content": "### Post-Deployment Verification\n\n**Checklist:**\n- [ ] Application loads correctly at production URL\n- [ ] Database migrations applied successfully\n- [ ] All environment variables set correctly\n- [ ] Authentication flow works (sign up, login, logout)\n- [ ] Email delivery working\n- [ ] Payment processing functional (if applicable)\n- [ ] File uploads working (if applicable)\n- [ ] API endpoints responding correctly\n- [ ] SSL certificate valid and auto-renewing\n- [ ] Monitoring and logging configured\n- [ ] Error tracking set up\n- [ ] Backups configured\n- [ ] Domain DNS propagated\n\n**Load Testing:**\nTest your application under load:\n```bash\nnpm install -g artillery\nartillery quick --count 100 --num 10 https://your-domain.com\n```\n\n**Security Scan:**\n- Run security audit: `npm audit`\n- Check for exposed secrets\n- Verify CORS settings\n- Test rate limiting\n- Verify CSP headers",
                "include": true
              }
            }
          },
          "include": true,
          "includeInSidebar": false,
          "isDynamicRobotsFile": false
        },
        "code-files": {
          "id": "code-files",
          "name": "code-files",
          "displayName": "Code files",
          "type": "directory",
          "path": "code-files",
          "urlPath": "/code-files",
          "include": true,
          "includeInSidebar": true,
          "children": []
        }
      },
      "contentVersion": 1
    },
    "previewMode": false,
    "darkMode": true,
    "appStructureGenerated": true,
    "readmeGenerated": true,
    "databaseGenerated": true,
    "appStructure": [
      {
        "id": "app-root",
        "name": "app",
        "type": "directory",
        "isExpanded": true,
        "children": [
          {
            "id": "layout-tsx",
            "name": "layout.tsx",
            "type": "file"
          },
          {
            "id": "layout-hooks",
            "name": "layout.hooks.tsx",
            "type": "file"
          },
          {
            "id": "layout-stores",
            "name": "layout.stores.ts",
            "type": "file"
          },
          {
            "id": "layout-actions",
            "name": "layout.actions.ts",
            "type": "file"
          },
          {
            "id": "layout-types",
            "name": "layout.types.ts",
            "type": "file"
          },
          {
            "id": "page-tsx",
            "name": "page.tsx",
            "type": "file"
          },
          {
            "id": "page-hooks",
            "name": "page.hooks.tsx",
            "type": "file"
          },
          {
            "id": "auth-group",
            "name": "(auth)",
            "type": "directory",
            "children": [
              {
                "id": "sign-in-dir",
                "name": "sign-in",
                "type": "directory",
                "children": [
                  {
                    "id": "signin-page",
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "id": "sign-up-dir",
                "name": "sign-up",
                "type": "directory",
                "children": [
                  {
                    "id": "signup-page",
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "id": "forgot-dir",
                "name": "forgot-password",
                "type": "directory",
                "children": [
                  {
                    "id": "forgot-page",
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "id": "reset-dir",
                "name": "reset-password",
                "type": "directory",
                "children": [
                  {
                    "id": "reset-page",
                    "name": "page.tsx",
                    "type": "file"
                  }
                ]
              }
            ]
          },
          {
            "id": "welcome-dir",
            "name": "welcome",
            "type": "directory",
            "children": [
              {
                "id": "welcome-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "welcome-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              }
            ]
          },
          {
            "id": "quizzes-dir",
            "name": "quizzes",
            "type": "directory",
            "children": [
              {
                "id": "quizzes-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "quizzes-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "quizzes-stores",
                "name": "page.stores.ts",
                "type": "file"
              },
              {
                "id": "create-dir",
                "name": "create",
                "type": "directory",
                "children": [
                  {
                    "id": "create-page",
                    "name": "page.tsx",
                    "type": "file"
                  },
                  {
                    "id": "create-hooks",
                    "name": "page.hooks.tsx",
                    "type": "file"
                  }
                ]
              }
            ]
          },
          {
            "id": "characters-dir",
            "name": "characters",
            "type": "directory",
            "children": [
              {
                "id": "chars-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "chars-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "char-id-dir",
                "name": "[characterId]",
                "type": "directory",
                "children": [
                  {
                    "id": "charid-page",
                    "name": "page.tsx",
                    "type": "file"
                  },
                  {
                    "id": "charid-hooks",
                    "name": "page.hooks.tsx",
                    "type": "file"
                  }
                ]
              },
              {
                "id": "page-stores-ts-1769732753186",
                "name": "page.stores.ts",
                "type": "file"
              }
            ]
          },
          {
            "id": "adventure-dir",
            "name": "adventure",
            "type": "directory",
            "children": [
              {
                "id": "adv-charid-dir",
                "name": "[characterId]",
                "type": "directory",
                "children": [
                  {
                    "id": "adv-page",
                    "name": "page.tsx",
                    "type": "file"
                  },
                  {
                    "id": "adv-hooks",
                    "name": "page.hooks.tsx",
                    "type": "file"
                  },
                  {
                    "id": "adv-stores",
                    "name": "page.stores.ts",
                    "type": "file"
                  }
                ]
              }
            ]
          },
          {
            "id": "community-dir",
            "name": "community",
            "type": "directory",
            "children": [
              {
                "id": "community-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "community-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              }
            ]
          },
          {
            "id": "settings-dir",
            "name": "settings",
            "type": "directory",
            "children": [
              {
                "id": "settings-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "settings-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              }
            ]
          },
          {
            "id": "admin-group",
            "name": "(admin)",
            "type": "directory",
            "children": [
              {
                "id": "admin-dir",
                "name": "admin",
                "type": "directory",
                "children": [
                  {
                    "id": "admin-page",
                    "name": "page.tsx",
                    "type": "file"
                  },
                  {
                    "id": "admin-hooks",
                    "name": "page.hooks.tsx",
                    "type": "file"
                  },
                  {
                    "id": "admin-stores",
                    "name": "page.stores.ts",
                    "type": "file"
                  }
                ]
              }
            ]
          }
        ]
      }
    ],
    "features": {
      "layout-tsx": [
        {
          "id": "p8l8cg23g",
          "title": "Sign out user",
          "description": "Clear user session and redirect to login page",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useSignOut",
            "actions": "signOutAction",
            "stores": "useAuthStore",
            "types": "SignOutResult"
          },
          "isEditing": false
        },
        {
          "id": "mqxfge8ct",
          "title": "Toggle user profile menu",
          "description": "Show/hide user profile popover menu",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useProfileMenu",
            "actions": "toggleProfileMenuAction",
            "stores": "useProfileMenuStore",
            "types": "ProfileMenuState"
          },
          "isEditing": false
        },
        {
          "id": "zjxp122xu",
          "title": "Get community stats",
          "description": "Fetch and display community statistics in footer",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useCommunityStats",
            "actions": "getCommunityStatsAction",
            "stores": "useCommunityStatsStore",
            "types": "CommunityStats"
          },
          "isEditing": false
        },
        {
          "id": "aq82co3dq",
          "title": "Get content queue metrics",
          "description": "Fetch current moderation queue statistics",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useQueueMetrics",
            "actions": "getQueueMetricsAction",
            "stores": "useQueueMetricsStore",
            "types": "QueueMetrics"
          },
          "isEditing": false
        },
        {
          "id": "uwsfkq4hy",
          "title": "Get moderation analytics",
          "description": "Fetch and display content moderation analytics",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useModerationAnalytics",
            "actions": "getModerationAnalyticsAction",
            "stores": "useModerationStore",
            "types": "ModerationAnalytics"
          },
          "isEditing": false
        }
      ],
      "page-tsx": [
        {
          "id": "jthuxilak",
          "title": "Get featured characters",
          "description": "Fetch and display featured character profiles",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useFeaturedCharacters",
            "actions": "getFeaturedCharactersAction",
            "stores": "useCharacterStore",
            "types": "FeaturedCharacters"
          },
          "isEditing": false
        },
        {
          "id": "ngyvwbs7d",
          "title": "Get popular quiz sets",
          "description": "Fetch and display trending quiz collections",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "usePopularQuizzes",
            "actions": "getPopularQuizzesAction",
            "stores": "useQuizStore",
            "types": "PopularQuizzes"
          },
          "isEditing": false
        },
        {
          "id": "2ir0al9yq",
          "title": "Get recent completions",
          "description": "Fetch and display recently completed quizzes and adventures",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useRecentCompletions",
            "actions": "getRecentCompletionsAction",
            "stores": "useCompletionsStore",
            "types": "RecentCompletions"
          },
          "isEditing": false
        }
      ],
      "signin-page": [
        {
          "id": "e1fizbyli",
          "title": "Sign in with email and password",
          "description": "Authenticate user with email and password credentials",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useSignIn",
            "actions": "signInAction",
            "stores": "useAuthStore",
            "types": "SignInCredentials"
          },
          "isEditing": false
        }
      ],
      "signup-page": [
        {
          "id": "w3dya0vdj",
          "title": "Create user account",
          "description": "Register new user with email and password",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useSignUp",
            "actions": "signUpAction",
            "stores": "useAuthStore",
            "types": "SignUpCredentials"
          },
          "isEditing": false
        }
      ],
      "forgot-page": [
        {
          "id": "e8lrs61gg",
          "title": "Send password reset email",
          "description": "Send password reset link to user's email address",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useForgotPassword",
            "actions": "forgotPasswordAction",
            "stores": "useAuthStore",
            "types": "ForgotPasswordInput"
          },
          "isEditing": false
        }
      ],
      "reset-page": [
        {
          "id": "7i4208nrv",
          "title": "Reset user password",
          "description": "Update user's password using reset token",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useResetPassword",
            "actions": "resetPasswordAction",
            "stores": "useAuthStore",
            "types": "ResetPasswordInput"
          },
          "isEditing": false
        }
      ],
      "welcome-page": [
        {
          "id": "7nkwkb47u",
          "title": "Update user profile",
          "description": "Save initial user profile details including name and bio",
          "linkedFiles": {
            "hooks": "/app/welcome/page.hooks.tsx",
            "actions": "/app/welcome/page.hooks.tsx",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useUpdateProfile",
            "actions": "updateProfileAction",
            "stores": "useProfileStore",
            "types": "UpdateProfileInput"
          },
          "isEditing": false
        },
        {
          "id": "omot26l5d",
          "title": "Upload avatar image",
          "description": "Upload and save user profile picture",
          "linkedFiles": {
            "hooks": "/app/welcome/page.hooks.tsx",
            "actions": "/app/welcome/page.hooks.tsx",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useAvatarUpload",
            "actions": "uploadAvatarAction",
            "stores": "useProfileStore",
            "types": "AvatarUploadResult"
          },
          "isEditing": false
        },
        {
          "id": "w3y1drh3g",
          "title": "Set quiz preferences",
          "description": "Save user's quiz and content preferences",
          "linkedFiles": {
            "hooks": "/app/welcome/page.hooks.tsx",
            "actions": "/app/welcome/page.hooks.tsx",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useQuizPreferences",
            "actions": "setQuizPreferencesAction",
            "stores": "usePreferencesStore",
            "types": "QuizPreferencesInput"
          },
          "isEditing": false
        }
      ],
      "quizzes-page": [
        {
          "id": "dztxotx9g",
          "title": "Get quiz sets",
          "description": "Fetch user's personal and imported quiz collections",
          "linkedFiles": {
            "hooks": "/app/quizzes/page.hooks.tsx",
            "actions": "/app/quizzes/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useQuizSets",
            "actions": "getQuizSetsAction",
            "stores": "useQuizStore",
            "types": "QuizSet"
          },
          "isEditing": false
        },
        {
          "id": "yq754q82e",
          "title": "Take quiz",
          "description": "Start selected quiz session",
          "linkedFiles": {
            "hooks": "/app/quizzes/page.hooks.tsx",
            "actions": "/app/quizzes/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useQuizSession",
            "actions": "startQuizSessionAction",
            "stores": "useQuizSessionStore",
            "types": "QuizSessionData"
          },
          "isEditing": false
        },
        {
          "id": "g7q1wbeom",
          "title": "Edit quiz set",
          "description": "Modify existing quiz content and settings",
          "linkedFiles": {
            "hooks": "/app/quizzes/page.hooks.tsx",
            "actions": "/app/quizzes/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useEditQuizSet",
            "actions": "editQuizSetAction",
            "stores": "useQuizStore",
            "types": "EditQuizSetInput"
          },
          "isEditing": false
        },
        {
          "id": "53g4phov9",
          "title": "Get quiz analytics",
          "description": "View performance statistics for quiz set",
          "linkedFiles": {
            "hooks": "/app/quizzes/page.hooks.tsx",
            "actions": "/app/quizzes/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useQuizAnalytics",
            "actions": "getQuizAnalyticsAction",
            "stores": "useAnalyticsStore",
            "types": "QuizAnalytics"
          },
          "isEditing": false
        },
        {
          "id": "yc08r1gqy",
          "title": "Toggle quiz sharing",
          "description": "Enable/disable public access to quiz set",
          "linkedFiles": {
            "hooks": "/app/quizzes/page.hooks.tsx",
            "actions": "/app/quizzes/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useQuizSharing",
            "actions": "toggleQuizSharingAction",
            "stores": "useQuizStore",
            "types": "QuizSharingState"
          },
          "isEditing": false
        },
        {
          "id": "3l2dl1npr",
          "title": "Delete quiz set",
          "description": "Remove quiz set from library",
          "linkedFiles": {
            "hooks": "/app/quizzes/page.hooks.tsx",
            "actions": "/app/quizzes/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useDeleteQuizSet",
            "actions": "deleteQuizSetAction",
            "stores": "useQuizStore",
            "types": "DeleteQuizResult"
          },
          "isEditing": false
        }
      ],
      "chars-page": [
        {
          "id": "49mcsjqfl",
          "title": "Get user characters",
          "description": "Fetch all characters created by user",
          "linkedFiles": {
            "hooks": "/app/characters/page.hooks.tsx",
            "actions": "/app/characters/page.hooks.tsx",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useUserCharacters",
            "actions": "getUserCharactersAction",
            "stores": "useCharacterStore",
            "types": "UserCharacter"
          },
          "isEditing": false
        },
        {
          "id": "eckrkpjwq",
          "title": "Get character stats",
          "description": "Fetch statistics and achievements for each character",
          "linkedFiles": {
            "hooks": "/app/characters/page.hooks.tsx",
            "actions": "/app/characters/page.hooks.tsx",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useCharacterStats",
            "actions": "getCharacterStatsAction",
            "stores": "useCharacterStore",
            "types": "CharacterStats"
          },
          "isEditing": false
        },
        {
          "id": "49926ylbq",
          "title": "Get available quests",
          "description": "Fetch available adventure quests for characters",
          "linkedFiles": {
            "hooks": "/app/characters/page.hooks.tsx",
            "actions": "/app/characters/page.hooks.tsx",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useAvailableQuests",
            "actions": "getAvailableQuestsAction",
            "stores": "useQuestStore",
            "types": "AvailableQuest"
          },
          "isEditing": false
        },
        {
          "id": "3zr3qb05g",
          "title": "Customize character appearance",
          "description": "Modify character visual attributes",
          "linkedFiles": {
            "hooks": "/app/characters/page.hooks.tsx",
            "actions": "/app/characters/page.hooks.tsx",
            "stores": "/app/characters/page.hooks.tsx",
            "types": "/app/characters/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useCharacterCustomization",
            "actions": "updateCharacterAppearanceAction",
            "stores": "useCharacterCustomizationStore",
            "types": "CharacterAppearanceData"
          },
          "isEditing": false
        },
        {
          "id": "s8773ugid",
          "title": "Share character",
          "description": "Generate and copy character share link",
          "linkedFiles": {
            "hooks": "/app/characters/page.hooks.tsx",
            "actions": "/app/characters/page.hooks.tsx",
            "stores": "/app/characters/page.hooks.tsx",
            "types": "/app/characters/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useCharacterSharing",
            "actions": "generateCharacterShareLinkAction",
            "stores": "useCharacterSharingStore",
            "types": "CharacterShareData"
          },
          "isEditing": false
        }
      ],
      "adv-page": [
        {
          "id": "ptng3cxn3",
          "title": "Get character stats",
          "description": "Fetch current character statistics and status",
          "linkedFiles": {
            "hooks": "/app/adventure/[characterId]/page.hooks.tsx",
            "actions": "/app/adventure/[characterId]/page.hooks.tsx",
            "stores": "/app/adventure/[characterId]/page.stores.ts",
            "types": "/app/adventure/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAdventureCharacterStats",
            "actions": "getAdventureCharacterStatsAction",
            "stores": "useAdventureStatsStore",
            "types": "AdventureCharacterStats"
          },
          "isEditing": false
        },
        {
          "id": "fuw4bhz01",
          "title": "Generate story content",
          "description": "Create AI-driven narrative based on context",
          "linkedFiles": {
            "hooks": "/app/adventure/[characterId]/page.hooks.tsx",
            "actions": "/app/adventure/[characterId]/page.hooks.tsx",
            "stores": "/app/adventure/[characterId]/page.stores.ts",
            "types": "/app/adventure/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useStoryGeneration",
            "actions": "generateStoryContentAction",
            "stores": "useStoryContentStore",
            "types": "StoryContent"
          },
          "isEditing": false
        },
        {
          "id": "mmy50eki0",
          "title": "Submit quiz answer",
          "description": "Process quiz response and update story",
          "linkedFiles": {
            "hooks": "/app/adventure/[characterId]/page.hooks.tsx",
            "actions": "/app/adventure/[characterId]/page.hooks.tsx",
            "stores": "/app/adventure/[characterId]/page.stores.ts",
            "types": "/app/adventure/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useQuizSubmission",
            "actions": "submitAdventureQuizAnswerAction",
            "stores": "useAdventureQuizStore",
            "types": "AdventureQuizAnswer"
          },
          "isEditing": false
        },
        {
          "id": "btsh0ouzy",
          "title": "Get progress status",
          "description": "Fetch current adventure progress",
          "linkedFiles": {
            "hooks": "/app/adventure/[characterId]/page.hooks.tsx",
            "actions": "/app/adventure/[characterId]/page.hooks.tsx",
            "stores": "/app/adventure/[characterId]/page.stores.ts",
            "types": "/app/adventure/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAdventureProgress",
            "actions": "getAdventureProgressAction",
            "stores": "useProgressStore",
            "types": "AdventureProgress"
          },
          "isEditing": false
        },
        {
          "id": "kuc97v3jt",
          "title": "Share adventure status",
          "description": "Generate and share current adventure progress",
          "linkedFiles": {
            "hooks": "/app/adventure/[characterId]/page.hooks.tsx",
            "actions": "/app/adventure/[characterId]/page.hooks.tsx",
            "stores": "/app/adventure/[characterId]/page.stores.ts",
            "types": "/app/adventure/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAdventureSharing",
            "actions": "shareAdventureStatusAction",
            "stores": "useAdventureSharingStore",
            "types": "AdventureShareData"
          },
          "isEditing": false
        }
      ],
      "create-page": [
        {
          "id": "e2xkyt9nh",
          "title": "Upload quiz document",
          "description": "Import quiz content from PDF/DOCX/MD/TXT file",
          "linkedFiles": {
            "hooks": "/app/quizzes/create/page.hooks.tsx",
            "actions": "/app/quizzes/create/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/quizzes/create/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useQuizDocumentUpload",
            "actions": "uploadQuizDocumentAction",
            "stores": "useQuizUploadStore",
            "types": "QuizDocumentUpload"
          },
          "isEditing": false
        },
        {
          "id": "xoz7sg9my",
          "title": "Generate AI quiz content",
          "description": "Create quiz questions using AI assistance",
          "linkedFiles": {
            "hooks": "/app/quizzes/create/page.hooks.tsx",
            "actions": "/app/quizzes/create/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/quizzes/create/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAIQuizGeneration",
            "actions": "generateAIQuizContentAction",
            "stores": "useQuizGenerationStore",
            "types": "AIQuizContent"
          },
          "isEditing": false
        },
        {
          "id": "bttmcx1ar",
          "title": "Create quiz manually",
          "description": "Add quiz questions through form interface",
          "linkedFiles": {
            "hooks": "/app/quizzes/create/page.hooks.tsx",
            "actions": "/app/quizzes/create/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/quizzes/create/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useManualQuizCreation",
            "actions": "createManualQuizAction",
            "stores": "useQuizCreationStore",
            "types": "ManualQuizData"
          },
          "isEditing": false
        },
        {
          "id": "8fff6hi52",
          "title": "Submit quiz for approval",
          "description": "Send quiz for community sharing approval",
          "linkedFiles": {
            "hooks": "/app/quizzes/create/page.hooks.tsx",
            "actions": "/app/quizzes/create/page.hooks.tsx",
            "stores": "/app/quizzes/page.stores.ts",
            "types": "/app/quizzes/create/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useQuizApprovalSubmission",
            "actions": "submitQuizForApprovalAction",
            "stores": "useQuizApprovalStore",
            "types": "QuizApprovalData"
          },
          "isEditing": false
        }
      ],
      "charid-page": [
        {
          "id": "r48jhrah0",
          "title": "Get character details",
          "description": "Fetch character profile, stats, and history",
          "linkedFiles": {
            "hooks": "/app/characters/[characterId]/page.hooks.tsx",
            "actions": "/app/characters/[characterId]/page.hooks.tsx",
            "stores": "/app/characters/page.hooks.tsx",
            "types": "/app/characters/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useCharacterDetails",
            "actions": "getCharacterDetailsAction",
            "stores": "useCharacterDetailsStore",
            "types": "CharacterDetails"
          },
          "isEditing": false
        },
        {
          "id": "s3pkrgu0u",
          "title": "Get achievement gallery",
          "description": "Fetch character's earned achievements",
          "linkedFiles": {
            "hooks": "/app/characters/[characterId]/page.hooks.tsx",
            "actions": "/app/characters/[characterId]/page.hooks.tsx",
            "stores": "/app/characters/page.stores.ts",
            "types": "/app/characters/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAchievementGallery",
            "actions": "getAchievementGalleryAction",
            "stores": "useAchievementStore",
            "types": "AchievementGallery"
          },
          "isEditing": false
        },
        {
          "id": "iiv4aqwko",
          "title": "Get inventory items",
          "description": "Fetch character's collected items",
          "linkedFiles": {
            "hooks": "/app/characters/[characterId]/page.hooks.tsx",
            "actions": "/app/characters/[characterId]/page.hooks.tsx",
            "stores": "/app/characters/page.stores.ts",
            "types": "/app/characters/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useInventoryItems",
            "actions": "getInventoryItemsAction",
            "stores": "useInventoryStore",
            "types": "InventoryItem"
          },
          "isEditing": false
        },
        {
          "id": "4luc65jjq",
          "title": "Vote on character",
          "description": "Submit upvote or downvote on character",
          "linkedFiles": {
            "hooks": "/app/characters/[characterId]/page.hooks.tsx",
            "actions": "/app/characters/[characterId]/page.hooks.tsx",
            "stores": "/app/characters/page.stores.ts",
            "types": "/app/characters/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useCharacterVoting",
            "actions": "submitCharacterVoteAction",
            "stores": "useVotingStore",
            "types": "CharacterVote"
          },
          "isEditing": false
        },
        {
          "id": "qlw2wdj5q",
          "title": "Share character profile",
          "description": "Generate and copy character profile link",
          "linkedFiles": {
            "hooks": "/app/characters/[characterId]/page.hooks.tsx",
            "actions": "/app/characters/[characterId]/page.hooks.tsx",
            "stores": "/app/characters/page.stores.ts",
            "types": "/app/characters/[characterId]/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useProfileSharing",
            "actions": "generateProfileShareLinkAction",
            "stores": "useProfileSharingStore",
            "types": "ProfileShareData"
          },
          "isEditing": false
        }
      ],
      "community-page": [
        {
          "id": "bhue4f2oh",
          "title": "Get trending content",
          "description": "Fetch popular characters and quiz sets",
          "linkedFiles": {
            "hooks": "/app/community/page.hooks.tsx",
            "actions": "/app/community/page.hooks.tsx",
            "stores": "/app/community/page.hooks.tsx",
            "types": "/app/community/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useTrendingContent",
            "actions": "getTrendingContentAction",
            "stores": "useTrendingStore",
            "types": "TrendingContent"
          },
          "isEditing": false
        },
        {
          "id": "71olg56fm",
          "title": "Get activity feed",
          "description": "Fetch recent community activities",
          "linkedFiles": {
            "hooks": "/app/community/page.hooks.tsx",
            "actions": "/app/community/page.hooks.tsx",
            "stores": "/app/community/page.hooks.tsx",
            "types": "/app/community/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useActivityFeed",
            "actions": "getActivityFeedAction",
            "stores": "useActivityStore",
            "types": "ActivityFeed"
          },
          "isEditing": false
        },
        {
          "id": "v1ci28pmf",
          "title": "Get community statistics",
          "description": "Fetch overall community metrics",
          "linkedFiles": {
            "hooks": "/app/community/page.hooks.tsx",
            "actions": "/app/community/page.hooks.tsx",
            "stores": "/app/community/page.hooks.tsx",
            "types": "/app/community/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useCommunityMetrics",
            "actions": "getCommunityMetricsAction",
            "stores": "useMetricsStore",
            "types": "CommunityMetrics"
          },
          "isEditing": false
        },
        {
          "id": "yavwvvv06",
          "title": "Get featured spotlight",
          "description": "Fetch currently featured content",
          "linkedFiles": {
            "hooks": "/app/community/page.hooks.tsx",
            "actions": "/app/community/page.hooks.tsx",
            "stores": "/app/community/page.hooks.tsx",
            "types": "/app/community/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useSpotlightContent",
            "actions": "getSpotlightContentAction",
            "stores": "useSpotlightStore",
            "types": "SpotlightContent"
          },
          "isEditing": false
        }
      ],
      "settings-page": [
        {
          "id": "42fabnfiv",
          "title": "Update profile settings",
          "description": "Modify user profile information",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.hooks.tsx",
            "stores": "/app/settings/page.hooks.tsx",
            "types": "/app/settings/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useProfileSettings",
            "actions": "updateProfileSettingsAction",
            "stores": "useSettingsStore",
            "types": "ProfileSettings"
          },
          "isEditing": false
        },
        {
          "id": "bjje05918",
          "title": "Update quiz preferences",
          "description": "Modify quiz feedback and reminder settings",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.hooks.tsx",
            "stores": "/app/settings/page.hooks.tsx",
            "types": "/app/settings/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useQuizSettings",
            "actions": "updateQuizSettingsAction",
            "stores": "useQuizSettingsStore",
            "types": "QuizSettings"
          },
          "isEditing": false
        },
        {
          "id": "pkx6xorlt",
          "title": "Update adventure preferences",
          "description": "Modify adventure gameplay settings",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.hooks.tsx",
            "stores": "/app/settings/page.hooks.tsx",
            "types": "/app/settings/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAdventureSettings",
            "actions": "updateAdventureSettingsAction",
            "stores": "useAdventureSettingsStore",
            "types": "AdventureSettings"
          },
          "isEditing": false
        },
        {
          "id": "ds1i0yyt9",
          "title": "Update privacy settings",
          "description": "Modify content visibility and permissions",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.hooks.tsx",
            "stores": "/app/settings/page.hooks.tsx",
            "types": "/app/settings/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "usePrivacySettings",
            "actions": "updatePrivacySettingsAction",
            "stores": "usePrivacySettingsStore",
            "types": "PrivacySettings"
          },
          "isEditing": false
        },
        {
          "id": "o9tt9u4n8",
          "title": "Update notification settings",
          "description": "Modify notification preferences",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.hooks.tsx",
            "stores": "/app/settings/page.hooks.tsx",
            "types": "/app/settings/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useNotificationSettings",
            "actions": "updateNotificationSettingsAction",
            "stores": "useNotificationSettingsStore",
            "types": "NotificationSettings"
          },
          "isEditing": false
        },
        {
          "id": "18hsxt3ni",
          "title": "Export user data",
          "description": "Download user data and content",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.hooks.tsx",
            "stores": "/app/settings/page.hooks.tsx",
            "types": "/app/settings/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useDataExport",
            "actions": "exportUserDataAction",
            "stores": "useDataExportStore",
            "types": "UserDataExport"
          },
          "isEditing": false
        }
      ],
      "admin-page": [
        {
          "id": "hg794phal",
          "title": "Get moderation queue",
          "description": "Fetch pending content for review",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/(admin)/admin/page.hooks.tsx",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/(admin)/admin/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useModerationQueue",
            "actions": "getModerationQueueAction",
            "stores": "useModerationQueueStore",
            "types": "ModerationQueueItem"
          },
          "isEditing": false
        },
        {
          "id": "ykzzoatt6",
          "title": "Get flagged content",
          "description": "Fetch reported content items",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/(admin)/admin/page.hooks.tsx",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/(admin)/admin/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useFlaggedContent",
            "actions": "getFlaggedContentAction",
            "stores": "useFlaggedContentStore",
            "types": "FlaggedContent"
          },
          "isEditing": false
        },
        {
          "id": "8z3erzdbo",
          "title": "Get user reports",
          "description": "Fetch user behavior reports",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/(admin)/admin/page.hooks.tsx",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/(admin)/admin/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useUserReports",
            "actions": "getUserReportsAction",
            "stores": "useUserReportsStore",
            "types": "UserReport"
          },
          "isEditing": false
        },
        {
          "id": "67q6i4r0a",
          "title": "Moderate content item",
          "description": "Approve/remove/hide content items",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/(admin)/admin/page.hooks.tsx",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/(admin)/admin/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useContentModeration",
            "actions": "moderateContentAction",
            "stores": "useContentModerationStore",
            "types": "ContentModerationInput"
          },
          "isEditing": false
        },
        {
          "id": "ff8y6emzw",
          "title": "Take user action",
          "description": "Warn/suspend/ban user accounts",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/(admin)/admin/page.hooks.tsx",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/(admin)/admin/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useUserAction",
            "actions": "takeUserActionAction",
            "stores": "useUserActionStore",
            "types": "UserActionInput"
          },
          "isEditing": false
        },
        {
          "id": "m5vhye4o9",
          "title": "Get audit log",
          "description": "Fetch moderation action history.",
          "linkedFiles": {
            "hooks": "/app/(admin)/admin/page.hooks.tsx",
            "actions": "/app/(admin)/admin/page.hooks.tsx",
            "stores": "/app/(admin)/admin/page.stores.ts",
            "types": "/app/(admin)/admin/page.hooks.tsx"
          },
          "functionNames": {
            "hooks": "useAuditLog",
            "actions": "getAuditLogAction",
            "stores": "useAuditLogStore",
            "types": "AuditLogEntry"
          },
          "isEditing": false
        }
      ]
    },
    "initialConfiguration": {
      "technologies": {
        "nextjs": true,
        "typescript": true,
        "tailwindcss": true,
        "shadcn": true,
        "zustand": true,
        "reactQuery": true,
        "supabase": true,
        "postgresql": true,
        "vercel": true,
        "railway": false,
        "playwright": false,
        "cypress": false,
        "resend": false,
        "stripe": false,
        "paypal": false,
        "openrouter": false
      },
      "questions": {
        "databaseProvider": "supabase",
        "alwaysOnServer": false
      },
      "features": {
        "authentication": {
          "enabled": false,
          "emailPassword": false,
          "magicLink": false
        },
        "admin": {
          "enabled": false,
          "admin": false,
          "superAdmin": false
        },
        "payments": {
          "enabled": false,
          "paypalPayments": false,
          "stripePayments": false,
          "stripeSubscriptions": false
        },
        "aiIntegration": {
          "enabled": false,
          "imageGeneration": false,
          "textGeneration": false
        },
        "realTimeNotifications": {
          "enabled": false,
          "emailNotifications": false,
          "inAppNotifications": false
        },
        "fileStorage": false
      },
      "database": {
        "hosting": "supabase"
      },
      "deployment": {
        "platform": "vercel"
      }
    }
  },
  "themeState": {
    "selectedTheme": 33,
    "colors": {
      "light": {
        "primary": "oklch(0.5553 0.1455 48.9975)",
        "primaryForeground": "oklch(1 0 0)",
        "secondary": "oklch(0.8276 0.0752 74.44)",
        "secondaryForeground": "oklch(0.4444 0.0096 73.639)",
        "accent": "oklch(0.9 0.05 74.9889)",
        "accentForeground": "oklch(0.4444 0.0096 73.639)",
        "background": "oklch(0.9885 0.0057 84.5659)",
        "foreground": "oklch(0.366 0.0251 49.6085)",
        "card": "oklch(0.9686 0.0091 78.2818)",
        "cardForeground": "oklch(0.366 0.0251 49.6085)",
        "popover": "oklch(0.9686 0.0091 78.2818)",
        "popoverForeground": "oklch(0.366 0.0251 49.6085)",
        "muted": "oklch(0.9363 0.0218 83.2637)",
        "mutedForeground": "oklch(0.5534 0.0116 58.0708)",
        "destructive": "oklch(0.4437 0.1613 26.8994)",
        "destructiveForeground": "oklch(1 0 0)",
        "border": "oklch(0.8866 0.0404 89.6994)",
        "input": "oklch(0.8866 0.0404 89.6994)",
        "ring": "oklch(0.5553 0.1455 48.9975)",
        "chart1": "oklch(0.5553 0.1455 48.9975)",
        "chart2": "oklch(0.5534 0.0116 58.0708)",
        "chart3": "oklch(0.5538 0.1207 66.4416)",
        "chart4": "oklch(0.5534 0.0116 58.0708)",
        "chart5": "oklch(0.6806 0.1423 75.834)",
        "sidebarBackground": "oklch(0.9363 0.0218 83.2637)",
        "sidebarForeground": "oklch(0.366 0.0251 49.6085)",
        "sidebarPrimary": "oklch(0.5553 0.1455 48.9975)",
        "sidebarPrimaryForeground": "oklch(1 0 0)",
        "sidebarAccent": "oklch(0.5538 0.1207 66.4416)",
        "sidebarAccentForeground": "oklch(1 0 0)",
        "sidebarBorder": "oklch(0.8866 0.0404 89.6994)",
        "sidebarRing": "oklch(0.5553 0.1455 48.9975)"
      },
      "dark": {
        "primary": "oklch(0.7049 0.1867 47.6044)",
        "primaryForeground": "oklch(1 0 0)",
        "secondary": "oklch(0.4444 0.0096 73.639)",
        "secondaryForeground": "oklch(0.9232 0.0026 48.7171)",
        "accent": "oklch(0.3598 0.0497 229.3202)",
        "accentForeground": "oklch(0.9232 0.0026 48.7171)",
        "background": "oklch(0.2161 0.0061 56.0434)",
        "foreground": "oklch(0.9699 0.0013 106.4238)",
        "card": "oklch(0.2685 0.0063 34.2976)",
        "cardForeground": "oklch(0.9699 0.0013 106.4238)",
        "popover": "oklch(0.2685 0.0063 34.2976)",
        "popoverForeground": "oklch(0.9699 0.0013 106.4238)",
        "muted": "oklch(0.233 0.0073 67.4563)",
        "mutedForeground": "oklch(0.7161 0.0091 56.259)",
        "destructive": "oklch(0.5771 0.2152 27.325)",
        "destructiveForeground": "oklch(1 0 0)",
        "border": "oklch(0.3741 0.0087 67.5582)",
        "input": "oklch(0.3741 0.0087 67.5582)",
        "ring": "oklch(0.7049 0.1867 47.6044)",
        "chart1": "oklch(0.7049 0.1867 47.6044)",
        "chart2": "oklch(0.6847 0.1479 237.3225)",
        "chart3": "oklch(0.7952 0.1617 86.0468)",
        "chart4": "oklch(0.7161 0.0091 56.259)",
        "chart5": "oklch(0.5534 0.0116 58.0708)",
        "sidebarBackground": "oklch(0.2685 0.0063 34.2976)",
        "sidebarForeground": "oklch(0.9699 0.0013 106.4238)",
        "sidebarPrimary": "oklch(0.7049 0.1867 47.6044)",
        "sidebarPrimaryForeground": "oklch(1 0 0)",
        "sidebarAccent": "oklch(0.6847 0.1479 237.3225)",
        "sidebarAccentForeground": "oklch(0.2839 0.0734 254.5378)",
        "sidebarBorder": "oklch(0.3741 0.0087 67.5582)",
        "sidebarRing": "oklch(0.7049 0.1867 47.6044)"
      }
    },
    "typography": {
      "light": {
        "fontSans": "var(--font-oxanium)",
        "fontSerif": "var(--font-merriweather)",
        "fontMono": "var(--font-fira-code)",
        "letterSpacing": 0
      },
      "dark": {
        "fontSans": "var(--font-oxanium)",
        "fontSerif": "var(--font-merriweather)",
        "fontMono": "var(--font-fira-code)",
        "letterSpacing": 0
      }
    },
    "other": {
      "light": {
        "hueShift": 0,
        "saturationMultiplier": 1,
        "lightnessMultiplier": 1,
        "radius": 0.3,
        "spacing": 0.25,
        "shadow": {
          "color": "oklch(0.3771 0.0245 63.1679)",
          "opacity": 0.18,
          "blurRadius": 3,
          "spread": 0,
          "offsetX": 0,
          "offsetY": 2
        }
      },
      "dark": {
        "hueShift": 0,
        "saturationMultiplier": 1,
        "lightnessMultiplier": 1,
        "radius": 0.3,
        "spacing": 0.25,
        "shadow": {
          "color": "oklch(0.1579 0.0000 89.8756)",
          "opacity": 0.18,
          "blurRadius": 3,
          "spread": 0,
          "offsetX": 0,
          "offsetY": 2
        }
      }
    }
  },
  "databaseState": {
    "tables": [
      {
        "id": "default-users",
        "name": "users",
        "schema": "auth",
        "isDefault": true,
        "isEditable": false,
        "uniqueConstraints": [],
        "checkConstraints": [],
        "questionId": "authentication",
        "columns": [
          {
            "id": "users-id",
            "name": "id",
            "type": "UUID",
            "isDefault": true,
            "isEditable": false,
            "isOptional": false,
            "isUnique": false,
            "isId": true,
            "isArray": false,
            "defaultValue": "gen_random_uuid()"
          },
          {
            "id": "users-email",
            "name": "email",
            "type": "TEXT",
            "isDefault": true,
            "isEditable": false,
            "isOptional": false,
            "isUnique": true,
            "isId": false,
            "isArray": false
          }
        ]
      },
      {
        "id": "0b7wj50ik",
        "name": "users",
        "schema": "auth",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": [],
        "columns": [
          {
            "id": "urlvvd17f",
            "name": "id",
            "type": "UUID",
            "isDefault": true,
            "isEditable": false,
            "isOptional": false,
            "isUnique": false,
            "isId": true,
            "isArray": false,
            "defaultValue": "gen_random_uuid()"
          },
          {
            "id": "68a5fhx2o",
            "name": "email",
            "type": "TEXT",
            "isDefault": true,
            "isEditable": false,
            "isOptional": false,
            "isUnique": true,
            "isId": false,
            "isArray": false
          }
        ]
      },
      {
        "name": "profiles",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "5u3jfrmg7",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": "auth.users.id",
            "onDelete": "CASCADE",
            "id": "nmv3voyyf",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "username",
            "type": "TEXT",
            "isOptional": false,
            "id": "vfjragkqm",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "avatar_url",
            "type": "TEXT",
            "isOptional": true,
            "id": "evxq7ubvn",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "bio",
            "type": "TEXT",
            "isOptional": true,
            "id": "ug1dsp0v5",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "quiz_preferences",
            "type": "JSONB",
            "isOptional": true,
            "defaultValue": "'{}'::jsonb",
            "id": "rslx3yb4d",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "adventure_preferences",
            "type": "JSONB",
            "isOptional": true,
            "defaultValue": "'{}'::jsonb",
            "id": "flr47ymqg",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "privacy_settings",
            "type": "JSONB",
            "isOptional": true,
            "defaultValue": "'{}'::jsonb",
            "id": "bo3jgqb3t",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "role",
            "type": "user_role",
            "isOptional": false,
            "defaultValue": "'user'",
            "id": "nwsmd60e6",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "lzyrimcjv",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "3grf7cvdn",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "uniqueConstraints": [
          [
            "username"
          ]
        ],
        "id": "8gqimyanp",
        "isDefault": false,
        "isEditable": true,
        "checkConstraints": []
      },
      {
        "name": "quiz_sets",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "odjkk2mf6",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "references": "auth.users.id",
            "isOptional": false,
            "id": "pl1r8hf4f",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "references": "profiles.id",
            "onDelete": "CASCADE",
            "isOptional": false,
            "id": "8f3195xxq",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "title",
            "type": "TEXT",
            "isOptional": false,
            "id": "pk06ueaj4",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "description",
            "type": "TEXT",
            "isOptional": true,
            "id": "npqfk2zca",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "is_public",
            "type": "BOOLEAN",
            "defaultValue": "false",
            "id": "qxyf50mf6",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "approval_status",
            "type": "approval_status",
            "defaultValue": "'pending'",
            "id": "4033mg7e9",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "tags",
            "type": "TEXT[]",
            "isOptional": true,
            "id": "2u3pe1umr",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "by6zarjhu",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "vtv1nzvss",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "l9snlmxeb",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "quiz_questions",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "2yrokbpqv",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "quiz_set_id",
            "type": "UUID",
            "references": "quiz_sets.id",
            "onDelete": "CASCADE",
            "isOptional": false,
            "id": "1fg1ikh7n",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "references": "auth.users.id",
            "isOptional": false,
            "id": "l3qc10nbo",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "question_text",
            "type": "TEXT",
            "isOptional": false,
            "id": "c4v1by7c8",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "correct_answer",
            "type": "TEXT",
            "isOptional": false,
            "id": "75f5gvnrr",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "wrong_answers",
            "type": "TEXT[]",
            "isOptional": false,
            "id": "6nrrjfer1",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "explanation",
            "type": "TEXT",
            "isOptional": true,
            "id": "w3a9pi11n",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "order_index",
            "type": "INTEGER",
            "isOptional": false,
            "id": "dx8z7zse3",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "wl6l5esod",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "jo8uplj0i",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "quiz_attempts",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "pyxgx1f5m",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "references": "auth.users.id",
            "isOptional": false,
            "id": "lo2tgff2t",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "quiz_set_id",
            "type": "UUID",
            "references": "quiz_sets.id",
            "onDelete": "CASCADE",
            "isOptional": false,
            "id": "216tm96zu",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "character_id",
            "type": "UUID",
            "references": "characters.id",
            "onDelete": "SET NULL",
            "isOptional": true,
            "id": "uuoxzr1ay",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "answers",
            "type": "JSONB",
            "isOptional": false,
            "id": "5ldj59y9u",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "score",
            "type": "INTEGER",
            "isOptional": false,
            "id": "7ob01i1l0",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "completed_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "aepj703g3",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "jvlp7eq3x",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "urf50rutc",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "characters",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "utoihly2e",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": "auth.users.id",
            "id": "ikqtcojyc",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "isOptional": false,
            "references": "profiles.id",
            "onDelete": "CASCADE",
            "id": "s9dy9gqaj",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "isOptional": false,
            "id": "u94kbur39",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "class_type",
            "type": "character_class",
            "isOptional": false,
            "id": "nsy3hxa0c",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "genre",
            "type": "story_genre",
            "isOptional": false,
            "id": "3ylizv8uf",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "stats",
            "type": "JSONB",
            "isOptional": false,
            "id": "19cyg9sn9",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "appearance",
            "type": "JSONB",
            "isOptional": true,
            "id": "nkrgefa54",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "is_public",
            "type": "BOOLEAN",
            "defaultValue": "false",
            "id": "wwtj510mm",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "gvw2evelh",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "6b9eccqwf",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "checkConstraints": [
          {
            "id": "h6fsvu45c",
            "name": "name_length",
            "expression": "LENGTH(name) <= 100"
          }
        ],
        "id": "k1eby10k5",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": []
      },
      {
        "name": "character_achievements",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "mij0odzg0",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "character_id",
            "type": "UUID",
            "isOptional": false,
            "references": "characters.id",
            "onDelete": "CASCADE",
            "id": "vj1odys1x",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": "auth.users.id",
            "id": "da6fe2k7x",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "achievement_type",
            "type": "achievement_type",
            "isOptional": false,
            "id": "l2irsb50m",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "earned_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "keb9u513n",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "metadata",
            "type": "JSONB",
            "isOptional": true,
            "id": "o0i101qwt",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "47bgte2rg",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "1g6pyfzcn",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "character_inventory",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "6flqrwnsy",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "character_id",
            "type": "UUID",
            "isOptional": false,
            "references": "characters.id",
            "onDelete": "CASCADE",
            "id": "ywhzf8glf",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": "auth.users.id",
            "id": "ffx6clz8t",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "item_type",
            "type": "item_type",
            "isOptional": false,
            "id": "sda9ihjb3",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "properties",
            "type": "JSONB",
            "isOptional": false,
            "id": "mr39w5bg8",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "acquired_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "xhsmg72d9",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "p1ewmcors",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "3nxol7tsz",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "adventure_progress",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "y1oq0w32d",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "character_id",
            "type": "UUID",
            "isOptional": false,
            "references": "characters.id",
            "onDelete": "CASCADE",
            "id": "ptuyhd5if",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": "auth.users.id",
            "id": "dn18dynsp",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "story_state",
            "type": "JSONB",
            "isOptional": false,
            "id": "x9t1pqoor",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "current_health",
            "type": "INTEGER",
            "isOptional": false,
            "id": "sval0lc87",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "quiz_performance",
            "type": "JSONB",
            "isOptional": true,
            "id": "oucmet47p",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "a1otqk3sw",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "schlbqf7e",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "checkConstraints": [
          {
            "id": "50oqrp8c7",
            "name": "health_range",
            "expression": "current_health >= 0 AND current_health <= 100"
          }
        ],
        "id": "tyjpumw85",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": []
      },
      {
        "name": "adventure_stories",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "i906tujvf",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "character_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "characters",
              "column": "id",
              "onDelete": "CASCADE"
            },
            "id": "1jwtug7di",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "auth.users",
              "column": "id"
            },
            "id": "zwk8v7ozx",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "narrative_text",
            "type": "TEXT",
            "isOptional": false,
            "id": "87mxpa617",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "story_branches",
            "type": "JSONB",
            "isOptional": true,
            "id": "nq0sfm1yo",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "generated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "fxd7hfuyz",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "7aoi5f97f",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "m853k8k92",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "3xtyfnijv",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "content_votes",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "qr3r5613t",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "auth.users",
              "column": "id"
            },
            "id": "iowtjg2cb",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_type",
            "type": "content_type",
            "isOptional": false,
            "id": "ic8nfphqf",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_id",
            "type": "UUID",
            "isOptional": false,
            "id": "yluz3idlp",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "vote_type",
            "type": "vote_type",
            "isOptional": false,
            "id": "9jd0570wo",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "njnluuttx",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "n80ma4hp5",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "uniqueConstraints": [
          [
            "user_id",
            "content_type",
            "content_id"
          ]
        ],
        "id": "lviiz3leo",
        "isDefault": false,
        "isEditable": true,
        "checkConstraints": []
      },
      {
        "name": "content_flags",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "zsx8kak9b",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "auth.users",
              "column": "id"
            },
            "id": "kclmm2nad",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_type",
            "type": "content_type",
            "isOptional": false,
            "id": "mjhf4ovka",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_id",
            "type": "UUID",
            "isOptional": false,
            "id": "21vhu0jy2",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "flag_reason",
            "type": "flag_reason",
            "isOptional": false,
            "id": "fvtw187eb",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "flag_status",
            "type": "flag_status",
            "defaultValue": "'pending'",
            "id": "9odpomnys",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "19zyvwc1o",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "reviewed_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "6apv2r913",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "jf9solpwt",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "th1g48zzd",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "moderation_actions",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "treevv5lb",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "admin_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "auth.users",
              "column": "id"
            },
            "id": "9r24svve7",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "target_user_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "auth.users",
              "column": "id"
            },
            "id": "0p0u3a95y",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "action_type",
            "type": "mod_action",
            "isOptional": false,
            "id": "g61o8e23x",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "reason",
            "type": "TEXT",
            "isOptional": false,
            "id": "6uuwh6ze7",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "metadata",
            "type": "JSONB",
            "isOptional": true,
            "id": "rmouo6wbb",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "fo9hbko4d",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "azjtyt9io",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "nnauzeg5y",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "community_activity",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "iqqgsda2b",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "users",
              "schema": "auth",
              "column": "id"
            },
            "id": "1gkj7doby",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "isOptional": false,
            "references": {
              "table": "profiles",
              "column": "id",
              "onDelete": "CASCADE"
            },
            "id": "1v8tsnsfz",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "activity_type",
            "type": "activity_type",
            "isOptional": false,
            "id": "99q62n3ib",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_type",
            "type": "content_type",
            "isOptional": true,
            "id": "kt26apdk5",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_id",
            "type": "UUID",
            "isOptional": true,
            "id": "ldn02714q",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "metadata",
            "type": "JSONB",
            "isOptional": true,
            "id": "vjvo4qsg7",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "isOptional": false,
            "id": "7gc4p28uo",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "uniqueConstraints": [],
        "id": "98o45cov0",
        "isDefault": false,
        "isEditable": true,
        "checkConstraints": []
      }
    ],
    "enums": [
      {
        "name": "approval_status",
        "values": [
          {
            "value": "pending"
          },
          {
            "value": "approved"
          },
          {
            "value": "rejected"
          }
        ],
        "id": "68blez6ef",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "character_class",
        "values": [
          {
            "value": "wizard"
          },
          {
            "value": "brute"
          },
          {
            "value": "assassin"
          }
        ],
        "id": "xb2qtg5og",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "story_genre",
        "values": [
          {
            "value": "cyberpunk"
          },
          {
            "value": "fantasy"
          }
        ],
        "id": "l9154xkky",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "achievement_type",
        "values": [
          {
            "value": "quest_complete"
          },
          {
            "value": "level_up"
          },
          {
            "value": "item_found"
          },
          {
            "value": "boss_defeated"
          }
        ],
        "id": "b971bimt5",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "item_type",
        "values": [
          {
            "value": "weapon"
          },
          {
            "value": "armor"
          },
          {
            "value": "potion"
          },
          {
            "value": "artifact"
          }
        ],
        "id": "ve600k7y8",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "content_type",
        "values": [
          {
            "value": "quiz_set"
          },
          {
            "value": "character"
          },
          {
            "value": "achievement"
          }
        ],
        "id": "v4my4r157",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "vote_type",
        "values": [
          {
            "value": "upvote"
          },
          {
            "value": "downvote"
          }
        ],
        "id": "068digx5h",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "flag_reason",
        "values": [
          {
            "value": "inappropriate"
          },
          {
            "value": "spam"
          },
          {
            "value": "offensive"
          },
          {
            "value": "other"
          }
        ],
        "id": "41419jjrj",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "flag_status",
        "values": [
          {
            "value": "pending"
          },
          {
            "value": "reviewed"
          },
          {
            "value": "dismissed"
          }
        ],
        "id": "thd46oz82",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "mod_action",
        "values": [
          {
            "value": "approve"
          },
          {
            "value": "remove"
          },
          {
            "value": "warn"
          },
          {
            "value": "ban"
          },
          {
            "value": "suspend"
          }
        ],
        "id": "he5bef3ci",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "activity_type",
        "values": [
          {
            "value": "created_quiz"
          },
          {
            "value": "completed_quest"
          },
          {
            "value": "earned_achievement"
          },
          {
            "value": "shared_character"
          }
        ],
        "id": "qoi10co5g",
        "isDefault": false,
        "isEditable": true
      }
    ],
    "rlsPolicies": [
      {
        "id": "f6wzsdh6b",
        "tableId": "8gqimyanp",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "1d5ib7mhk",
        "tableId": "8gqimyanp",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "nep2jnwpj",
        "tableId": "8gqimyanp",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "o5wpdfjaq",
        "tableId": "8gqimyanp",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "1907e1qe8",
        "tableId": "l9snlmxeb",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "ddtsapuzs",
        "tableId": "l9snlmxeb",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "h044dr172",
        "tableId": "l9snlmxeb",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "rj0r6jedz",
        "tableId": "l9snlmxeb",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "id4l17pal",
        "tableId": "jo8uplj0i",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "25h9wyk1h",
        "tableId": "jo8uplj0i",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "nkjqkvvqi",
        "tableId": "jo8uplj0i",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "tbdvdpq4h",
        "tableId": "jo8uplj0i",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "cki0gvs6n",
        "tableId": "urf50rutc",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "0z9i244jl",
        "tableId": "urf50rutc",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "icbszrkom",
        "tableId": "urf50rutc",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "motu0ejfi",
        "tableId": "urf50rutc",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "pzbnpltiy",
        "tableId": "k1eby10k5",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "7jmh9xcbq",
        "tableId": "k1eby10k5",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "mjwblxvd7",
        "tableId": "k1eby10k5",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "kl5qkv9y9",
        "tableId": "k1eby10k5",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "j3k5rngmd",
        "tableId": "1g6pyfzcn",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "1b4lwsnk6",
        "tableId": "1g6pyfzcn",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "1wh5sol8k",
        "tableId": "1g6pyfzcn",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "ezg50gxus",
        "tableId": "1g6pyfzcn",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "r73030wgd",
        "tableId": "3nxol7tsz",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "cfvbnklcu",
        "tableId": "3nxol7tsz",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "wa0nup0tq",
        "tableId": "3nxol7tsz",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "q22bss216",
        "tableId": "3nxol7tsz",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "415am68r0",
        "tableId": "tyjpumw85",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "6xgk5pxjv",
        "tableId": "tyjpumw85",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "x95anl323",
        "tableId": "tyjpumw85",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "p0h8jgi04",
        "tableId": "tyjpumw85",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "33q2rpovv",
        "tableId": "3xtyfnijv",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "naphkcgez",
        "tableId": "3xtyfnijv",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "xu8zswgut",
        "tableId": "3xtyfnijv",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "4ssj9onon",
        "tableId": "3xtyfnijv",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "pfvtuqn6f",
        "tableId": "lviiz3leo",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "ljmtktx01",
        "tableId": "lviiz3leo",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "wmctci8h0",
        "tableId": "lviiz3leo",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "p9vgy6hli",
        "tableId": "lviiz3leo",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "jiqvzypfo",
        "tableId": "th1g48zzd",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "x9iytqohp",
        "tableId": "th1g48zzd",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "gl68x5hdm",
        "tableId": "th1g48zzd",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "owrxoa3e5",
        "tableId": "th1g48zzd",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "ur55yszlh",
        "tableId": "nnauzeg5y",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "vf9e4y7c7",
        "tableId": "nnauzeg5y",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "h8r9of3e8",
        "tableId": "nnauzeg5y",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "81bkfjgym",
        "tableId": "nnauzeg5y",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "jfrem9e4m",
        "tableId": "98o45cov0",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "hp8amamuz",
        "tableId": "98o45cov0",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "zzajxtbea",
        "tableId": "98o45cov0",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "wlv1jol2a",
        "tableId": "98o45cov0",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      }
    ],
    "plugins": [],
    "activeTab": "schema"
  },
  "appStructureState": {
    "inferredFeatures": {
      "layout-4kjy9abn9": [
        {
          "id": "p8l8cg23g",
          "pageId": "layout-4kjy9abn9",
          "title": "Sign out user",
          "description": "Clear user session and redirect to login page"
        },
        {
          "id": "mqxfge8ct",
          "pageId": "layout-4kjy9abn9",
          "title": "Toggle user profile menu",
          "description": "Show/hide user profile popover menu"
        },
        {
          "id": "zjxp122xu",
          "pageId": "layout-4kjy9abn9",
          "title": "Get community stats",
          "description": "Fetch and display community statistics in footer"
        }
      ],
      "layout-qfe9oiiym": [
        {
          "id": "aq82co3dq",
          "pageId": "layout-qfe9oiiym",
          "title": "Get content queue metrics",
          "description": "Fetch current moderation queue statistics"
        },
        {
          "id": "uwsfkq4hy",
          "pageId": "layout-qfe9oiiym",
          "title": "Get moderation analytics",
          "description": "Fetch and display content moderation analytics"
        }
      ],
      "ax2ahsfnt": [
        {
          "id": "jthuxilak",
          "pageId": "ax2ahsfnt",
          "title": "Get featured characters",
          "description": "Fetch and display featured character profiles"
        },
        {
          "id": "ngyvwbs7d",
          "pageId": "ax2ahsfnt",
          "title": "Get popular quiz sets",
          "description": "Fetch and display trending quiz collections"
        },
        {
          "id": "2ir0al9yq",
          "pageId": "ax2ahsfnt",
          "title": "Get recent completions",
          "description": "Fetch and display recently completed quizzes and adventures"
        }
      ],
      "1m5s1zqzv": [
        {
          "id": "e1fizbyli",
          "pageId": "1m5s1zqzv",
          "title": "Sign in with email and password",
          "description": "Authenticate user with email and password credentials"
        }
      ],
      "yw00rx5ui": [
        {
          "id": "w3dya0vdj",
          "pageId": "yw00rx5ui",
          "title": "Create user account",
          "description": "Register new user with email and password"
        }
      ],
      "nx68ba1qn": [
        {
          "id": "e8lrs61gg",
          "pageId": "nx68ba1qn",
          "title": "Send password reset email",
          "description": "Send password reset link to user's email address"
        }
      ],
      "wvyoc67hn": [
        {
          "id": "7i4208nrv",
          "pageId": "wvyoc67hn",
          "title": "Reset user password",
          "description": "Update user's password using reset token"
        }
      ],
      "kq1bsgjyl": [
        {
          "id": "7nkwkb47u",
          "pageId": "kq1bsgjyl",
          "title": "Update user profile",
          "description": "Save initial user profile details including name and bio"
        },
        {
          "id": "omot26l5d",
          "pageId": "kq1bsgjyl",
          "title": "Upload avatar image",
          "description": "Upload and save user profile picture"
        },
        {
          "id": "w3y1drh3g",
          "pageId": "kq1bsgjyl",
          "title": "Set quiz preferences",
          "description": "Save user's quiz and content preferences"
        }
      ],
      "4robczp66": [
        {
          "id": "dztxotx9g",
          "pageId": "4robczp66",
          "title": "Get quiz sets",
          "description": "Fetch user's personal and imported quiz collections"
        },
        {
          "id": "yq754q82e",
          "pageId": "4robczp66",
          "title": "Take quiz",
          "description": "Start selected quiz session"
        },
        {
          "id": "g7q1wbeom",
          "pageId": "4robczp66",
          "title": "Edit quiz set",
          "description": "Modify existing quiz content and settings"
        },
        {
          "id": "53g4phov9",
          "pageId": "4robczp66",
          "title": "Get quiz analytics",
          "description": "View performance statistics for quiz set"
        },
        {
          "id": "yc08r1gqy",
          "pageId": "4robczp66",
          "title": "Toggle quiz sharing",
          "description": "Enable/disable public access to quiz set"
        },
        {
          "id": "3l2dl1npr",
          "pageId": "4robczp66",
          "title": "Delete quiz set",
          "description": "Remove quiz set from library"
        }
      ],
      "vblfj3def": [
        {
          "id": "49mcsjqfl",
          "pageId": "vblfj3def",
          "title": "Get user characters",
          "description": "Fetch all characters created by user"
        },
        {
          "id": "eckrkpjwq",
          "pageId": "vblfj3def",
          "title": "Get character stats",
          "description": "Fetch statistics and achievements for each character"
        },
        {
          "id": "49926ylbq",
          "pageId": "vblfj3def",
          "title": "Get available quests",
          "description": "Fetch available adventure quests for characters"
        },
        {
          "id": "3zr3qb05g",
          "pageId": "vblfj3def",
          "title": "Customize character appearance",
          "description": "Modify character visual attributes"
        },
        {
          "id": "s8773ugid",
          "pageId": "vblfj3def",
          "title": "Share character",
          "description": "Generate and copy character share link"
        }
      ],
      "euntwkdc6": [
        {
          "id": "ptng3cxn3",
          "pageId": "euntwkdc6",
          "title": "Get character stats",
          "description": "Fetch current character statistics and status"
        },
        {
          "id": "fuw4bhz01",
          "pageId": "euntwkdc6",
          "title": "Generate story content",
          "description": "Create AI-driven narrative based on context"
        },
        {
          "id": "mmy50eki0",
          "pageId": "euntwkdc6",
          "title": "Submit quiz answer",
          "description": "Process quiz response and update story"
        },
        {
          "id": "btsh0ouzy",
          "pageId": "euntwkdc6",
          "title": "Get progress status",
          "description": "Fetch current adventure progress"
        },
        {
          "id": "kuc97v3jt",
          "pageId": "euntwkdc6",
          "title": "Share adventure status",
          "description": "Generate and share current adventure progress"
        }
      ],
      "2638hw18o": [
        {
          "id": "e2xkyt9nh",
          "pageId": "2638hw18o",
          "title": "Upload quiz document",
          "description": "Import quiz content from PDF/DOCX/MD/TXT file"
        },
        {
          "id": "xoz7sg9my",
          "pageId": "2638hw18o",
          "title": "Generate AI quiz content",
          "description": "Create quiz questions using AI assistance"
        },
        {
          "id": "bttmcx1ar",
          "pageId": "2638hw18o",
          "title": "Create quiz manually",
          "description": "Add quiz questions through form interface"
        },
        {
          "id": "8fff6hi52",
          "pageId": "2638hw18o",
          "title": "Submit quiz for approval",
          "description": "Send quiz for community sharing approval"
        }
      ],
      "ya8jg183r": [
        {
          "id": "r48jhrah0",
          "pageId": "ya8jg183r",
          "title": "Get character details",
          "description": "Fetch character profile, stats, and history"
        },
        {
          "id": "s3pkrgu0u",
          "pageId": "ya8jg183r",
          "title": "Get achievement gallery",
          "description": "Fetch character's earned achievements"
        },
        {
          "id": "iiv4aqwko",
          "pageId": "ya8jg183r",
          "title": "Get inventory items",
          "description": "Fetch character's collected items"
        },
        {
          "id": "4luc65jjq",
          "pageId": "ya8jg183r",
          "title": "Vote on character",
          "description": "Submit upvote or downvote on character"
        },
        {
          "id": "qlw2wdj5q",
          "pageId": "ya8jg183r",
          "title": "Share character profile",
          "description": "Generate and copy character profile link"
        }
      ],
      "0m8z6uvaz": [
        {
          "id": "bhue4f2oh",
          "pageId": "0m8z6uvaz",
          "title": "Get trending content",
          "description": "Fetch popular characters and quiz sets"
        },
        {
          "id": "71olg56fm",
          "pageId": "0m8z6uvaz",
          "title": "Get activity feed",
          "description": "Fetch recent community activities"
        },
        {
          "id": "v1ci28pmf",
          "pageId": "0m8z6uvaz",
          "title": "Get community statistics",
          "description": "Fetch overall community metrics"
        },
        {
          "id": "yavwvvv06",
          "pageId": "0m8z6uvaz",
          "title": "Get featured spotlight",
          "description": "Fetch currently featured content"
        }
      ],
      "di5ha02gm": [
        {
          "id": "42fabnfiv",
          "pageId": "di5ha02gm",
          "title": "Update profile settings",
          "description": "Modify user profile information"
        },
        {
          "id": "bjje05918",
          "pageId": "di5ha02gm",
          "title": "Update quiz preferences",
          "description": "Modify quiz feedback and reminder settings"
        },
        {
          "id": "pkx6xorlt",
          "pageId": "di5ha02gm",
          "title": "Update adventure preferences",
          "description": "Modify adventure gameplay settings"
        },
        {
          "id": "ds1i0yyt9",
          "pageId": "di5ha02gm",
          "title": "Update privacy settings",
          "description": "Modify content visibility and permissions"
        },
        {
          "id": "o9tt9u4n8",
          "pageId": "di5ha02gm",
          "title": "Update notification settings",
          "description": "Modify notification preferences"
        },
        {
          "id": "18hsxt3ni",
          "pageId": "di5ha02gm",
          "title": "Export user data",
          "description": "Download user data and content"
        }
      ],
      "rfzebp1md": [
        {
          "id": "hg794phal",
          "pageId": "rfzebp1md",
          "title": "Get moderation queue",
          "description": "Fetch pending content for review"
        },
        {
          "id": "ykzzoatt6",
          "pageId": "rfzebp1md",
          "title": "Get flagged content",
          "description": "Fetch reported content items"
        },
        {
          "id": "8z3erzdbo",
          "pageId": "rfzebp1md",
          "title": "Get user reports",
          "description": "Fetch user behavior reports"
        },
        {
          "id": "67q6i4r0a",
          "pageId": "rfzebp1md",
          "title": "Moderate content item",
          "description": "Approve/remove/hide content items"
        },
        {
          "id": "ff8y6emzw",
          "pageId": "rfzebp1md",
          "title": "Take user action",
          "description": "Warn/suspend/ban user accounts"
        },
        {
          "id": "m5vhye4o9",
          "pageId": "rfzebp1md",
          "title": "Get audit log",
          "description": "Fetch moderation action history."
        }
      ]
    },
    "parsedPages": [
      {
        "id": "layout-4kjy9abn9",
        "name": "Main Layout Features",
        "route": "",
        "description": "Primary layout with header containing Quiz.Win logo and user profile popover menu and Includes sidebar for quick access to quiz library, character management, and adventure modes. Footer displays community stats and links."
      },
      {
        "id": "layout-qfe9oiiym",
        "name": "Admin Features",
        "route": "",
        "description": "Moderation navigation header. Sidebar with content queues and analytics."
      },
      {
        "id": "ax2ahsfnt",
        "name": "Home",
        "route": "/",
        "description": "Landing with dual CTAs: \"Build Quiz Library\" and \"Start Adventure.\" Showcases featured characters, popular quiz sets, recent completions. Quick access to active content for authenticated users."
      },
      {
        "id": "1m5s1zqzv",
        "name": "Sign In",
        "route": "/sign-in",
        "description": "Authentication page where existing users can sign in with email and password to access their quiz library and characters."
      },
      {
        "id": "yw00rx5ui",
        "name": "Sign Up",
        "route": "/sign-up",
        "description": "Registration page for new users to create an account with email and password, with clear benefits of joining the Quiz.Win community."
      },
      {
        "id": "nx68ba1qn",
        "name": "Forgot Password",
        "route": "/forgot-password",
        "description": "Page where users can request a password reset link by entering their email address."
      },
      {
        "id": "wvyoc67hn",
        "name": "Reset Password",
        "route": "/reset-password",
        "description": "Page where users can set a new password after clicking the reset link from their email."
      },
      {
        "id": "kq1bsgjyl",
        "name": "Welcome",
        "route": "/welcome",
        "description": "First-time setup page where new users customize their profile including user name, bio, avatar and quiz preferences. Redirects to the character creation screen"
      },
      {
        "id": "4robczp66",
        "name": "Quiz Library",
        "route": "/quizzes",
        "description": "Sidebar with content sets (personal/imported indicators). Main view shows selected set with questions, stats, management tools. Actions: Take Quiz, Edit, Analytics, Share Toggle, Delete. Buttons for \"Create New\" and \"Browse Community.\""
      },
      {
        "id": "vblfj3def",
        "name": "Character Dashboard",
        "route": "/characters",
        "description": "Character management dashboard showing all created adventure characters, their stats, achievements, and available quests. Users can customize appearance and share characters."
      },
      {
        "id": "euntwkdc6",
        "name": "Adventure Mode",
        "route": "/adventure/[characterId]",
        "description": "Main viewport for story text. Sidebar with portrait and stats. AI narrative with genre-appropriate atmosphere. Quiz modals with content attribution. Answer triggers consequences and story beats. Progress bar, pause menu with stats/history/share options."
      },
      {
        "id": "2638hw18o",
        "name": "Create Quiz",
        "route": "/quizzes/create",
        "description": "Quiz creation workflow with options to add quizes: upload (PDF/DOCX/MD/TXT) by button or by drag and drop, or generate with AI, or create from scratch. Quizes are populated into a quiz creation UX that the user can edit. There is the option to share the quiz, which is submitted to admin for approval "
      },
      {
        "id": "ya8jg183r",
        "name": "Character profile",
        "route": "/characters/[characterId]",
        "description": "\nHero portrait with atmospheric background, name, class, genre. Stats sheet: health, level, attributes with bars. Quiz performance: content used, accuracy. Journey summary: 5-10 key story moments. Achievements gallery. Inventory display. Social: upvote/downvote, share. Creator link. Edit options if owned."
      },
      {
        "id": "0m8z6uvaz",
        "name": "Community",
        "route": "/community",
        "description": "Tabs: Characters and Quiz Sets. Trending content, activity feed, community stats. Featured spotlight rotation. Links to full Explore pages."
      },
      {
        "id": "di5ha02gm",
        "name": "Settings",
        "route": "/settings",
        "description": "Tabs: Profile (username, email, avatar, bio), Quiz Preferences (feedback timing, reminders), Adventure Preferences (pacing, consequences, default sharing), Privacy (visibility defaults, permissions), Notifications, Data Management (export, backup), Account Actions."
      },
      {
        "id": "rfzebp1md",
        "name": "Content moderation",
        "route": "/admin",
        "description": "Tabs: Overview, Submitted/Flagged Characters, Submitted/Flagged Quiz Content, User Reports. Queue items show previews, flags, AI analysis. Actions: Approve/Remove/Hide/Warn/Suspend/Ban. Bulk actions. Audit log. Analytics panel."
      }
    ],
    "featuresGenerated": true,
    "lastGeneratedReadmeContent": null,
    "lastGeneratedForStructure": "{\"parsedPages\":[{\"id\":\"layout-4kjy9abn9\",\"name\":\"Main Layout Features\",\"route\":\"\",\"description\":\"Primary layout with header containing Quiz.Win logo and user profile popover menu and Includes sidebar for quick access to quiz library, character management, and adventure modes. Footer displays community stats and links.\"},{\"id\":\"layout-qfe9oiiym\",\"name\":\"Admin Features\",\"route\":\"\",\"description\":\"Moderation navigation header. Sidebar with content queues and analytics.\"},{\"id\":\"ax2ahsfnt\",\"name\":\"Home\",\"route\":\"/\",\"description\":\"Landing with dual CTAs: \\\"Build Quiz Library\\\" and \\\"Start Adventure.\\\" Showcases featured characters, popular quiz sets, recent completions. Quick access to active content for authenticated users.\"},{\"id\":\"1m5s1zqzv\",\"name\":\"Sign In\",\"route\":\"/sign-in\",\"description\":\"Authentication page where existing users can sign in with email and password to access their quiz library and characters.\"},{\"id\":\"yw00rx5ui\",\"name\":\"Sign Up\",\"route\":\"/sign-up\",\"description\":\"Registration page for new users to create an account with email and password, with clear benefits of joining the Quiz.Win community.\"},{\"id\":\"nx68ba1qn\",\"name\":\"Forgot Password\",\"route\":\"/forgot-password\",\"description\":\"Page where users can request a password reset link by entering their email address.\"},{\"id\":\"wvyoc67hn\",\"name\":\"Reset Password\",\"route\":\"/reset-password\",\"description\":\"Page where users can set a new password after clicking the reset link from their email.\"},{\"id\":\"kq1bsgjyl\",\"name\":\"Welcome\",\"route\":\"/welcome\",\"description\":\"First-time setup page where new users customize their profile including user name, bio, avatar and quiz preferences. Redirects to the character creation screen\"},{\"id\":\"4robczp66\",\"name\":\"Quiz Library\",\"route\":\"/quizzes\",\"description\":\"Sidebar with content sets (personal/imported indicators). Main view shows selected set with questions, stats, management tools. Actions: Take Quiz, Edit, Analytics, Share Toggle, Delete. Buttons for \\\"Create New\\\" and \\\"Browse Community.\\\"\"},{\"id\":\"vblfj3def\",\"name\":\"Character Dashboard\",\"route\":\"/characters\",\"description\":\"Character management dashboard showing all created adventure characters, their stats, achievements, and available quests. Users can customize appearance and share characters.\"},{\"id\":\"euntwkdc6\",\"name\":\"Adventure Mode\",\"route\":\"/adventure/[characterId]\",\"description\":\"Main viewport for story text. Sidebar with portrait and stats. AI narrative with genre-appropriate atmosphere. Quiz modals with content attribution. Answer triggers consequences and story beats. Progress bar, pause menu with stats/history/share options.\"},{\"id\":\"2638hw18o\",\"name\":\"Create Quiz\",\"route\":\"/quizzes/create\",\"description\":\"Quiz creation workflow with options to add quizes: upload (PDF/DOCX/MD/TXT) by button or by drag and drop, or generate with AI, or create from scratch. Quizes are populated into a quiz creation UX that the user can edit. There is the option to share the quiz, which is submitted to admin for approval \"},{\"id\":\"ya8jg183r\",\"name\":\"Character profile\",\"route\":\"/characters/[characterId]\",\"description\":\"\\nHero portrait with atmospheric background, name, class, genre. Stats sheet: health, level, attributes with bars. Quiz performance: content used, accuracy. Journey summary: 5-10 key story moments. Achievements gallery. Inventory display. Social: upvote/downvote, share. Creator link. Edit options if owned.\"},{\"id\":\"0m8z6uvaz\",\"name\":\"Community\",\"route\":\"/community\",\"description\":\"Tabs: Characters and Quiz Sets. Trending content, activity feed, community stats. Featured spotlight rotation. Links to full Explore pages.\"},{\"id\":\"di5ha02gm\",\"name\":\"Settings\",\"route\":\"/settings\",\"description\":\"Tabs: Profile (username, email, avatar, bio), Quiz Preferences (feedback timing, reminders), Adventure Preferences (pacing, consequences, default sharing), Privacy (visibility defaults, permissions), Notifications, Data Management (export, backup), Account Actions.\"},{\"id\":\"rfzebp1md\",\"name\":\"Content moderation\",\"route\":\"/admin\",\"description\":\"Tabs: Overview, Submitted/Flagged Characters, Submitted/Flagged Quiz Content, User Reports. Queue items show previews, flags, AI analysis. Actions: Approve/Remove/Hide/Warn/Suspend/Ban. Bulk actions. Audit log. Analytics panel.\"}],\"inferredFeatures\":{\"layout-4kjy9abn9\":[{\"id\":\"p8l8cg23g\",\"pageId\":\"layout-4kjy9abn9\",\"title\":\"Sign out user\",\"description\":\"Clear user session and redirect to login page\"},{\"id\":\"mqxfge8ct\",\"pageId\":\"layout-4kjy9abn9\",\"title\":\"Toggle user profile menu\",\"description\":\"Show/hide user profile popover menu\"},{\"id\":\"zjxp122xu\",\"pageId\":\"layout-4kjy9abn9\",\"title\":\"Get community stats\",\"description\":\"Fetch and display community statistics in footer\"}],\"layout-qfe9oiiym\":[{\"id\":\"aq82co3dq\",\"pageId\":\"layout-qfe9oiiym\",\"title\":\"Get content queue metrics\",\"description\":\"Fetch current moderation queue statistics\"},{\"id\":\"uwsfkq4hy\",\"pageId\":\"layout-qfe9oiiym\",\"title\":\"Get moderation analytics\",\"description\":\"Fetch and display content moderation analytics\"}],\"ax2ahsfnt\":[{\"id\":\"jthuxilak\",\"pageId\":\"ax2ahsfnt\",\"title\":\"Get featured characters\",\"description\":\"Fetch and display featured character profiles\"},{\"id\":\"ngyvwbs7d\",\"pageId\":\"ax2ahsfnt\",\"title\":\"Get popular quiz sets\",\"description\":\"Fetch and display trending quiz collections\"},{\"id\":\"2ir0al9yq\",\"pageId\":\"ax2ahsfnt\",\"title\":\"Get recent completions\",\"description\":\"Fetch and display recently completed quizzes and adventures\"}],\"1m5s1zqzv\":[{\"id\":\"e1fizbyli\",\"pageId\":\"1m5s1zqzv\",\"title\":\"Sign in with email and password\",\"description\":\"Authenticate user with email and password credentials\"}],\"yw00rx5ui\":[{\"id\":\"w3dya0vdj\",\"pageId\":\"yw00rx5ui\",\"title\":\"Create user account\",\"description\":\"Register new user with email and password\"}],\"nx68ba1qn\":[{\"id\":\"e8lrs61gg\",\"pageId\":\"nx68ba1qn\",\"title\":\"Send password reset email\",\"description\":\"Send password reset link to user's email address\"}],\"wvyoc67hn\":[{\"id\":\"7i4208nrv\",\"pageId\":\"wvyoc67hn\",\"title\":\"Reset user password\",\"description\":\"Update user's password using reset token\"}],\"kq1bsgjyl\":[{\"id\":\"7nkwkb47u\",\"pageId\":\"kq1bsgjyl\",\"title\":\"Update user profile\",\"description\":\"Save initial user profile details including name and bio\"},{\"id\":\"omot26l5d\",\"pageId\":\"kq1bsgjyl\",\"title\":\"Upload avatar image\",\"description\":\"Upload and save user profile picture\"},{\"id\":\"w3y1drh3g\",\"pageId\":\"kq1bsgjyl\",\"title\":\"Set quiz preferences\",\"description\":\"Save user's quiz and content preferences\"}],\"4robczp66\":[{\"id\":\"dztxotx9g\",\"pageId\":\"4robczp66\",\"title\":\"Get quiz sets\",\"description\":\"Fetch user's personal and imported quiz collections\"},{\"id\":\"yq754q82e\",\"pageId\":\"4robczp66\",\"title\":\"Take quiz\",\"description\":\"Start selected quiz session\"},{\"id\":\"g7q1wbeom\",\"pageId\":\"4robczp66\",\"title\":\"Edit quiz set\",\"description\":\"Modify existing quiz content and settings\"},{\"id\":\"53g4phov9\",\"pageId\":\"4robczp66\",\"title\":\"Get quiz analytics\",\"description\":\"View performance statistics for quiz set\"},{\"id\":\"yc08r1gqy\",\"pageId\":\"4robczp66\",\"title\":\"Toggle quiz sharing\",\"description\":\"Enable/disable public access to quiz set\"},{\"id\":\"3l2dl1npr\",\"pageId\":\"4robczp66\",\"title\":\"Delete quiz set\",\"description\":\"Remove quiz set from library\"}],\"vblfj3def\":[{\"id\":\"49mcsjqfl\",\"pageId\":\"vblfj3def\",\"title\":\"Get user characters\",\"description\":\"Fetch all characters created by user\"},{\"id\":\"eckrkpjwq\",\"pageId\":\"vblfj3def\",\"title\":\"Get character stats\",\"description\":\"Fetch statistics and achievements for each character\"},{\"id\":\"49926ylbq\",\"pageId\":\"vblfj3def\",\"title\":\"Get available quests\",\"description\":\"Fetch available adventure quests for characters\"},{\"id\":\"3zr3qb05g\",\"pageId\":\"vblfj3def\",\"title\":\"Customize character appearance\",\"description\":\"Modify character visual attributes\"},{\"id\":\"s8773ugid\",\"pageId\":\"vblfj3def\",\"title\":\"Share character\",\"description\":\"Generate and copy character share link\"}],\"euntwkdc6\":[{\"id\":\"ptng3cxn3\",\"pageId\":\"euntwkdc6\",\"title\":\"Get character stats\",\"description\":\"Fetch current character statistics and status\"},{\"id\":\"fuw4bhz01\",\"pageId\":\"euntwkdc6\",\"title\":\"Generate story content\",\"description\":\"Create AI-driven narrative based on context\"},{\"id\":\"mmy50eki0\",\"pageId\":\"euntwkdc6\",\"title\":\"Submit quiz answer\",\"description\":\"Process quiz response and update story\"},{\"id\":\"btsh0ouzy\",\"pageId\":\"euntwkdc6\",\"title\":\"Get progress status\",\"description\":\"Fetch current adventure progress\"},{\"id\":\"kuc97v3jt\",\"pageId\":\"euntwkdc6\",\"title\":\"Share adventure status\",\"description\":\"Generate and share current adventure progress\"}],\"2638hw18o\":[{\"id\":\"e2xkyt9nh\",\"pageId\":\"2638hw18o\",\"title\":\"Upload quiz document\",\"description\":\"Import quiz content from PDF/DOCX/MD/TXT file\"},{\"id\":\"xoz7sg9my\",\"pageId\":\"2638hw18o\",\"title\":\"Generate AI quiz content\",\"description\":\"Create quiz questions using AI assistance\"},{\"id\":\"bttmcx1ar\",\"pageId\":\"2638hw18o\",\"title\":\"Create quiz manually\",\"description\":\"Add quiz questions through form interface\"},{\"id\":\"8fff6hi52\",\"pageId\":\"2638hw18o\",\"title\":\"Submit quiz for approval\",\"description\":\"Send quiz for community sharing approval\"}],\"ya8jg183r\":[{\"id\":\"r48jhrah0\",\"pageId\":\"ya8jg183r\",\"title\":\"Get character details\",\"description\":\"Fetch character profile, stats, and history\"},{\"id\":\"s3pkrgu0u\",\"pageId\":\"ya8jg183r\",\"title\":\"Get achievement gallery\",\"description\":\"Fetch character's earned achievements\"},{\"id\":\"iiv4aqwko\",\"pageId\":\"ya8jg183r\",\"title\":\"Get inventory items\",\"description\":\"Fetch character's collected items\"},{\"id\":\"4luc65jjq\",\"pageId\":\"ya8jg183r\",\"title\":\"Vote on character\",\"description\":\"Submit upvote or downvote on character\"},{\"id\":\"qlw2wdj5q\",\"pageId\":\"ya8jg183r\",\"title\":\"Share character profile\",\"description\":\"Generate and copy character profile link\"}],\"0m8z6uvaz\":[{\"id\":\"bhue4f2oh\",\"pageId\":\"0m8z6uvaz\",\"title\":\"Get trending content\",\"description\":\"Fetch popular characters and quiz sets\"},{\"id\":\"71olg56fm\",\"pageId\":\"0m8z6uvaz\",\"title\":\"Get activity feed\",\"description\":\"Fetch recent community activities\"},{\"id\":\"v1ci28pmf\",\"pageId\":\"0m8z6uvaz\",\"title\":\"Get community statistics\",\"description\":\"Fetch overall community metrics\"},{\"id\":\"yavwvvv06\",\"pageId\":\"0m8z6uvaz\",\"title\":\"Get featured spotlight\",\"description\":\"Fetch currently featured content\"}],\"di5ha02gm\":[{\"id\":\"42fabnfiv\",\"pageId\":\"di5ha02gm\",\"title\":\"Update profile settings\",\"description\":\"Modify user profile information\"},{\"id\":\"bjje05918\",\"pageId\":\"di5ha02gm\",\"title\":\"Update quiz preferences\",\"description\":\"Modify quiz feedback and reminder settings\"},{\"id\":\"pkx6xorlt\",\"pageId\":\"di5ha02gm\",\"title\":\"Update adventure preferences\",\"description\":\"Modify adventure gameplay settings\"},{\"id\":\"ds1i0yyt9\",\"pageId\":\"di5ha02gm\",\"title\":\"Update privacy settings\",\"description\":\"Modify content visibility and permissions\"},{\"id\":\"o9tt9u4n8\",\"pageId\":\"di5ha02gm\",\"title\":\"Update notification settings\",\"description\":\"Modify notification preferences\"},{\"id\":\"18hsxt3ni\",\"pageId\":\"di5ha02gm\",\"title\":\"Export user data\",\"description\":\"Download user data and content\"}],\"rfzebp1md\":[{\"id\":\"hg794phal\",\"pageId\":\"rfzebp1md\",\"title\":\"Get moderation queue\",\"description\":\"Fetch pending content for review\"},{\"id\":\"ykzzoatt6\",\"pageId\":\"rfzebp1md\",\"title\":\"Get flagged content\",\"description\":\"Fetch reported content items\"},{\"id\":\"8z3erzdbo\",\"pageId\":\"rfzebp1md\",\"title\":\"Get user reports\",\"description\":\"Fetch user behavior reports\"},{\"id\":\"67q6i4r0a\",\"pageId\":\"rfzebp1md\",\"title\":\"Moderate content item\",\"description\":\"Approve/remove/hide content items\"},{\"id\":\"ff8y6emzw\",\"pageId\":\"rfzebp1md\",\"title\":\"Take user action\",\"description\":\"Warn/suspend/ban user accounts\"},{\"id\":\"m5vhye4o9\",\"pageId\":\"rfzebp1md\",\"title\":\"Get audit log\",\"description\":\"Fetch moderation action history.\"}]}}"
  },
  "readmeState": {
    "title": "Quiz.Win",
    "description": "quiz.win combines quiz content management with narrative-driven gamification. Users build quiz libraries by uploading materials, manually creating questions, or using AI generation. They track performance with detailed analytics per content set. Users create adventure characters (Cyberpunk/Fantasy genre; Wizard/Brute/Assassin class) that progress through AI-generated narratives by answering quiz questions. Correct answers advance the story; incorrect answers cause health loss or story branching. Characters evolve visually with stats, achievements, and items. Both characters and quiz sets can be shared publicly for community voting, commenting, and importing. Any quiz content can fuel any character's adventure.",
    "layouts": [],
    "pages": [
      {
        "id": "ax2ahsfnt",
        "name": "Home",
        "route": "/",
        "description": "Landing with dual CTAs: \"Build Quiz Library\" and \"Start Adventure.\" Showcases featured characters, popular quiz sets, recent completions. Quick access to active content for authenticated users.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "1m5s1zqzv",
        "name": "Sign In",
        "route": "/sign-in",
        "description": "Authentication page where existing users can sign in with email and password to access their quiz library and characters.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "yw00rx5ui",
        "name": "Sign Up",
        "route": "/sign-up",
        "description": "Registration page for new users to create an account with email and password, with clear benefits of joining the Quiz.Win community.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "nx68ba1qn",
        "name": "Forgot Password",
        "route": "/forgot-password",
        "description": "Page where users can request a password reset link by entering their email address.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "wvyoc67hn",
        "name": "Reset Password",
        "route": "/reset-password",
        "description": "Page where users can set a new password after clicking the reset link from their email.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "kq1bsgjyl",
        "name": "Welcome",
        "route": "/welcome",
        "description": "First-time setup page where new users customize their profile including user name, bio, avatar and quiz preferences. Redirects to the character creation screen",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "4robczp66",
        "name": "Quiz Library",
        "route": "/quizzes",
        "description": "Sidebar with content sets (personal/imported indicators). Main view shows selected set with questions, stats, management tools. Actions: Take Quiz, Edit, Analytics, Share Toggle, Delete. Buttons for \"Create New\" and \"Browse Community.\"",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "vblfj3def",
        "name": "Character Dashboard",
        "route": "/characters",
        "description": "Character management dashboard showing all created adventure characters, their stats, achievements, and available quests. Users can customize appearance and share characters.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "euntwkdc6",
        "name": "Adventure Mode",
        "route": "/adventure/[characterId]",
        "description": "Main viewport for story text. Sidebar with portrait and stats. AI narrative with genre-appropriate atmosphere. Quiz modals with content attribution. Answer triggers consequences and story beats. Progress bar, pause menu with stats/history/share options.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "2638hw18o",
        "name": "Create Quiz",
        "route": "/quizzes/create",
        "description": "Quiz creation workflow with options to add quizes: upload (PDF/DOCX/MD/TXT) by button or by drag and drop, or generate with AI, or create from scratch. Quizes are populated into a quiz creation UX that the user can edit. There is the option to share the quiz, which is submitted to admin for approval ",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "ya8jg183r",
        "name": "Character profile",
        "route": "/characters/[characterId]",
        "description": "\nHero portrait with atmospheric background, name, class, genre. Stats sheet: health, level, attributes with bars. Quiz performance: content used, accuracy. Journey summary: 5-10 key story moments. Achievements gallery. Inventory display. Social: upvote/downvote, share. Creator link. Edit options if owned.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "0m8z6uvaz",
        "name": "Community",
        "route": "/community",
        "description": "Tabs: Characters and Quiz Sets. Trending content, activity feed, community stats. Featured spotlight rotation. Links to full Explore pages.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "di5ha02gm",
        "name": "Settings",
        "route": "/settings",
        "description": "Tabs: Profile (username, email, avatar, bio), Quiz Preferences (feedback timing, reminders), Adventure Preferences (pacing, consequences, default sharing), Privacy (visibility defaults, permissions), Notifications, Data Management (export, backup), Account Actions.",
        "layoutIds": [
          "4kjy9abn9"
        ]
      },
      {
        "id": "rfzebp1md",
        "name": "Content moderation",
        "route": "/admin",
        "description": "Tabs: Overview, Submitted/Flagged Characters, Submitted/Flagged Quiz Content, User Reports. Queue items show previews, flags, AI analysis. Actions: Approve/Remove/Hide/Warn/Suspend/Ban. Bulk actions. Audit log. Analytics panel.",
        "layoutIds": [
          "qfe9oiiym"
        ]
      }
    ],
    "authMethods": {
      "emailPassword": true,
      "magicLink": false
    },
    "pageAccess": [
      {
        "pageId": "ax2ahsfnt",
        "anon": true,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "1m5s1zqzv",
        "anon": true,
        "auth": false,
        "admin": false
      },
      {
        "pageId": "yw00rx5ui",
        "anon": true,
        "auth": false,
        "admin": false
      },
      {
        "pageId": "nx68ba1qn",
        "anon": true,
        "auth": false,
        "admin": false
      },
      {
        "pageId": "wvyoc67hn",
        "anon": true,
        "auth": false,
        "admin": false
      },
      {
        "pageId": "kq1bsgjyl",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "4robczp66",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "vblfj3def",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "euntwkdc6",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "2638hw18o",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "ya8jg183r",
        "anon": true,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "0m8z6uvaz",
        "anon": true,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "rfzebp1md",
        "anon": false,
        "auth": false,
        "admin": true
      }
    ],
    "stage": "pages",
    "lastGeneratedForAuth": {
      "title": "Quiz.Win",
      "description": "quiz.win combines quiz content management with narrative-driven gamification. Users build quiz libraries by uploading materials, manually creating questions, or using AI generation. They track performance with detailed analytics per content set. Users create adventure characters (Cyberpunk/Fantasy genre; Wizard/Brute/Assassin class) that progress through AI-generated narratives by answering quiz questions. Correct answers advance the story; incorrect answers cause health loss or story branching. Characters evolve visually with stats, achievements, and items. Both characters and quiz sets can be shared publicly for community voting, commenting, and importing. Any quiz content can fuel any character's adventure."
    },
    "lastGeneratedForPages": {
      "emailPassword": true,
      "magicLink": false
    },
    "lastGeneratedForReadme": "{\"layouts\":[],\"pages\":[{\"id\":\"ax2ahsfnt\",\"name\":\"Home\",\"route\":\"/\",\"description\":\"Landing with dual CTAs: \\\"Build Quiz Library\\\" and \\\"Start Adventure.\\\" Showcases featured characters, popular quiz sets, recent completions. Quick access to active content for authenticated users.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"1m5s1zqzv\",\"name\":\"Sign In\",\"route\":\"/sign-in\",\"description\":\"Authentication page where existing users can sign in with email and password to access their quiz library and characters.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"yw00rx5ui\",\"name\":\"Sign Up\",\"route\":\"/sign-up\",\"description\":\"Registration page for new users to create an account with email and password, with clear benefits of joining the Quiz.Win community.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"nx68ba1qn\",\"name\":\"Forgot Password\",\"route\":\"/forgot-password\",\"description\":\"Page where users can request a password reset link by entering their email address.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"wvyoc67hn\",\"name\":\"Reset Password\",\"route\":\"/reset-password\",\"description\":\"Page where users can set a new password after clicking the reset link from their email.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"kq1bsgjyl\",\"name\":\"Welcome\",\"route\":\"/welcome\",\"description\":\"First-time setup page where new users customize their profile including user name, bio, avatar and quiz preferences. Redirects to the character creation screen\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"4robczp66\",\"name\":\"Quiz Library\",\"route\":\"/quizzes\",\"description\":\"Sidebar with content sets (personal/imported indicators). Main view shows selected set with questions, stats, management tools. Actions: Take Quiz, Edit, Analytics, Share Toggle, Delete. Buttons for \\\"Create New\\\" and \\\"Browse Community.\\\"\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"vblfj3def\",\"name\":\"Character Dashboard\",\"route\":\"/characters\",\"description\":\"Character management dashboard showing all created adventure characters, their stats, achievements, and available quests. Users can customize appearance and share characters.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"euntwkdc6\",\"name\":\"Adventure Mode\",\"route\":\"/adventure/[characterId]\",\"description\":\"Main viewport for story text. Sidebar with portrait and stats. AI narrative with genre-appropriate atmosphere. Quiz modals with content attribution. Answer triggers consequences and story beats. Progress bar, pause menu with stats/history/share options.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"2638hw18o\",\"name\":\"Create Quiz\",\"route\":\"/quizzes/create\",\"description\":\"Quiz creation workflow with options to add quizes: upload (PDF/DOCX/MD/TXT) by button or by drag and drop, or generate with AI, or create from scratch. Quizes are populated into a quiz creation UX that the user can edit. There is the option to share the quiz, which is submitted to admin for approval \",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"ya8jg183r\",\"name\":\"Character profile\",\"route\":\"/characters/[characterId]\",\"description\":\"\\nHero portrait with atmospheric background, name, class, genre. Stats sheet: health, level, attributes with bars. Quiz performance: content used, accuracy. Journey summary: 5-10 key story moments. Achievements gallery. Inventory display. Social: upvote/downvote, share. Creator link. Edit options if owned.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"0m8z6uvaz\",\"name\":\"Community\",\"route\":\"/community\",\"description\":\"Tabs: Characters and Quiz Sets. Trending content, activity feed, community stats. Featured spotlight rotation. Links to full Explore pages.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"di5ha02gm\",\"name\":\"Settings\",\"route\":\"/settings\",\"description\":\"Tabs: Profile (username, email, avatar, bio), Quiz Preferences (feedback timing, reminders), Adventure Preferences (pacing, consequences, default sharing), Privacy (visibility defaults, permissions), Notifications, Data Management (export, backup), Account Actions.\",\"layoutIds\":[\"4kjy9abn9\"]},{\"id\":\"rfzebp1md\",\"name\":\"Content moderation\",\"route\":\"/admin\",\"description\":\"Tabs: Overview, Submitted/Flagged Characters, Submitted/Flagged Quiz Content, User Reports. Queue items show previews, flags, AI analysis. Actions: Approve/Remove/Hide/Warn/Suspend/Ban. Bulk actions. Audit log. Analytics panel.\",\"layoutIds\":[\"qfe9oiiym\"]}]}"
  },
  "databaseTablesState": {
    "tableDescriptions": [
      {
        "id": "mjtfjokqa",
        "name": "profiles",
        "description": "Stores application-specific user profile data including username, bio, avatar, quiz preferences, adventure preferences, and privacy settings"
      },
      {
        "id": "qs3p3fz0f",
        "name": "quiz_sets",
        "description": "Contains quiz collections with metadata, sharing settings, and ownership information"
      },
      {
        "id": "oenit6ek6",
        "name": "quiz_questions",
        "description": "Stores individual quiz questions, answers, and metadata associated with quiz sets"
      },
      {
        "id": "d42i6m5sz",
        "name": "quiz_attempts",
        "description": "Records user quiz attempts, responses, and performance metrics"
      },
      {
        "id": "ufmvvwcuw",
        "name": "characters",
        "description": "Stores adventure character data including class, genre, stats, appearance, and progress"
      },
      {
        "id": "93upijxcu",
        "name": "character_achievements",
        "description": "Tracks character accomplishments, milestones, and earned badges"
      },
      {
        "id": "kpfrgjpgm",
        "name": "character_inventory",
        "description": "Records items and equipment collected by characters during adventures"
      },
      {
        "id": "qqrt98t36",
        "name": "adventure_progress",
        "description": "Tracks character adventure progress, story state, and quiz performance"
      },
      {
        "id": "hrm2st2sm",
        "name": "adventure_stories",
        "description": "Stores AI-generated narrative content and story branches for adventures"
      },
      {
        "id": "0fsks9djh",
        "name": "content_votes",
        "description": "Records user votes on characters and quiz sets"
      },
      {
        "id": "6szh2rhjw",
        "name": "content_flags",
        "description": "Tracks reported content and moderation status"
      },
      {
        "id": "ol82kyvue",
        "name": "moderation_actions",
        "description": "Logs administrative actions taken on content and users"
      },
      {
        "id": "4yrr1nwd2",
        "name": "community_activity",
        "description": "Records public user activities and achievements for the community feed"
      }
    ],
    "tablesGenerated": true,
    "accordionValue": "step-tables",
    "expandedTableId": "mjtfjokqa",
    "lastGeneratedAppStructure": null,
    "lastGeneratedTableDescriptions": [
      {
        "id": "mjtfjokqa",
        "name": "profiles",
        "description": "Stores application-specific user profile data including username, bio, avatar, quiz preferences, adventure preferences, and privacy settings"
      },
      {
        "id": "qs3p3fz0f",
        "name": "quiz_sets",
        "description": "Contains quiz collections with metadata, sharing settings, and ownership information"
      },
      {
        "id": "oenit6ek6",
        "name": "quiz_questions",
        "description": "Stores individual quiz questions, answers, and metadata associated with quiz sets"
      },
      {
        "id": "d42i6m5sz",
        "name": "quiz_attempts",
        "description": "Records user quiz attempts, responses, and performance metrics"
      },
      {
        "id": "ufmvvwcuw",
        "name": "characters",
        "description": "Stores adventure character data including class, genre, stats, appearance, and progress"
      },
      {
        "id": "93upijxcu",
        "name": "character_achievements",
        "description": "Tracks character accomplishments, milestones, and earned badges"
      },
      {
        "id": "kpfrgjpgm",
        "name": "character_inventory",
        "description": "Records items and equipment collected by characters during adventures"
      },
      {
        "id": "qqrt98t36",
        "name": "adventure_progress",
        "description": "Tracks character adventure progress, story state, and quiz performance"
      },
      {
        "id": "hrm2st2sm",
        "name": "adventure_stories",
        "description": "Stores AI-generated narrative content and story branches for adventures"
      },
      {
        "id": "0fsks9djh",
        "name": "content_votes",
        "description": "Records user votes on characters and quiz sets"
      },
      {
        "id": "6szh2rhjw",
        "name": "content_flags",
        "description": "Tracks reported content and moderation status"
      },
      {
        "id": "ol82kyvue",
        "name": "moderation_actions",
        "description": "Logs administrative actions taken on content and users"
      },
      {
        "id": "4yrr1nwd2",
        "name": "community_activity",
        "description": "Records public user activities and achievements for the community feed"
      }
    ]
  },
  "nextStepsState": {
    "openStep": "step-9",
    "unlockedSteps": [
      1,
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9
    ]
  }
}