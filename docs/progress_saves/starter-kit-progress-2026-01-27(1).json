{
  "version": 1,
  "timestamp": "2026-01-27T12:24:16.569Z",
  "editorState": {
    "data": {
      "root": {
        "id": "root",
        "name": "root",
        "displayName": "Root",
        "type": "directory",
        "path": "",
        "urlPath": "/",
        "include": true,
        "children": [
          {
            "id": "readme",
            "name": "readme",
            "displayName": "README",
            "type": "file",
            "order": 1,
            "path": "readme",
            "urlPath": "/readme",
            "content": "<!-- component-READMEComponent -->\n",
            "components": [
              {
                "id": "component-READMEComponent",
                "name": "READMEComponent",
                "displayName": "READMEComponent",
                "type": "component",
                "path": "readme.component.READMEComponent",
                "urlPath": "",
                "componentId": "READMEComponent",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "theme",
            "name": "theme",
            "displayName": "Theme",
            "type": "file",
            "order": 2,
            "path": "theme",
            "urlPath": "/theme",
            "content": "# Theme configuration\n\nSelect and customize your theme! These styles will be applied to every component in your generated web app.\n\n<!-- component-ThemeConfiguration -->\n",
            "components": [
              {
                "id": "component-ThemeConfiguration",
                "name": "ThemeConfiguration",
                "displayName": "ThemeConfiguration",
                "type": "component",
                "path": "theme.component.ThemeConfiguration",
                "urlPath": "",
                "componentId": "ThemeConfiguration",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "app-directory",
            "name": "app-directory",
            "displayName": "App Directory",
            "type": "file",
            "order": 3,
            "path": "app-directory",
            "urlPath": "/app-directory",
            "content": "# App Directory\n\n<!-- component-LayoutAndStructure -->\n",
            "components": [
              {
                "id": "component-LayoutAndStructure",
                "name": "LayoutAndStructure",
                "displayName": "LayoutAndStructure",
                "type": "component",
                "path": "app-directory.component.LayoutAndStructure",
                "urlPath": "",
                "componentId": "LayoutAndStructure",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "database",
            "name": "database",
            "displayName": "Database",
            "type": "file",
            "order": 4,
            "path": "database",
            "urlPath": "/database",
            "content": "# Database\n\n<!-- component-DatabaseConfiguration -->\n",
            "components": [
              {
                "id": "component-DatabaseConfiguration",
                "name": "DatabaseConfiguration",
                "displayName": "DatabaseConfiguration",
                "type": "component",
                "path": "database.component.DatabaseConfiguration",
                "urlPath": "",
                "componentId": "DatabaseConfiguration",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "starter-kit",
            "name": "starter-kit",
            "displayName": "Starter Kit",
            "type": "file",
            "order": 5,
            "path": "starter-kit",
            "urlPath": "/starter-kit",
            "content": "# Starter Kit\n\n<!-- component-NextStepsComponent -->\n",
            "components": [
              {
                "id": "component-NextStepsComponent",
                "name": "NextStepsComponent",
                "displayName": "NextStepsComponent",
                "type": "component",
                "path": "starter-kit.component.NextStepsComponent",
                "urlPath": "",
                "componentId": "NextStepsComponent",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "extensions",
            "name": "extensions",
            "displayName": "Extensions",
            "type": "file",
            "order": 6,
            "path": "extensions",
            "urlPath": "/extensions",
            "content": "# Extensions\n\n<!-- component-ExtensionsComponent -->\n",
            "components": [
              {
                "id": "component-ExtensionsComponent",
                "name": "ExtensionsComponent",
                "displayName": "ExtensionsComponent",
                "type": "component",
                "path": "extensions.component.ExtensionsComponent",
                "urlPath": "",
                "componentId": "ExtensionsComponent",
                "include": true
              }
            ],
            "sections": {},
            "include": true,
            "includeInSidebar": true,
            "isDynamicRobotsFile": false
          },
          {
            "id": "10-util",
            "name": "10-util",
            "displayName": " 10-util",
            "type": "file",
            "path": "10-util",
            "urlPath": "/10-util",
            "content": "# File examples\n\nThis guide provides code examples and patterns for organizing your application code following best practices.\n\n## Types file example\n\nType definitions establish contracts and ensure type safety throughout your application.\n\n<!-- section-1 -->\n\n## Stores file example\n\nZustand stores manage application state with persistence and middleware support.\n\n<!-- section-2 -->\n\n## Actions file example\n\nServer actions handle data mutations and communicate with your backend services.\n\n<!-- section-3 -->\n\n## Hooks file example\n\nReact Query hooks manage data fetching, caching, and synchronization.\n\n<!-- section-4 -->\n\n## Utility files\n\nUtility modules provide reusable helper functions and configurations.\n\n<!-- section-5 -->\n",
            "components": [],
            "sections": {
              "section1": {
                "option1": {
                  "content": "**Types file example (Client-side):**\n\n```typescript\nexport interface AppState {\n  data: any[];\n  setData: (data: any[]) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n  reset: () => void;\n}\n\nexport interface ApiData {\n  id: string;\n  name: string;\n  value: number;\n}\n```",
                  "include": true
                },
                "option2": {
                  "content": "**Types file example (With Database):**\n\n```typescript\nimport { User } from \"@prisma/client\";\n\nexport interface AppState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  tempEmail?: string;\n  setTempEmail: (tempEmail: string) => void;\n  reset: () => void;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n```",
                  "include": true
                }
              },
              "section2": {
                "option1": {
                  "content": "### Store Example (With Database)\n\n```typescript\nimport { UserRole } from \"@prisma/client\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { AppState, ExtendedUser, RedirectState } from \"./layout.types\";\n\nconst initialState = {\n  user: null,\n};\n\nexport const useAppStore = create<AppState>()((set) => ({\n  ...initialState,\n  setUser: (user) => set({ user, profile: user?.profile || null }),\n  reset: () => set(initialState),\n}));\n```\n\n**Usage with React Query:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\nimport { useGetUser } from \"@/hooks/user.hooks\";\n\nexport const UserProfile = () => {\n  const setUser = useAppStore((state) => state.setUser);\n  const user = useAppStore((state) => state.user);\n\n  const { isLoading } = useGetUser({\n    onSuccess: (data) => setUser(data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return <div>Welcome, {user?.name}</div>;\n};\n```",
                  "include": true
                },
                "option2": {
                  "content": "### Store Example (Without Database)\n\n```typescript\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface AppState {\n  theme: \"light\" | \"dark\";\n  setTheme: (theme: \"light\" | \"dark\") => void;\n  sidebarOpen: boolean;\n  toggleSidebar: () => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set) => ({\n      theme: \"light\",\n      setTheme: (theme) => set({ theme }),\n      sidebarOpen: true,\n      toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),\n    }),\n    {\n      name: \"app-storage\",\n    }\n  )\n);\n```\n\n**Usage:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useAppStore();\n\n  return (\n    <button onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}>\n      Toggle Theme\n    </button>\n  );\n};\n```",
                  "include": true
                }
              },
              "section3": {
                "option1": {
                  "content": "**No actions file needed for client-side only applications.**\n\nUse API routes or external API calls directly in hooks with React Query.",
                  "include": true
                },
                "option2": {
                  "content": "**Actions file example (NeonDB + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                  "include": true
                },
                "option3": {
                  "content": "**Actions file example (Supabase + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                  "include": true
                },
                "option4": {
                  "content": "**Actions file example (Supabase Auth Only):**\n\n```typescript\n\"use server\";\n\nimport { createClient } from \"@/lib/supabase/server\";\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\n\nexport const getUserAction = async (): Promise<ActionResponse<any>> => {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return getActionResponse({ error: authError?.message || \"Not authenticated\" });\n    }\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (error) throw error;\n\n    return getActionResponse({ data });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                  "include": true
                }
              },
              "section4": {
                "option1": {
                  "content": "**Hooks file example (Client-side):**\n\n```typescript\n\"use client\";\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetData = () => {\n  const { setData } = useAppStore();\n\n  return useQuery({\n    queryKey: [\"data\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/data\");\n      if (!response.ok) throw new Error(\"Failed to fetch\");\n      const data = await response.json();\n      setData(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useCreateData = () => {\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (newData: any) => {\n      const response = await fetch(\"/api/data\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newData),\n      });\n      if (!response.ok) throw new Error(\"Failed to create\");\n      return response.json();\n    },\n    onSuccess: () => {\n      router.refresh();\n    },\n  });\n};\n```",
                  "include": true
                },
                "option2": {
                  "content": "**Hooks file example (Better Auth):**\n\n```typescript\n\"use client\";\n\nimport { configuration, privatePaths } from \"@/configuration\";\nimport { signIn } from \"@/lib/auth-client\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Toast } from \"../(components)/Toast\";\nimport { CypressDataAttributes } from \"../../types/cypress.types\";\nimport { useAppStore, useRedirectStore } from \"../layout.stores\";\nimport { SignInData } from \"../layout.types\";\nimport { getUserAction } from \"./layout.actions\";\nimport { useAuthLayoutStore } from \"./layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const { reset: resetAuthLayout } = useAuthLayoutStore();\n  const { setUserData } = useRedirectStore();\n  const pathname = usePathname();\n\n  const router = useRouter();\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const { data, error } = await getUserAction();\n      if (!data || error) {\n        if (privatePaths.includes(pathname)) {\n          router.push(configuration.paths.signIn);\n        }\n        reset();\n        resetAuthLayout();\n      }\n      if (error) throw error;\n      setUser(data ?? null);\n\n      setUserData(data);\n\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser, setTempEmail } = useAppStore();\n  const { setUserData } = useRedirectStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (signInData: SignInData) => {\n      const { error } = await signIn.email({\n        email: signInData.email,\n        password: signInData.password,\n      });\n\n      if (error?.status === 403) setTempEmail(signInData.email);\n\n      if (error) throw error;\n      const { data: userData, error: userError } = await getUserAction();\n\n      if (userError) throw new Error(userError);\n\n      return userData;\n    },\n    onSuccess: (data) => {\n      if (data) {\n        setUser(data);\n        setUserData(data);\n      }\n      toast.custom(() => (\n        <Toast\n          variant=\"success\"\n          title=\"Success\"\n          message=\"Successfully signed in\"\n          data-cy={CypressDataAttributes.TOAST_SUCCESS}\n        />\n      ));\n      if (data && !data.profile?.isOnboardingComplete) {\n        router.push(configuration.paths.onboarding);\n        return;\n      }\n      router.push(configuration.paths.home);\n    },\n    onError: (\n      error: {\n        code?: string | undefined;\n        message?: string | undefined;\n        status: number;\n        statusText: string;\n      } | null\n    ) => {\n      if (error?.status === 403) return;\n      toast.custom(() => (\n        <Toast\n          variant=\"error\"\n          title=\"Sign In Failed\"\n          message={error?.message || \"Failed to sign in\"}\n          data-cy={CypressDataAttributes.TOAST_ERROR}\n        />\n      ));\n    },\n  });\n};\n```",
                  "include": true
                },
                "option3": {
                  "content": "**Hooks file example (Supabase Auth):**\n\n```typescript\n\"use client\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const router = useRouter();\n\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        reset();\n        return null;\n      }\n\n      const { data, error } = await supabase\n        .from('users')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (error) throw error;\n\n      setUser(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser } = useAppStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const supabase = createClient();\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) throw error;\n\n      return data.user;\n    },\n    onSuccess: (user) => {\n      setUser(user);\n      router.push('/dashboard');\n    },\n  });\n};\n```",
                  "include": true
                }
              },
              "section5": {
                "option1": {
                  "content": "**No utility files needed for client-side only applications.**",
                  "include": true
                },
                "option2": {
                  "content": "**Utility files (Better Auth + Prisma):**\n\n## `prisma-rls.ts`:\n\n```typescript\nimport { Prisma } from \"@prisma/client\";\nimport { prisma } from \"./prisma\";\n\nfunction forUser(userId: string, tenantId?: string) {\n  return Prisma.defineExtension((prisma) =>\n    prisma.$extends({\n      query: {\n        $allModels: {\n          async $allOperations({ args, query }) {\n            if (tenantId) {\n              const [, , result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                prisma.$executeRaw`SELECT set_config('app.current_tenant_id', ${tenantId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            } else {\n              const [, result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            }\n          },\n        },\n      },\n    })\n  );\n}\n\nexport function createRLSClient(userId: string, tenantId?: string) {\n  return prisma.$extends(forUser(userId, tenantId));\n}\n```\n\n## `auth.util.ts`\n\n```typescript\nimport { User } from \"better-auth\";\nimport jwt from \"jsonwebtoken\";\nimport { headers } from \"next/headers\";\nimport { auth, Session } from \"./auth\";\nimport { createRLSClient } from \"./prisma-rls\";\n\nexport async function getAuthenticatedClient(user?: User): Promise<{\n  db: ReturnType<typeof createRLSClient>;\n  session: Session | null;\n}> {\n  const headersList = await headers();\n\n  const session = await auth.api.getSession({\n    headers: headersList,\n  });\n\n  const userId = user?.id || session?.user.id;\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const db = createRLSClient(userId);\n\n  return { db, session };\n}\n\nexport function generateSupabaseJWT(userId: string, userRole: string): string {\n  const jwtSecret = process.env.SUPABASE_JWT_SECRET;\n\n  if (!jwtSecret) {\n    throw new Error(\"SUPABASE_JWT_SECRET is required for JWT generation\");\n  }\n\n  const payload = {\n    aud: \"authenticated\",\n    exp: Math.floor(Date.now() / 1000) + 60 * 60,\n    sub: userId,\n    email: `${userId}@better-auth.local`,\n    role: \"authenticated\",\n    user_metadata: {\n      better_auth_user_id: userId,\n      better_auth_role: userRole,\n    },\n    app_metadata: {\n      provider: \"better-auth\",\n      providers: [\"better-auth\"],\n    },\n  };\n\n  return jwt.sign(payload, jwtSecret, {\n    algorithm: \"HS256\",\n  });\n}\n```\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                  "include": true
                },
                "option3": {
                  "content": "**Utility files (Supabase):**\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                  "include": true
                }
              }
            },
            "include": true,
            "includeInSidebar": false,
            "isDynamicRobotsFile": false
          },
          {
            "id": "6-robots",
            "name": "6-robots",
            "displayName": " 6-ROBOTS",
            "type": "file",
            "path": "6-robots",
            "urlPath": "/6-robots",
            "content": "# ROBOTS.md\n\nThis file provides guidance to AI assistants when working with code in this repository.\n\n### Tech stack\n\n- **Next.js 15** with App Router architecture\n- **TypeScript** for type safety\n- **TailwindCSS & Shadcn** for styling\n\n<!-- section-1 -->\n\n# General rules:\n\n- Don't include any comments in any files.\n- All errors should be thrown - no \"fallback\" functionality\n- Import \"cn\" from \"@/lib/utils\" to concatenate classes.\n\n# File Organization and Naming Conventions\n\n- Types and store files alongside ancestor files\n- Actions and hooks files alongside descendent files\n\n\\`\\`\\`\n\n# Hook, action, store and type patterns\n\n<!-- section-2 -->\n\n# Console.logging\n\nAll logging should be performed using the \\`conditionalLog\\` function exported from \\`lib/log.utils.ts\\`\nThe \\`NEXT_PUBLIC_LOG_LABELS\\` variable in \\`.env.local\\` stores a comma separated string of log labels. Logs are returned if \\`NEXT_PUBLIC_LOG_LABELS=\"all\"\\`, or if \\`NEXT_PUBLIC_LOG_LABELS\\` includes the label arg in \\`conditionalLog\\`.\n\n\\`\\`\\`\n",
            "components": [],
            "sections": {
              "section1": {
                "option1": {
                  "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for authentication and real-time features\n\n# Database Architecture\n\nUse Supabase as the primary database and authentication provider.",
                  "include": true
                },
                "option2": {
                  "content": "- **Postgres & Prisma** for database and ORM\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse NeonDB for serverless Postgres with Prisma ORM and Better-Auth for authentication.",
                  "include": true
                },
                "option3": {
                  "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for real-time features\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse both Supabase and NeonDB based on feature requirements. Use Better-Auth for authentication with NeonDB as the primary database.",
                  "include": true
                },
                "option4": {
                  "content": "# Database Architecture\n\nNo database required - this is a frontend-only application.",
                  "include": true
                }
              },
              "section2": {
                "option1": {
                  "content": "DB <-> Supabase Client <-> hook <-> store\n\n- Supabase client queries are called directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store (if applicable).\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `@/supabase/types`.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                  "include": true
                },
                "option2": {
                  "content": "DB <-> Action <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `\"@prisma/client\"`\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, action, store or type files. The file also contains the `prisma-rls.ts` and `action.util.ts` files for reference.",
                  "include": true
                },
                "option3": {
                  "content": "DB <-> Action/Supabase Client <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient for NeonDB.\n- Supabase client queries are called directly in react-query hooks for real-time features.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- Database types should be defined from `\"@prisma/client\"` for NeonDB and `@/supabase/types` for Supabase.",
                  "include": true
                },
                "option4": {
                  "content": "Component <-> hook <-> store\n\n- No database interactions - frontend only.\n- API calls (if any) are made directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All types should be defined in `.types.ts` files alongside components.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                  "include": true
                }
              }
            },
            "include": true,
            "includeInSidebar": false,
            "isDynamicRobotsFile": true,
            "visibleAfterPage": "readme"
          },
          {
            "id": "7-deployment",
            "name": "7-deployment",
            "displayName": " 7-Deployment",
            "type": "file",
            "path": "7-deployment",
            "urlPath": "/7-deployment",
            "content": "# Deployment Instructions\n\nThis guide provides step-by-step instructions for deploying your application based on your selected technology stack.\n\n## Platform Setup\n\n<!-- section-1 -->\n\n## Database Deployment\n\n<!-- section-2 -->\n\n## Environment Variables\n\n<!-- section-3 -->\n\n## Authentication Setup\n\n<!-- section-4 -->\n\n## Post-Deployment Tasks\n\n<!-- section-5 -->\n",
            "components": [],
            "sections": {
              "section1": {
                "option1": {
                  "content": "### Deploying to Vercel\n\n**Prerequisites:**\n- Vercel account\n- GitHub repository connected to Vercel\n\n**Steps:**\n\n1. Install Vercel CLI:\n```bash\nnpm install -g vercel\n```\n\n2. Login to Vercel:\n```bash\nvercel login\n```\n\n3. Deploy your application:\n```bash\nvercel\n```\n\n4. For production deployment:\n```bash\nvercel --prod\n```\n\n**Configuration:**\n- Vercel automatically detects Next.js projects\n- Environment variables should be set in the Vercel dashboard under Settings → Environment Variables\n- Build command: `npm run build`\n- Output directory: `.next`\n- Install command: `npm install`\n\n**Custom Domain:**\n1. Go to your project settings in Vercel dashboard\n2. Navigate to Domains\n3. Add your custom domain\n4. Update your DNS records as instructed\n\n**Continuous Deployment:**\n- Vercel automatically deploys on push to your main branch\n- Pull requests create preview deployments\n- Configure branch deployments in Settings → Git",
                  "include": true
                },
                "option2": {
                  "content": "### Deploying to Railway\n\n**Prerequisites:**\n- Railway account\n- GitHub repository\n\n**Steps:**\n\n1. Install Railway CLI:\n```bash\nnpm install -g @railway/cli\n```\n\n2. Login to Railway:\n```bash\nrailway login\n```\n\n3. Initialize your project:\n```bash\nrailway init\n```\n\n4. Link to your Railway project:\n```bash\nrailway link\n```\n\n5. Deploy your application:\n```bash\nrailway up\n```\n\n**Configuration:**\n\nCreate a `railway.json` file in your project root:\n```json\n{\n  \"$schema\": \"https://railway.app/railway.schema.json\",\n  \"build\": {\n    \"builder\": \"NIXPACKS\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n**Environment Variables:**\n- Set in Railway dashboard under Variables tab\n- Or use CLI: `railway variables set KEY=value`\n\n**Health Checks:**\nRailway automatically monitors your application. Configure health check endpoint in your application:\n```typescript\napp.get('/health', (req, res) => {\n  res.status(200).json({ status: 'healthy' });\n});\n```\n\n**Custom Domain:**\n1. Go to Settings in Railway dashboard\n2. Navigate to Domains\n3. Add custom domain\n4. Update DNS records with provided values\n\n**Scaling:**\n- Railway supports horizontal and vertical scaling\n- Configure in Settings → Resources\n- Adjust memory and CPU allocation as needed",
                  "include": true
                }
              },
              "section2": {
                "option1": {
                  "content": "### No Database Deployment\n\nYour application is configured without a database backend. No additional database setup is required.\n\n**Static Content:**\n- All data is client-side only\n- Consider using environment variables for configuration\n- Perfect for static sites and applications without persistent data",
                  "include": true
                },
                "option2": {
                  "content": "### NeonDB Deployment\n\n**Prerequisites:**\n- NeonDB account (sign up at [neon.tech](https://neon.tech))\n\n**Steps:**\n\n1. Create a new project in NeonDB dashboard\n2. Copy your connection string from the dashboard\n3. Set environment variable in your deployment platform:\n   - `DATABASE_URL=your-neondb-connection-string`\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n3. Or use migrations:\n```bash\nnpx prisma migrate deploy\n```\n\n**Connection Pooling:**\nNeonDB provides built-in connection pooling. Use the pooled connection string for serverless environments.\n\n**Branching:**\nNeonDB supports database branching:\n- Create branches for preview deployments\n- Automatically create database branches per pull request\n- Configure in your CI/CD pipeline\n\n**Monitoring:**\n- Access database metrics in NeonDB dashboard\n- Set up alerts for connection limits\n- Monitor query performance",
                  "include": true
                },
                "option3": {
                  "content": "### Supabase Deployment\n\n**Prerequisites:**\n- Supabase account (sign up at [supabase.com](https://supabase.com))\n\n**Steps:**\n\n1. Create a new project in Supabase dashboard\n2. Note your project URL and anon key\n3. Set environment variables in your deployment platform:\n   - `VITE_SUPABASE_URL=your-project-url`\n   - `VITE_SUPABASE_ANON_KEY=your-anon-key`\n   - `DATABASE_URL=your-connection-string` (for Prisma)\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n**Row Level Security (RLS):**\nEnable RLS policies through Supabase dashboard:\n1. Navigate to Authentication → Policies\n2. Create policies for each table\n3. Test policies using the SQL editor\n\n**Storage Setup:**\nIf using Supabase Storage:\n1. Create storage buckets in dashboard\n2. Configure bucket policies\n3. Set CORS policies if needed\n\n**Realtime Setup:**\nEnable realtime for tables:\n1. Go to Database → Replication\n2. Enable replication for tables\n3. Configure realtime listeners in your application\n\n**Edge Functions (Optional):**\nDeploy edge functions for server-side logic:\n```bash\nsupabase functions deploy function-name\n```\n\n**Monitoring:**\n- Access logs in Supabase dashboard\n- Monitor API usage and database performance\n- Set up error tracking",
                  "include": true
                }
              },
              "section3": {
                "option1": {
                  "content": "### Core Environment Variables\n\nRequired for all deployments:\n\n```env\nNODE_ENV=production\nVITE_APP_URL=https://your-domain.com\n```",
                  "include": true
                },
                "option2": {
                  "content": "### Database Environment Variables\n\n**For NeonDB:**\n```env\nDATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/dbname\n```\n\n**For Supabase:**\n```env\nVITE_SUPABASE_URL=https://xxx.supabase.co\nVITE_SUPABASE_ANON_KEY=your-anon-key\nDATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres\n```",
                  "include": true
                },
                "option3": {
                  "content": "### Better Auth Environment Variables\n\n```env\nBETTER_AUTH_SECRET=your-secret-key-min-32-chars\nBETTER_AUTH_URL=https://your-domain.com\n```\n\nGenerate a secure secret:\n```bash\nopenssl rand -base64 32\n```",
                  "include": true
                },
                "option4": {
                  "content": "### Email Service (Resend)\n\n```env\nRESEND_API_KEY=re_xxxxxxxxxxxx\nVITE_FROM_EMAIL=noreply@yourdomain.com\n```\n\nGet your API key from [resend.com/api-keys](https://resend.com/api-keys)",
                  "include": true
                },
                "option5": {
                  "content": "### Stripe Payment Variables\n\n```env\nSTRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxx\nSTRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Get keys from Stripe Dashboard\n2. Set up webhook endpoint at `/api/webhooks/stripe`\n3. Configure webhook events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`",
                  "include": true
                },
                "option6": {
                  "content": "### PayPal Payment Variables\n\n```env\nPAYPAL_CLIENT_ID=xxxxxxxxxxxx\nPAYPAL_CLIENT_SECRET=xxxxxxxxxxxx\nPAYPAL_MODE=live\n```\n\n**Setup:**\n1. Create app in PayPal Developer Dashboard\n2. Get credentials from app settings\n3. Use `sandbox` mode for testing, `live` for production",
                  "include": true
                },
                "option7": {
                  "content": "### OpenRouter AI Variables\n\n```env\nOPENROUTER_API_KEY=sk-or-xxxxxxxxxxxx\n```\n\nGet your API key from [openrouter.ai/keys](https://openrouter.ai/keys)",
                  "include": true
                },
                "option8": {
                  "content": "### OAuth Provider Variables (Google)\n\n```env\nGOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Create project in Google Cloud Console\n2. Enable Google+ API\n3. Create OAuth 2.0 credentials\n4. Add authorized redirect URI: `https://your-domain.com/api/auth/callback/google`",
                  "include": true
                },
                "option9": {
                  "content": "### OAuth Provider Variables (GitHub)\n\n```env\nGITHUB_CLIENT_ID=xxxxxxxxxxxx\nGITHUB_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Go to GitHub Settings → Developer settings → OAuth Apps\n2. Create new OAuth App\n3. Set callback URL: `https://your-domain.com/api/auth/callback/github`",
                  "include": true
                },
                "option10": {
                  "content": "### OAuth Provider Variables (Apple)\n\n```env\nAPPLE_CLIENT_ID=com.yourapp.service\nAPPLE_TEAM_ID=xxxxxxxxxxxx\nAPPLE_KEY_ID=xxxxxxxxxxxx\nAPPLE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n**Setup:**\n1. Create Service ID in Apple Developer Account\n2. Configure Sign in with Apple\n3. Generate private key\n4. Set return URL: `https://your-domain.com/api/auth/callback/apple`",
                  "include": true
                }
              },
              "section4": {
                "option1": {
                  "content": "### Authentication Setup (Better Auth)\n\n**Database Schema:**\nBetter Auth creates necessary tables automatically on first run. Ensure your database is accessible.\n\n**Email Provider Setup:**\nConfigure Resend for email authentication:\n1. Verify your domain in Resend dashboard\n2. Add SPF and DKIM records to your DNS\n3. Test email delivery\n\n**Magic Link Setup:**\nMagic links are automatically configured if enabled. Ensure:\n- `BETTER_AUTH_URL` is set to your production domain\n- Email provider is configured correctly\n\n**Two-Factor Authentication:**\n2FA tables are created automatically. Users can enable in their account settings.\n\n**Session Management:**\n- Sessions are stored in database\n- Default expiration: 30 days\n- Refresh tokens enabled by default\n\n**Passkey Setup:**\nPasskeys require HTTPS:\n- Ensure your domain has valid SSL certificate\n- Passkeys stored securely in database\n- Works with biometric authentication",
                  "include": true
                },
                "option2": {
                  "content": "### Authentication Setup (Supabase Auth)\n\n**Email Templates:**\nCustomize email templates in Supabase dashboard:\n1. Navigate to Authentication → Email Templates\n2. Customize confirmation, magic link, and password reset emails\n3. Add your branding and domain\n\n**OAuth Providers:**\nConfigure in Supabase dashboard under Authentication → Providers:\n- Add client IDs and secrets\n- Set redirect URLs\n- Enable providers\n\n**Email Confirmation:**\nConfigure email confirmation settings:\n- Require email confirmation for new signups\n- Set confirmation token expiration\n- Configure redirect URLs\n\n**Password Requirements:**\nSet password policies:\n- Minimum length\n- Require special characters\n- Password history\n\n**Session Management:**\n- Sessions managed by Supabase\n- Configure JWT expiry\n- Set up refresh token rotation",
                  "include": true
                },
                "option3": {
                  "content": "### Organization Setup (Better Auth)\n\n**Super Admin Creation:**\nCreate your first super admin using the CLI:\n\n```bash\nnpm run create-super-admin\n```\n\nOr manually insert into database:\n```sql\nINSERT INTO users (email, role)\nVALUES ('admin@yourdomain.com', 'super_admin');\n```\n\n**Organization Creation:**\nSuper admins can create organizations through the admin panel or API.\n\n**Role Assignment:**\n- Super admins: Full system access\n- Org admins: Manage their organization and members\n- Org members: Read access to organization data\n\n**RLS Policies:**\nEnsure Row Level Security policies are enabled for organization tables:\n- Users can only see their organization data\n- Org admins can manage org members\n- Super admins have full access",
                  "include": true
                }
              },
              "section5": {
                "option1": {
                  "content": "### Stripe Webhook Configuration\n\n**Create Webhook Endpoint:**\n1. Go to Stripe Dashboard → Developers → Webhooks\n2. Add endpoint: `https://your-domain.com/api/webhooks/stripe`\n3. Select events to listen for:\n   - `checkout.session.completed`\n   - `customer.subscription.created`\n   - `customer.subscription.updated`\n   - `customer.subscription.deleted`\n   - `invoice.paid`\n   - `invoice.payment_failed`\n\n4. Copy the webhook signing secret\n5. Add to environment variables as `STRIPE_WEBHOOK_SECRET`\n\n**Test Webhook:**\n```bash\nstripe listen --forward-to localhost:3000/api/webhooks/stripe\n```\n\n**Webhook Handler:**\nVerify webhook signatures in your handler to ensure security.",
                  "include": true
                },
                "option2": {
                  "content": "### PayPal Webhook Configuration\n\n**Create Webhook:**\n1. Go to PayPal Developer Dashboard\n2. Select your app\n3. Add webhook URL: `https://your-domain.com/api/webhooks/paypal`\n4. Select events:\n   - `PAYMENT.CAPTURE.COMPLETED`\n   - `PAYMENT.CAPTURE.DENIED`\n   - `BILLING.SUBSCRIPTION.ACTIVATED`\n   - `BILLING.SUBSCRIPTION.CANCELLED`\n\n**Verify Webhooks:**\nPayPal provides webhook signature verification. Implement in your handler.",
                  "include": true
                },
                "option3": {
                  "content": "### Health Checks (Railway)\n\n**Configure Health Check Endpoint:**\nCreate endpoint at `/health` or `/api/health`:\n\n```typescript\nexport async function GET() {\n  return Response.json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n}\n```\n\n**Railway Configuration:**\nRailway automatically detects health checks. Configure in `railway.json`:\n\n```json\n{\n  \"deploy\": {\n    \"healthcheckPath\": \"/health\",\n    \"healthcheckTimeout\": 300\n  }\n}\n```",
                  "include": true
                },
                "option4": {
                  "content": "### Domain and SSL Setup (Vercel)\n\n**Add Custom Domain:**\n1. Go to project settings in Vercel\n2. Navigate to Domains tab\n3. Add your domain\n\n**DNS Configuration:**\nAdd these records to your DNS provider:\n- A record: `76.76.21.21`\n- AAAA record: `2606:4700:4700::1111`\n\nOr use CNAME:\n- CNAME: `cname.vercel-dns.com`\n\n**SSL Certificate:**\n- Vercel automatically provisions SSL certificates\n- Certificates auto-renew\n- HTTPS enforced by default\n\n**Redirect www to apex:**\nConfigure in Vercel dashboard or use redirect in `vercel.json`",
                  "include": true
                },
                "option5": {
                  "content": "### Domain and SSL Setup (Railway)\n\n**Add Custom Domain:**\n1. Go to your project settings\n2. Click on Domains\n3. Add custom domain\n\n**DNS Configuration:**\nPoint your domain to Railway:\n- CNAME record: `your-app.up.railway.app`\n- Or use A records provided by Railway\n\n**SSL Certificate:**\n- Railway automatically provisions Let's Encrypt certificates\n- Auto-renewal enabled\n- HTTPS enforced\n\n**Domain Verification:**\nMay require TXT record verification for some domains",
                  "include": true
                },
                "option6": {
                  "content": "### Email Deliverability (Resend)\n\n**Domain Verification:**\n1. Add domain in Resend dashboard\n2. Add DNS records:\n   - SPF: `v=spf1 include:resend.com ~all`\n   - DKIM: Provided by Resend\n   - DMARC: `v=DMARC1; p=none;`\n\n**Verification:**\n- Verify domain in Resend dashboard\n- Test email delivery\n- Monitor bounce rates\n\n**Best Practices:**\n- Use verified domain for production\n- Set up DMARC policy to `quarantine` or `reject` after testing\n- Monitor email reputation",
                  "include": true
                },
                "option7": {
                  "content": "### Monitoring and Logging\n\n**Application Monitoring:**\n- Set up error tracking (Sentry, LogRocket)\n- Monitor API response times\n- Track user analytics\n\n**Database Monitoring:**\n- Monitor connection pool usage\n- Set up slow query alerts\n- Track database size and growth\n\n**Platform Monitoring:**\n- Use platform-provided metrics\n- Set up uptime monitoring\n- Configure alerts for downtime\n\n**Log Aggregation:**\nConsider log aggregation service:\n- Logtail\n- Datadog\n- New Relic",
                  "include": true
                },
                "option8": {
                  "content": "### File Storage Setup (Supabase)\n\n**Create Storage Buckets:**\n1. Go to Supabase dashboard → Storage\n2. Create new bucket\n3. Configure bucket as public or private\n\n**Bucket Policies:**\nSet up access policies:\n```sql\nCREATE POLICY \"Public Access\"\nON storage.objects FOR SELECT\nUSING (bucket_id = 'public-bucket');\n\nCREATE POLICY \"Authenticated Upload\"\nON storage.objects FOR INSERT\nTO authenticated\nWITH CHECK (bucket_id = 'user-uploads');\n```\n\n**CORS Configuration:**\nConfigure CORS if accessing from different domain:\n1. Go to Storage → Configuration\n2. Add allowed origins\n3. Set allowed methods\n\n**CDN:**\nSupabase Storage includes CDN. Use transformation parameters for images:\n```\nhttps://xxx.supabase.co/storage/v1/object/public/bucket/image.jpg?width=500\n```",
                  "include": true
                },
                "option9": {
                  "content": "### Realtime Setup (Supabase)\n\n**Enable Replication:**\n1. Go to Database → Replication\n2. Enable for tables you want realtime updates\n3. Configure publication settings\n\n**Security:**\nSet up RLS policies for realtime:\n```sql\nALTER TABLE messages ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Users can see their messages\"\nON messages FOR SELECT\nUSING (auth.uid() = user_id);\n```\n\n**Client Configuration:**\nRealtime subscriptions are automatic with Supabase client. Ensure proper channel naming and filtering.\n\n**Monitoring:**\n- Monitor connection count\n- Check message delivery latency\n- Set up alerts for connection issues",
                  "include": true
                },
                "option10": {
                  "content": "### Post-Deployment Verification\n\n**Checklist:**\n- [ ] Application loads correctly at production URL\n- [ ] Database migrations applied successfully\n- [ ] All environment variables set correctly\n- [ ] Authentication flow works (sign up, login, logout)\n- [ ] Email delivery working\n- [ ] Payment processing functional (if applicable)\n- [ ] File uploads working (if applicable)\n- [ ] API endpoints responding correctly\n- [ ] SSL certificate valid and auto-renewing\n- [ ] Monitoring and logging configured\n- [ ] Error tracking set up\n- [ ] Backups configured\n- [ ] Domain DNS propagated\n\n**Load Testing:**\nTest your application under load:\n```bash\nnpm install -g artillery\nartillery quick --count 100 --num 10 https://your-domain.com\n```\n\n**Security Scan:**\n- Run security audit: `npm audit`\n- Check for exposed secrets\n- Verify CORS settings\n- Test rate limiting\n- Verify CSP headers",
                  "include": true
                }
              }
            },
            "include": true,
            "includeInSidebar": false,
            "isDynamicRobotsFile": false
          },
          {
            "id": "code-files",
            "name": "code-files",
            "displayName": "Code files",
            "type": "directory",
            "path": "code-files",
            "urlPath": "/code-files",
            "include": true,
            "includeInSidebar": true,
            "children": []
          }
        ]
      },
      "flatIndex": {
        "": {
          "id": "root",
          "name": "root",
          "displayName": "Root",
          "type": "directory",
          "path": "",
          "urlPath": "/",
          "include": true,
          "children": [
            {
              "id": "readme",
              "name": "readme",
              "displayName": "README",
              "type": "file",
              "order": 1,
              "path": "readme",
              "urlPath": "/readme",
              "content": "<!-- component-READMEComponent -->\n",
              "components": [
                {
                  "id": "component-READMEComponent",
                  "name": "READMEComponent",
                  "displayName": "READMEComponent",
                  "type": "component",
                  "path": "readme.component.READMEComponent",
                  "urlPath": "",
                  "componentId": "READMEComponent",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "theme",
              "name": "theme",
              "displayName": "Theme",
              "type": "file",
              "order": 2,
              "path": "theme",
              "urlPath": "/theme",
              "content": "# Theme configuration\n\nSelect and customize your theme! These styles will be applied to every component in your generated web app.\n\n<!-- component-ThemeConfiguration -->\n",
              "components": [
                {
                  "id": "component-ThemeConfiguration",
                  "name": "ThemeConfiguration",
                  "displayName": "ThemeConfiguration",
                  "type": "component",
                  "path": "theme.component.ThemeConfiguration",
                  "urlPath": "",
                  "componentId": "ThemeConfiguration",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "app-directory",
              "name": "app-directory",
              "displayName": "App Directory",
              "type": "file",
              "order": 3,
              "path": "app-directory",
              "urlPath": "/app-directory",
              "content": "# App Directory\n\n<!-- component-LayoutAndStructure -->\n",
              "components": [
                {
                  "id": "component-LayoutAndStructure",
                  "name": "LayoutAndStructure",
                  "displayName": "LayoutAndStructure",
                  "type": "component",
                  "path": "app-directory.component.LayoutAndStructure",
                  "urlPath": "",
                  "componentId": "LayoutAndStructure",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "database",
              "name": "database",
              "displayName": "Database",
              "type": "file",
              "order": 4,
              "path": "database",
              "urlPath": "/database",
              "content": "# Database\n\n<!-- component-DatabaseConfiguration -->\n",
              "components": [
                {
                  "id": "component-DatabaseConfiguration",
                  "name": "DatabaseConfiguration",
                  "displayName": "DatabaseConfiguration",
                  "type": "component",
                  "path": "database.component.DatabaseConfiguration",
                  "urlPath": "",
                  "componentId": "DatabaseConfiguration",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "starter-kit",
              "name": "starter-kit",
              "displayName": "Starter Kit",
              "type": "file",
              "order": 5,
              "path": "starter-kit",
              "urlPath": "/starter-kit",
              "content": "# Starter Kit\n\n<!-- component-NextStepsComponent -->\n",
              "components": [
                {
                  "id": "component-NextStepsComponent",
                  "name": "NextStepsComponent",
                  "displayName": "NextStepsComponent",
                  "type": "component",
                  "path": "starter-kit.component.NextStepsComponent",
                  "urlPath": "",
                  "componentId": "NextStepsComponent",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "extensions",
              "name": "extensions",
              "displayName": "Extensions",
              "type": "file",
              "order": 6,
              "path": "extensions",
              "urlPath": "/extensions",
              "content": "# Extensions\n\n<!-- component-ExtensionsComponent -->\n",
              "components": [
                {
                  "id": "component-ExtensionsComponent",
                  "name": "ExtensionsComponent",
                  "displayName": "ExtensionsComponent",
                  "type": "component",
                  "path": "extensions.component.ExtensionsComponent",
                  "urlPath": "",
                  "componentId": "ExtensionsComponent",
                  "include": true
                }
              ],
              "sections": {},
              "include": true,
              "includeInSidebar": true,
              "isDynamicRobotsFile": false
            },
            {
              "id": "10-util",
              "name": "10-util",
              "displayName": " 10-util",
              "type": "file",
              "path": "10-util",
              "urlPath": "/10-util",
              "content": "# File examples\n\nThis guide provides code examples and patterns for organizing your application code following best practices.\n\n## Types file example\n\nType definitions establish contracts and ensure type safety throughout your application.\n\n<!-- section-1 -->\n\n## Stores file example\n\nZustand stores manage application state with persistence and middleware support.\n\n<!-- section-2 -->\n\n## Actions file example\n\nServer actions handle data mutations and communicate with your backend services.\n\n<!-- section-3 -->\n\n## Hooks file example\n\nReact Query hooks manage data fetching, caching, and synchronization.\n\n<!-- section-4 -->\n\n## Utility files\n\nUtility modules provide reusable helper functions and configurations.\n\n<!-- section-5 -->\n",
              "components": [],
              "sections": {
                "section1": {
                  "option1": {
                    "content": "**Types file example (Client-side):**\n\n```typescript\nexport interface AppState {\n  data: any[];\n  setData: (data: any[]) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n  reset: () => void;\n}\n\nexport interface ApiData {\n  id: string;\n  name: string;\n  value: number;\n}\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "**Types file example (With Database):**\n\n```typescript\nimport { User } from \"@prisma/client\";\n\nexport interface AppState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  tempEmail?: string;\n  setTempEmail: (tempEmail: string) => void;\n  reset: () => void;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n```",
                    "include": true
                  }
                },
                "section2": {
                  "option1": {
                    "content": "### Store Example (With Database)\n\n```typescript\nimport { UserRole } from \"@prisma/client\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { AppState, ExtendedUser, RedirectState } from \"./layout.types\";\n\nconst initialState = {\n  user: null,\n};\n\nexport const useAppStore = create<AppState>()((set) => ({\n  ...initialState,\n  setUser: (user) => set({ user, profile: user?.profile || null }),\n  reset: () => set(initialState),\n}));\n```\n\n**Usage with React Query:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\nimport { useGetUser } from \"@/hooks/user.hooks\";\n\nexport const UserProfile = () => {\n  const setUser = useAppStore((state) => state.setUser);\n  const user = useAppStore((state) => state.user);\n\n  const { isLoading } = useGetUser({\n    onSuccess: (data) => setUser(data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return <div>Welcome, {user?.name}</div>;\n};\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "### Store Example (Without Database)\n\n```typescript\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface AppState {\n  theme: \"light\" | \"dark\";\n  setTheme: (theme: \"light\" | \"dark\") => void;\n  sidebarOpen: boolean;\n  toggleSidebar: () => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set) => ({\n      theme: \"light\",\n      setTheme: (theme) => set({ theme }),\n      sidebarOpen: true,\n      toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),\n    }),\n    {\n      name: \"app-storage\",\n    }\n  )\n);\n```\n\n**Usage:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useAppStore();\n\n  return (\n    <button onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}>\n      Toggle Theme\n    </button>\n  );\n};\n```",
                    "include": true
                  }
                },
                "section3": {
                  "option1": {
                    "content": "**No actions file needed for client-side only applications.**\n\nUse API routes or external API calls directly in hooks with React Query.",
                    "include": true
                  },
                  "option2": {
                    "content": "**Actions file example (NeonDB + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "**Actions file example (Supabase + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                    "include": true
                  },
                  "option4": {
                    "content": "**Actions file example (Supabase Auth Only):**\n\n```typescript\n\"use server\";\n\nimport { createClient } from \"@/lib/supabase/server\";\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\n\nexport const getUserAction = async (): Promise<ActionResponse<any>> => {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return getActionResponse({ error: authError?.message || \"Not authenticated\" });\n    }\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (error) throw error;\n\n    return getActionResponse({ data });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                    "include": true
                  }
                },
                "section4": {
                  "option1": {
                    "content": "**Hooks file example (Client-side):**\n\n```typescript\n\"use client\";\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetData = () => {\n  const { setData } = useAppStore();\n\n  return useQuery({\n    queryKey: [\"data\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/data\");\n      if (!response.ok) throw new Error(\"Failed to fetch\");\n      const data = await response.json();\n      setData(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useCreateData = () => {\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (newData: any) => {\n      const response = await fetch(\"/api/data\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newData),\n      });\n      if (!response.ok) throw new Error(\"Failed to create\");\n      return response.json();\n    },\n    onSuccess: () => {\n      router.refresh();\n    },\n  });\n};\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "**Hooks file example (Better Auth):**\n\n```typescript\n\"use client\";\n\nimport { configuration, privatePaths } from \"@/configuration\";\nimport { signIn } from \"@/lib/auth-client\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Toast } from \"../(components)/Toast\";\nimport { CypressDataAttributes } from \"../../types/cypress.types\";\nimport { useAppStore, useRedirectStore } from \"../layout.stores\";\nimport { SignInData } from \"../layout.types\";\nimport { getUserAction } from \"./layout.actions\";\nimport { useAuthLayoutStore } from \"./layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const { reset: resetAuthLayout } = useAuthLayoutStore();\n  const { setUserData } = useRedirectStore();\n  const pathname = usePathname();\n\n  const router = useRouter();\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const { data, error } = await getUserAction();\n      if (!data || error) {\n        if (privatePaths.includes(pathname)) {\n          router.push(configuration.paths.signIn);\n        }\n        reset();\n        resetAuthLayout();\n      }\n      if (error) throw error;\n      setUser(data ?? null);\n\n      setUserData(data);\n\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser, setTempEmail } = useAppStore();\n  const { setUserData } = useRedirectStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (signInData: SignInData) => {\n      const { error } = await signIn.email({\n        email: signInData.email,\n        password: signInData.password,\n      });\n\n      if (error?.status === 403) setTempEmail(signInData.email);\n\n      if (error) throw error;\n      const { data: userData, error: userError } = await getUserAction();\n\n      if (userError) throw new Error(userError);\n\n      return userData;\n    },\n    onSuccess: (data) => {\n      if (data) {\n        setUser(data);\n        setUserData(data);\n      }\n      toast.custom(() => (\n        <Toast\n          variant=\"success\"\n          title=\"Success\"\n          message=\"Successfully signed in\"\n          data-cy={CypressDataAttributes.TOAST_SUCCESS}\n        />\n      ));\n      if (data && !data.profile?.isOnboardingComplete) {\n        router.push(configuration.paths.onboarding);\n        return;\n      }\n      router.push(configuration.paths.home);\n    },\n    onError: (\n      error: {\n        code?: string | undefined;\n        message?: string | undefined;\n        status: number;\n        statusText: string;\n      } | null\n    ) => {\n      if (error?.status === 403) return;\n      toast.custom(() => (\n        <Toast\n          variant=\"error\"\n          title=\"Sign In Failed\"\n          message={error?.message || \"Failed to sign in\"}\n          data-cy={CypressDataAttributes.TOAST_ERROR}\n        />\n      ));\n    },\n  });\n};\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "**Hooks file example (Supabase Auth):**\n\n```typescript\n\"use client\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const router = useRouter();\n\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        reset();\n        return null;\n      }\n\n      const { data, error } = await supabase\n        .from('users')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (error) throw error;\n\n      setUser(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser } = useAppStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const supabase = createClient();\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) throw error;\n\n      return data.user;\n    },\n    onSuccess: (user) => {\n      setUser(user);\n      router.push('/dashboard');\n    },\n  });\n};\n```",
                    "include": true
                  }
                },
                "section5": {
                  "option1": {
                    "content": "**No utility files needed for client-side only applications.**",
                    "include": true
                  },
                  "option2": {
                    "content": "**Utility files (Better Auth + Prisma):**\n\n## `prisma-rls.ts`:\n\n```typescript\nimport { Prisma } from \"@prisma/client\";\nimport { prisma } from \"./prisma\";\n\nfunction forUser(userId: string, tenantId?: string) {\n  return Prisma.defineExtension((prisma) =>\n    prisma.$extends({\n      query: {\n        $allModels: {\n          async $allOperations({ args, query }) {\n            if (tenantId) {\n              const [, , result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                prisma.$executeRaw`SELECT set_config('app.current_tenant_id', ${tenantId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            } else {\n              const [, result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            }\n          },\n        },\n      },\n    })\n  );\n}\n\nexport function createRLSClient(userId: string, tenantId?: string) {\n  return prisma.$extends(forUser(userId, tenantId));\n}\n```\n\n## `auth.util.ts`\n\n```typescript\nimport { User } from \"better-auth\";\nimport jwt from \"jsonwebtoken\";\nimport { headers } from \"next/headers\";\nimport { auth, Session } from \"./auth\";\nimport { createRLSClient } from \"./prisma-rls\";\n\nexport async function getAuthenticatedClient(user?: User): Promise<{\n  db: ReturnType<typeof createRLSClient>;\n  session: Session | null;\n}> {\n  const headersList = await headers();\n\n  const session = await auth.api.getSession({\n    headers: headersList,\n  });\n\n  const userId = user?.id || session?.user.id;\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const db = createRLSClient(userId);\n\n  return { db, session };\n}\n\nexport function generateSupabaseJWT(userId: string, userRole: string): string {\n  const jwtSecret = process.env.SUPABASE_JWT_SECRET;\n\n  if (!jwtSecret) {\n    throw new Error(\"SUPABASE_JWT_SECRET is required for JWT generation\");\n  }\n\n  const payload = {\n    aud: \"authenticated\",\n    exp: Math.floor(Date.now() / 1000) + 60 * 60,\n    sub: userId,\n    email: `${userId}@better-auth.local`,\n    role: \"authenticated\",\n    user_metadata: {\n      better_auth_user_id: userId,\n      better_auth_role: userRole,\n    },\n    app_metadata: {\n      provider: \"better-auth\",\n      providers: [\"better-auth\"],\n    },\n  };\n\n  return jwt.sign(payload, jwtSecret, {\n    algorithm: \"HS256\",\n  });\n}\n```\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "**Utility files (Supabase):**\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                    "include": true
                  }
                }
              },
              "include": true,
              "includeInSidebar": false,
              "isDynamicRobotsFile": false
            },
            {
              "id": "6-robots",
              "name": "6-robots",
              "displayName": " 6-ROBOTS",
              "type": "file",
              "path": "6-robots",
              "urlPath": "/6-robots",
              "content": "# ROBOTS.md\n\nThis file provides guidance to AI assistants when working with code in this repository.\n\n### Tech stack\n\n- **Next.js 15** with App Router architecture\n- **TypeScript** for type safety\n- **TailwindCSS & Shadcn** for styling\n\n<!-- section-1 -->\n\n# General rules:\n\n- Don't include any comments in any files.\n- All errors should be thrown - no \"fallback\" functionality\n- Import \"cn\" from \"@/lib/utils\" to concatenate classes.\n\n# File Organization and Naming Conventions\n\n- Types and store files alongside ancestor files\n- Actions and hooks files alongside descendent files\n\n\\`\\`\\`\n\n# Hook, action, store and type patterns\n\n<!-- section-2 -->\n\n# Console.logging\n\nAll logging should be performed using the \\`conditionalLog\\` function exported from \\`lib/log.utils.ts\\`\nThe \\`NEXT_PUBLIC_LOG_LABELS\\` variable in \\`.env.local\\` stores a comma separated string of log labels. Logs are returned if \\`NEXT_PUBLIC_LOG_LABELS=\"all\"\\`, or if \\`NEXT_PUBLIC_LOG_LABELS\\` includes the label arg in \\`conditionalLog\\`.\n\n\\`\\`\\`\n",
              "components": [],
              "sections": {
                "section1": {
                  "option1": {
                    "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for authentication and real-time features\n\n# Database Architecture\n\nUse Supabase as the primary database and authentication provider.",
                    "include": true
                  },
                  "option2": {
                    "content": "- **Postgres & Prisma** for database and ORM\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse NeonDB for serverless Postgres with Prisma ORM and Better-Auth for authentication.",
                    "include": true
                  },
                  "option3": {
                    "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for real-time features\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse both Supabase and NeonDB based on feature requirements. Use Better-Auth for authentication with NeonDB as the primary database.",
                    "include": true
                  },
                  "option4": {
                    "content": "# Database Architecture\n\nNo database required - this is a frontend-only application.",
                    "include": true
                  }
                },
                "section2": {
                  "option1": {
                    "content": "DB <-> Supabase Client <-> hook <-> store\n\n- Supabase client queries are called directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store (if applicable).\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `@/supabase/types`.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                    "include": true
                  },
                  "option2": {
                    "content": "DB <-> Action <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `\"@prisma/client\"`\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, action, store or type files. The file also contains the `prisma-rls.ts` and `action.util.ts` files for reference.",
                    "include": true
                  },
                  "option3": {
                    "content": "DB <-> Action/Supabase Client <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient for NeonDB.\n- Supabase client queries are called directly in react-query hooks for real-time features.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- Database types should be defined from `\"@prisma/client\"` for NeonDB and `@/supabase/types` for Supabase.",
                    "include": true
                  },
                  "option4": {
                    "content": "Component <-> hook <-> store\n\n- No database interactions - frontend only.\n- API calls (if any) are made directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All types should be defined in `.types.ts` files alongside components.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                    "include": true
                  }
                }
              },
              "include": true,
              "includeInSidebar": false,
              "isDynamicRobotsFile": true,
              "visibleAfterPage": "readme"
            },
            {
              "id": "7-deployment",
              "name": "7-deployment",
              "displayName": " 7-Deployment",
              "type": "file",
              "path": "7-deployment",
              "urlPath": "/7-deployment",
              "content": "# Deployment Instructions\n\nThis guide provides step-by-step instructions for deploying your application based on your selected technology stack.\n\n## Platform Setup\n\n<!-- section-1 -->\n\n## Database Deployment\n\n<!-- section-2 -->\n\n## Environment Variables\n\n<!-- section-3 -->\n\n## Authentication Setup\n\n<!-- section-4 -->\n\n## Post-Deployment Tasks\n\n<!-- section-5 -->\n",
              "components": [],
              "sections": {
                "section1": {
                  "option1": {
                    "content": "### Deploying to Vercel\n\n**Prerequisites:**\n- Vercel account\n- GitHub repository connected to Vercel\n\n**Steps:**\n\n1. Install Vercel CLI:\n```bash\nnpm install -g vercel\n```\n\n2. Login to Vercel:\n```bash\nvercel login\n```\n\n3. Deploy your application:\n```bash\nvercel\n```\n\n4. For production deployment:\n```bash\nvercel --prod\n```\n\n**Configuration:**\n- Vercel automatically detects Next.js projects\n- Environment variables should be set in the Vercel dashboard under Settings → Environment Variables\n- Build command: `npm run build`\n- Output directory: `.next`\n- Install command: `npm install`\n\n**Custom Domain:**\n1. Go to your project settings in Vercel dashboard\n2. Navigate to Domains\n3. Add your custom domain\n4. Update your DNS records as instructed\n\n**Continuous Deployment:**\n- Vercel automatically deploys on push to your main branch\n- Pull requests create preview deployments\n- Configure branch deployments in Settings → Git",
                    "include": true
                  },
                  "option2": {
                    "content": "### Deploying to Railway\n\n**Prerequisites:**\n- Railway account\n- GitHub repository\n\n**Steps:**\n\n1. Install Railway CLI:\n```bash\nnpm install -g @railway/cli\n```\n\n2. Login to Railway:\n```bash\nrailway login\n```\n\n3. Initialize your project:\n```bash\nrailway init\n```\n\n4. Link to your Railway project:\n```bash\nrailway link\n```\n\n5. Deploy your application:\n```bash\nrailway up\n```\n\n**Configuration:**\n\nCreate a `railway.json` file in your project root:\n```json\n{\n  \"$schema\": \"https://railway.app/railway.schema.json\",\n  \"build\": {\n    \"builder\": \"NIXPACKS\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n**Environment Variables:**\n- Set in Railway dashboard under Variables tab\n- Or use CLI: `railway variables set KEY=value`\n\n**Health Checks:**\nRailway automatically monitors your application. Configure health check endpoint in your application:\n```typescript\napp.get('/health', (req, res) => {\n  res.status(200).json({ status: 'healthy' });\n});\n```\n\n**Custom Domain:**\n1. Go to Settings in Railway dashboard\n2. Navigate to Domains\n3. Add custom domain\n4. Update DNS records with provided values\n\n**Scaling:**\n- Railway supports horizontal and vertical scaling\n- Configure in Settings → Resources\n- Adjust memory and CPU allocation as needed",
                    "include": true
                  }
                },
                "section2": {
                  "option1": {
                    "content": "### No Database Deployment\n\nYour application is configured without a database backend. No additional database setup is required.\n\n**Static Content:**\n- All data is client-side only\n- Consider using environment variables for configuration\n- Perfect for static sites and applications without persistent data",
                    "include": true
                  },
                  "option2": {
                    "content": "### NeonDB Deployment\n\n**Prerequisites:**\n- NeonDB account (sign up at [neon.tech](https://neon.tech))\n\n**Steps:**\n\n1. Create a new project in NeonDB dashboard\n2. Copy your connection string from the dashboard\n3. Set environment variable in your deployment platform:\n   - `DATABASE_URL=your-neondb-connection-string`\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n3. Or use migrations:\n```bash\nnpx prisma migrate deploy\n```\n\n**Connection Pooling:**\nNeonDB provides built-in connection pooling. Use the pooled connection string for serverless environments.\n\n**Branching:**\nNeonDB supports database branching:\n- Create branches for preview deployments\n- Automatically create database branches per pull request\n- Configure in your CI/CD pipeline\n\n**Monitoring:**\n- Access database metrics in NeonDB dashboard\n- Set up alerts for connection limits\n- Monitor query performance",
                    "include": true
                  },
                  "option3": {
                    "content": "### Supabase Deployment\n\n**Prerequisites:**\n- Supabase account (sign up at [supabase.com](https://supabase.com))\n\n**Steps:**\n\n1. Create a new project in Supabase dashboard\n2. Note your project URL and anon key\n3. Set environment variables in your deployment platform:\n   - `VITE_SUPABASE_URL=your-project-url`\n   - `VITE_SUPABASE_ANON_KEY=your-anon-key`\n   - `DATABASE_URL=your-connection-string` (for Prisma)\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n**Row Level Security (RLS):**\nEnable RLS policies through Supabase dashboard:\n1. Navigate to Authentication → Policies\n2. Create policies for each table\n3. Test policies using the SQL editor\n\n**Storage Setup:**\nIf using Supabase Storage:\n1. Create storage buckets in dashboard\n2. Configure bucket policies\n3. Set CORS policies if needed\n\n**Realtime Setup:**\nEnable realtime for tables:\n1. Go to Database → Replication\n2. Enable replication for tables\n3. Configure realtime listeners in your application\n\n**Edge Functions (Optional):**\nDeploy edge functions for server-side logic:\n```bash\nsupabase functions deploy function-name\n```\n\n**Monitoring:**\n- Access logs in Supabase dashboard\n- Monitor API usage and database performance\n- Set up error tracking",
                    "include": true
                  }
                },
                "section3": {
                  "option1": {
                    "content": "### Core Environment Variables\n\nRequired for all deployments:\n\n```env\nNODE_ENV=production\nVITE_APP_URL=https://your-domain.com\n```",
                    "include": true
                  },
                  "option2": {
                    "content": "### Database Environment Variables\n\n**For NeonDB:**\n```env\nDATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/dbname\n```\n\n**For Supabase:**\n```env\nVITE_SUPABASE_URL=https://xxx.supabase.co\nVITE_SUPABASE_ANON_KEY=your-anon-key\nDATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres\n```",
                    "include": true
                  },
                  "option3": {
                    "content": "### Better Auth Environment Variables\n\n```env\nBETTER_AUTH_SECRET=your-secret-key-min-32-chars\nBETTER_AUTH_URL=https://your-domain.com\n```\n\nGenerate a secure secret:\n```bash\nopenssl rand -base64 32\n```",
                    "include": true
                  },
                  "option4": {
                    "content": "### Email Service (Resend)\n\n```env\nRESEND_API_KEY=re_xxxxxxxxxxxx\nVITE_FROM_EMAIL=noreply@yourdomain.com\n```\n\nGet your API key from [resend.com/api-keys](https://resend.com/api-keys)",
                    "include": true
                  },
                  "option5": {
                    "content": "### Stripe Payment Variables\n\n```env\nSTRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxx\nSTRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Get keys from Stripe Dashboard\n2. Set up webhook endpoint at `/api/webhooks/stripe`\n3. Configure webhook events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`",
                    "include": true
                  },
                  "option6": {
                    "content": "### PayPal Payment Variables\n\n```env\nPAYPAL_CLIENT_ID=xxxxxxxxxxxx\nPAYPAL_CLIENT_SECRET=xxxxxxxxxxxx\nPAYPAL_MODE=live\n```\n\n**Setup:**\n1. Create app in PayPal Developer Dashboard\n2. Get credentials from app settings\n3. Use `sandbox` mode for testing, `live` for production",
                    "include": true
                  },
                  "option7": {
                    "content": "### OpenRouter AI Variables\n\n```env\nOPENROUTER_API_KEY=sk-or-xxxxxxxxxxxx\n```\n\nGet your API key from [openrouter.ai/keys](https://openrouter.ai/keys)",
                    "include": true
                  },
                  "option8": {
                    "content": "### OAuth Provider Variables (Google)\n\n```env\nGOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Create project in Google Cloud Console\n2. Enable Google+ API\n3. Create OAuth 2.0 credentials\n4. Add authorized redirect URI: `https://your-domain.com/api/auth/callback/google`",
                    "include": true
                  },
                  "option9": {
                    "content": "### OAuth Provider Variables (GitHub)\n\n```env\nGITHUB_CLIENT_ID=xxxxxxxxxxxx\nGITHUB_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Go to GitHub Settings → Developer settings → OAuth Apps\n2. Create new OAuth App\n3. Set callback URL: `https://your-domain.com/api/auth/callback/github`",
                    "include": true
                  },
                  "option10": {
                    "content": "### OAuth Provider Variables (Apple)\n\n```env\nAPPLE_CLIENT_ID=com.yourapp.service\nAPPLE_TEAM_ID=xxxxxxxxxxxx\nAPPLE_KEY_ID=xxxxxxxxxxxx\nAPPLE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n**Setup:**\n1. Create Service ID in Apple Developer Account\n2. Configure Sign in with Apple\n3. Generate private key\n4. Set return URL: `https://your-domain.com/api/auth/callback/apple`",
                    "include": true
                  }
                },
                "section4": {
                  "option1": {
                    "content": "### Authentication Setup (Better Auth)\n\n**Database Schema:**\nBetter Auth creates necessary tables automatically on first run. Ensure your database is accessible.\n\n**Email Provider Setup:**\nConfigure Resend for email authentication:\n1. Verify your domain in Resend dashboard\n2. Add SPF and DKIM records to your DNS\n3. Test email delivery\n\n**Magic Link Setup:**\nMagic links are automatically configured if enabled. Ensure:\n- `BETTER_AUTH_URL` is set to your production domain\n- Email provider is configured correctly\n\n**Two-Factor Authentication:**\n2FA tables are created automatically. Users can enable in their account settings.\n\n**Session Management:**\n- Sessions are stored in database\n- Default expiration: 30 days\n- Refresh tokens enabled by default\n\n**Passkey Setup:**\nPasskeys require HTTPS:\n- Ensure your domain has valid SSL certificate\n- Passkeys stored securely in database\n- Works with biometric authentication",
                    "include": true
                  },
                  "option2": {
                    "content": "### Authentication Setup (Supabase Auth)\n\n**Email Templates:**\nCustomize email templates in Supabase dashboard:\n1. Navigate to Authentication → Email Templates\n2. Customize confirmation, magic link, and password reset emails\n3. Add your branding and domain\n\n**OAuth Providers:**\nConfigure in Supabase dashboard under Authentication → Providers:\n- Add client IDs and secrets\n- Set redirect URLs\n- Enable providers\n\n**Email Confirmation:**\nConfigure email confirmation settings:\n- Require email confirmation for new signups\n- Set confirmation token expiration\n- Configure redirect URLs\n\n**Password Requirements:**\nSet password policies:\n- Minimum length\n- Require special characters\n- Password history\n\n**Session Management:**\n- Sessions managed by Supabase\n- Configure JWT expiry\n- Set up refresh token rotation",
                    "include": true
                  },
                  "option3": {
                    "content": "### Organization Setup (Better Auth)\n\n**Super Admin Creation:**\nCreate your first super admin using the CLI:\n\n```bash\nnpm run create-super-admin\n```\n\nOr manually insert into database:\n```sql\nINSERT INTO users (email, role)\nVALUES ('admin@yourdomain.com', 'super_admin');\n```\n\n**Organization Creation:**\nSuper admins can create organizations through the admin panel or API.\n\n**Role Assignment:**\n- Super admins: Full system access\n- Org admins: Manage their organization and members\n- Org members: Read access to organization data\n\n**RLS Policies:**\nEnsure Row Level Security policies are enabled for organization tables:\n- Users can only see their organization data\n- Org admins can manage org members\n- Super admins have full access",
                    "include": true
                  }
                },
                "section5": {
                  "option1": {
                    "content": "### Stripe Webhook Configuration\n\n**Create Webhook Endpoint:**\n1. Go to Stripe Dashboard → Developers → Webhooks\n2. Add endpoint: `https://your-domain.com/api/webhooks/stripe`\n3. Select events to listen for:\n   - `checkout.session.completed`\n   - `customer.subscription.created`\n   - `customer.subscription.updated`\n   - `customer.subscription.deleted`\n   - `invoice.paid`\n   - `invoice.payment_failed`\n\n4. Copy the webhook signing secret\n5. Add to environment variables as `STRIPE_WEBHOOK_SECRET`\n\n**Test Webhook:**\n```bash\nstripe listen --forward-to localhost:3000/api/webhooks/stripe\n```\n\n**Webhook Handler:**\nVerify webhook signatures in your handler to ensure security.",
                    "include": true
                  },
                  "option2": {
                    "content": "### PayPal Webhook Configuration\n\n**Create Webhook:**\n1. Go to PayPal Developer Dashboard\n2. Select your app\n3. Add webhook URL: `https://your-domain.com/api/webhooks/paypal`\n4. Select events:\n   - `PAYMENT.CAPTURE.COMPLETED`\n   - `PAYMENT.CAPTURE.DENIED`\n   - `BILLING.SUBSCRIPTION.ACTIVATED`\n   - `BILLING.SUBSCRIPTION.CANCELLED`\n\n**Verify Webhooks:**\nPayPal provides webhook signature verification. Implement in your handler.",
                    "include": true
                  },
                  "option3": {
                    "content": "### Health Checks (Railway)\n\n**Configure Health Check Endpoint:**\nCreate endpoint at `/health` or `/api/health`:\n\n```typescript\nexport async function GET() {\n  return Response.json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n}\n```\n\n**Railway Configuration:**\nRailway automatically detects health checks. Configure in `railway.json`:\n\n```json\n{\n  \"deploy\": {\n    \"healthcheckPath\": \"/health\",\n    \"healthcheckTimeout\": 300\n  }\n}\n```",
                    "include": true
                  },
                  "option4": {
                    "content": "### Domain and SSL Setup (Vercel)\n\n**Add Custom Domain:**\n1. Go to project settings in Vercel\n2. Navigate to Domains tab\n3. Add your domain\n\n**DNS Configuration:**\nAdd these records to your DNS provider:\n- A record: `76.76.21.21`\n- AAAA record: `2606:4700:4700::1111`\n\nOr use CNAME:\n- CNAME: `cname.vercel-dns.com`\n\n**SSL Certificate:**\n- Vercel automatically provisions SSL certificates\n- Certificates auto-renew\n- HTTPS enforced by default\n\n**Redirect www to apex:**\nConfigure in Vercel dashboard or use redirect in `vercel.json`",
                    "include": true
                  },
                  "option5": {
                    "content": "### Domain and SSL Setup (Railway)\n\n**Add Custom Domain:**\n1. Go to your project settings\n2. Click on Domains\n3. Add custom domain\n\n**DNS Configuration:**\nPoint your domain to Railway:\n- CNAME record: `your-app.up.railway.app`\n- Or use A records provided by Railway\n\n**SSL Certificate:**\n- Railway automatically provisions Let's Encrypt certificates\n- Auto-renewal enabled\n- HTTPS enforced\n\n**Domain Verification:**\nMay require TXT record verification for some domains",
                    "include": true
                  },
                  "option6": {
                    "content": "### Email Deliverability (Resend)\n\n**Domain Verification:**\n1. Add domain in Resend dashboard\n2. Add DNS records:\n   - SPF: `v=spf1 include:resend.com ~all`\n   - DKIM: Provided by Resend\n   - DMARC: `v=DMARC1; p=none;`\n\n**Verification:**\n- Verify domain in Resend dashboard\n- Test email delivery\n- Monitor bounce rates\n\n**Best Practices:**\n- Use verified domain for production\n- Set up DMARC policy to `quarantine` or `reject` after testing\n- Monitor email reputation",
                    "include": true
                  },
                  "option7": {
                    "content": "### Monitoring and Logging\n\n**Application Monitoring:**\n- Set up error tracking (Sentry, LogRocket)\n- Monitor API response times\n- Track user analytics\n\n**Database Monitoring:**\n- Monitor connection pool usage\n- Set up slow query alerts\n- Track database size and growth\n\n**Platform Monitoring:**\n- Use platform-provided metrics\n- Set up uptime monitoring\n- Configure alerts for downtime\n\n**Log Aggregation:**\nConsider log aggregation service:\n- Logtail\n- Datadog\n- New Relic",
                    "include": true
                  },
                  "option8": {
                    "content": "### File Storage Setup (Supabase)\n\n**Create Storage Buckets:**\n1. Go to Supabase dashboard → Storage\n2. Create new bucket\n3. Configure bucket as public or private\n\n**Bucket Policies:**\nSet up access policies:\n```sql\nCREATE POLICY \"Public Access\"\nON storage.objects FOR SELECT\nUSING (bucket_id = 'public-bucket');\n\nCREATE POLICY \"Authenticated Upload\"\nON storage.objects FOR INSERT\nTO authenticated\nWITH CHECK (bucket_id = 'user-uploads');\n```\n\n**CORS Configuration:**\nConfigure CORS if accessing from different domain:\n1. Go to Storage → Configuration\n2. Add allowed origins\n3. Set allowed methods\n\n**CDN:**\nSupabase Storage includes CDN. Use transformation parameters for images:\n```\nhttps://xxx.supabase.co/storage/v1/object/public/bucket/image.jpg?width=500\n```",
                    "include": true
                  },
                  "option9": {
                    "content": "### Realtime Setup (Supabase)\n\n**Enable Replication:**\n1. Go to Database → Replication\n2. Enable for tables you want realtime updates\n3. Configure publication settings\n\n**Security:**\nSet up RLS policies for realtime:\n```sql\nALTER TABLE messages ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Users can see their messages\"\nON messages FOR SELECT\nUSING (auth.uid() = user_id);\n```\n\n**Client Configuration:**\nRealtime subscriptions are automatic with Supabase client. Ensure proper channel naming and filtering.\n\n**Monitoring:**\n- Monitor connection count\n- Check message delivery latency\n- Set up alerts for connection issues",
                    "include": true
                  },
                  "option10": {
                    "content": "### Post-Deployment Verification\n\n**Checklist:**\n- [ ] Application loads correctly at production URL\n- [ ] Database migrations applied successfully\n- [ ] All environment variables set correctly\n- [ ] Authentication flow works (sign up, login, logout)\n- [ ] Email delivery working\n- [ ] Payment processing functional (if applicable)\n- [ ] File uploads working (if applicable)\n- [ ] API endpoints responding correctly\n- [ ] SSL certificate valid and auto-renewing\n- [ ] Monitoring and logging configured\n- [ ] Error tracking set up\n- [ ] Backups configured\n- [ ] Domain DNS propagated\n\n**Load Testing:**\nTest your application under load:\n```bash\nnpm install -g artillery\nartillery quick --count 100 --num 10 https://your-domain.com\n```\n\n**Security Scan:**\n- Run security audit: `npm audit`\n- Check for exposed secrets\n- Verify CORS settings\n- Test rate limiting\n- Verify CSP headers",
                    "include": true
                  }
                }
              },
              "include": true,
              "includeInSidebar": false,
              "isDynamicRobotsFile": false
            },
            {
              "id": "code-files",
              "name": "code-files",
              "displayName": "Code files",
              "type": "directory",
              "path": "code-files",
              "urlPath": "/code-files",
              "include": true,
              "includeInSidebar": true,
              "children": []
            }
          ]
        },
        "readme": {
          "id": "readme",
          "name": "readme",
          "displayName": "README",
          "type": "file",
          "order": 1,
          "path": "readme",
          "urlPath": "/readme",
          "content": "<!-- component-READMEComponent -->\n\n# Beep.Buzz\n\n## Overview\n\nBeep.Buzz is a playful and creative social media platform where users can express themselves through personalized, interactive web pages. Each user gets their own custom subdomain (username.beep.buzz) where they can create a unique vertical canvas filled with text, shapes, patterns, illustrations, and YouTube videos.\n\nWhat makes Beep.Buzz special is its unique interaction model - visitors can place decorative \"beep\" and \"buzz\" stickers on each other's pages. These stickers serve as colorful breadcrumbs, linking back to the visitor's own page and creating an interconnected web of creative expression. Users design their own custom stickers, which automatically update across all pages where they've been placed.\n\nTo ensure a safe and welcoming environment, all content is analyzed by AI before publishing, and users can flag inappropriate content for admin review. The platform combines creative freedom with strong community standards to create a unique social space for digital self-expression.\n\n## Layouts\n\n### Main Layout\nThe primary layout provides a consistent, clean interface across most of the platform. It features a header with the Beep.Buzz logo and an authentication avatar button/menu for quick access to profile settings and sign out options. A minimal footer contains essential links. This layout is used for the Home, Sign In, Welcome Setup, User Page, and Page Editor pages, providing familiar navigation while letting page content take center stage.\n\n### Admin Layout\nDesigned for content moderation and platform management, the Admin layout includes the standard header elements plus a specialized sidebar. The sidebar provides quick access to the content flagging queue, user management tools, and sticker approval system. This layout is exclusively used for the Content Moderation page, helping admins efficiently manage platform safety and community standards.\n\n## Pages\n\n### Home (/) (Anon, Auth, Admin)\nThe discovery hub of Beep.Buzz showcases the community's creativity through various browsing options. Users can search by title or username, explore featured sections like Popular Pages and Recently Active, or discover random pages. Each page preview card displays the title, username, visual preview, sticker counts, and category. New users are encouraged to join with a prominent \"Create Your Page\" call-to-action.\n\n### Sign In (/sign-in) (Anon)\nA streamlined authentication page featuring playful Beep.Buzz branding and animated stickers. Users simply enter their email address to receive a magic link for secure, passwordless access to their account.\n\n### Welcome Setup (/welcome) (Auth, Admin)\nFirst-time users begin their journey here after authentication. Choose a unique username (3-20 URL-friendly characters) and design personal beep and buzz stickers by selecting icons, colors, and shapes. After this quick setup, users can immediately start exploring and interacting with the community.\n\n### User Page (/[username]) (Anon, Auth, Admin)\nEach user's creative canvas, accessible at their custom subdomain. Features a static header with page title and creator information, plus a sticky navigation bar with sticker visibility controls. Visitors can view the creator's content and placed stickers, with each sticker revealing its creator and linking to their page.\n\n### Page Editor (/editor) (Auth, Admin)\nA powerful but intuitive builder interface for creating personal pages. Add and customize text blocks, shapes, dividers, and YouTube embeds with drag-and-drop simplicity. Preview your page across desktop, tablet, and mobile views to ensure it looks great everywhere.\n\n### Content Moderation (/admin) (Admin)\nAdministrative dashboard for maintaining community standards. Review flagged content, manage user reports, and approve new sticker designs. Includes AI analysis results and a complete audit log of moderation actions.\n\n### Settings (/settings) (Auth, Admin)\nManage your Beep.Buzz identity by customizing sticker designs and reviewing activity. Changes to your stickers automatically update across all pages where they've been placed. View analytics about your sticker interactions and manage your placed stickers.\n\n## Authentication & Access Control\n\nBeep.Buzz uses a simple, secure magic link authentication system. When signing in, users enter their email address and receive a special link that automatically logs them in - no passwords needed. This approach provides strong security while keeping the experience simple and friendly.\n\n### Access Levels\n\n**Anonymous Access** (no authentication required):\n- Home (/)\n- Sign In (/sign-in)\n- User Page (/[username])\n\n**Authenticated Users**:\n- Welcome Setup (/welcome)\n- Page Editor (/editor)\n- Settings (/settings)\n\n**Admin Only**:\n- Content Moderation (/admin)\n\n## User Experience\n\nNew visitors typically discover Beep.Buzz through shared user pages, where they can explore content and see how others interact through stickers. Creating an account is as simple as entering an email address and clicking a magic link. After setting up their username and custom stickers in the Welcome flow, users can immediately start creating their own page or placing stickers on others' pages.\n\nRegular users often start their sessions by checking who has placed new stickers on their page, then exploring those users' pages in return. The Page Editor makes it easy to keep content fresh, while the Settings page helps users track their community interactions.\n\n## Getting Started\n\n1. Visit any username.beep.buzz page to explore what others have created\n2. Click \"Create Your Page\" to start your journey\n3. Enter your email and click the magic link when it arrives\n4. Choose your username and design your personal stickers\n5. Start creating your page or explore the community!\n\nYour stickers are your identity on Beep.Buzz - use them to show appreciation for others' creativity and invite them to visit your page in return.",
          "components": [
            {
              "id": "component-READMEComponent",
              "name": "READMEComponent",
              "displayName": "READMEComponent",
              "type": "component",
              "path": "readme.component.READMEComponent",
              "urlPath": "",
              "componentId": "READMEComponent",
              "include": true
            }
          ],
          "sections": {
            "section1": {
              "option1": {
                "content": "",
                "include": false
              },
              "option2": {
                "content": "",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": true
              },
              "option3": {
                "content": "",
                "include": true
              },
              "option4": {
                "content": "",
                "include": true
              },
              "option5": {
                "content": "",
                "include": true
              },
              "option6": {
                "content": "",
                "include": true
              },
              "option7": {
                "content": "",
                "include": true
              },
              "option8": {
                "content": "",
                "include": true
              },
              "option12": {
                "content": "",
                "include": true
              },
              "option13": {
                "content": "",
                "include": false
              },
              "option14": {
                "content": "",
                "include": false
              },
              "option15": {
                "content": "",
                "include": false
              },
              "option16": {
                "content": "",
                "include": false
              },
              "option17": {
                "content": "",
                "include": false
              },
              "option18": {
                "content": "",
                "include": false
              },
              "option19": {
                "content": "",
                "include": false
              }
            },
            "section3": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": true
              }
            },
            "section4": {
              "option1": {
                "content": "",
                "include": true
              },
              "option5": {
                "content": "",
                "include": false
              },
              "option6": {
                "content": "",
                "include": false
              },
              "option7": {
                "content": "",
                "include": false
              },
              "option8": {
                "content": "",
                "include": false
              }
            },
            "section5": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": false
              },
              "option3": {
                "content": "",
                "include": false
              }
            },
            "section6": {
              "option1": {
                "content": "",
                "include": true
              },
              "option2": {
                "content": "",
                "include": false
              }
            }
          },
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "readme.component.READMEComponent": {
          "id": "component-READMEComponent",
          "name": "READMEComponent",
          "displayName": "READMEComponent",
          "type": "component",
          "path": "readme.component.READMEComponent",
          "urlPath": "",
          "componentId": "READMEComponent",
          "include": true
        },
        "theme": {
          "id": "theme",
          "name": "theme",
          "displayName": "Theme",
          "type": "file",
          "order": 2,
          "path": "theme",
          "urlPath": "/theme",
          "content": "# Theme configuration\n\nSelect and customize your theme! These styles will be applied to every component in your generated web app.\n\n<!-- component-ThemeConfiguration -->\n",
          "components": [
            {
              "id": "component-ThemeConfiguration",
              "name": "ThemeConfiguration",
              "displayName": "ThemeConfiguration",
              "type": "component",
              "path": "theme.component.ThemeConfiguration",
              "urlPath": "",
              "componentId": "ThemeConfiguration",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "theme.component.ThemeConfiguration": {
          "id": "component-ThemeConfiguration",
          "name": "ThemeConfiguration",
          "displayName": "ThemeConfiguration",
          "type": "component",
          "path": "theme.component.ThemeConfiguration",
          "urlPath": "",
          "componentId": "ThemeConfiguration",
          "include": true
        },
        "app-directory": {
          "id": "app-directory",
          "name": "app-directory",
          "displayName": "App Directory",
          "type": "file",
          "order": 3,
          "path": "app-directory",
          "urlPath": "/app-directory",
          "content": "# App Directory\n\n<!-- component-LayoutAndStructure -->\n",
          "components": [
            {
              "id": "component-LayoutAndStructure",
              "name": "LayoutAndStructure",
              "displayName": "LayoutAndStructure",
              "type": "component",
              "path": "app-directory.component.LayoutAndStructure",
              "urlPath": "",
              "componentId": "LayoutAndStructure",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "app-directory.component.LayoutAndStructure": {
          "id": "component-LayoutAndStructure",
          "name": "LayoutAndStructure",
          "displayName": "LayoutAndStructure",
          "type": "component",
          "path": "app-directory.component.LayoutAndStructure",
          "urlPath": "",
          "componentId": "LayoutAndStructure",
          "include": true
        },
        "database": {
          "id": "database",
          "name": "database",
          "displayName": "Database",
          "type": "file",
          "order": 4,
          "path": "database",
          "urlPath": "/database",
          "content": "# Database\n\n<!-- component-DatabaseConfiguration -->\n",
          "components": [
            {
              "id": "component-DatabaseConfiguration",
              "name": "DatabaseConfiguration",
              "displayName": "DatabaseConfiguration",
              "type": "component",
              "path": "database.component.DatabaseConfiguration",
              "urlPath": "",
              "componentId": "DatabaseConfiguration",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "database.component.DatabaseConfiguration": {
          "id": "component-DatabaseConfiguration",
          "name": "DatabaseConfiguration",
          "displayName": "DatabaseConfiguration",
          "type": "component",
          "path": "database.component.DatabaseConfiguration",
          "urlPath": "",
          "componentId": "DatabaseConfiguration",
          "include": true
        },
        "starter-kit": {
          "id": "starter-kit",
          "name": "starter-kit",
          "displayName": "Starter Kit",
          "type": "file",
          "order": 5,
          "path": "starter-kit",
          "urlPath": "/starter-kit",
          "content": "# Starter Kit\n\n<!-- component-NextStepsComponent -->",
          "components": [
            {
              "id": "component-NextStepsComponent",
              "name": "NextStepsComponent",
              "displayName": "NextStepsComponent",
              "type": "component",
              "path": "starter-kit.component.NextStepsComponent",
              "urlPath": "",
              "componentId": "NextStepsComponent",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "starter-kit.component.NextStepsComponent": {
          "id": "component-NextStepsComponent",
          "name": "NextStepsComponent",
          "displayName": "NextStepsComponent",
          "type": "component",
          "path": "starter-kit.component.NextStepsComponent",
          "urlPath": "",
          "componentId": "NextStepsComponent",
          "include": true
        },
        "extensions": {
          "id": "extensions",
          "name": "extensions",
          "displayName": "Extensions",
          "type": "file",
          "order": 6,
          "path": "extensions",
          "urlPath": "/extensions",
          "content": "# Extensions\n\n<!-- component-ExtensionsComponent -->\n",
          "components": [
            {
              "id": "component-ExtensionsComponent",
              "name": "ExtensionsComponent",
              "displayName": "ExtensionsComponent",
              "type": "component",
              "path": "extensions.component.ExtensionsComponent",
              "urlPath": "",
              "componentId": "ExtensionsComponent",
              "include": true
            }
          ],
          "sections": {},
          "include": true,
          "includeInSidebar": true,
          "isDynamicRobotsFile": false
        },
        "extensions.component.ExtensionsComponent": {
          "id": "component-ExtensionsComponent",
          "name": "ExtensionsComponent",
          "displayName": "ExtensionsComponent",
          "type": "component",
          "path": "extensions.component.ExtensionsComponent",
          "urlPath": "",
          "componentId": "ExtensionsComponent",
          "include": true
        },
        "10-util": {
          "id": "10-util",
          "name": "10-util",
          "displayName": " 10-util",
          "type": "file",
          "path": "10-util",
          "urlPath": "/10-util",
          "content": "# File examples\n\nThis guide provides code examples and patterns for organizing your application code following best practices.\n\n## Types file example\n\nType definitions establish contracts and ensure type safety throughout your application.\n\n<!-- section-1 -->\n\n## Stores file example\n\nZustand stores manage application state with persistence and middleware support.\n\n<!-- section-2 -->\n\n## Actions file example\n\nServer actions handle data mutations and communicate with your backend services.\n\n<!-- section-3 -->\n\n## Hooks file example\n\nReact Query hooks manage data fetching, caching, and synchronization.\n\n<!-- section-4 -->\n\n## Utility files\n\nUtility modules provide reusable helper functions and configurations.\n\n<!-- section-5 -->\n",
          "components": [],
          "sections": {
            "section1": {
              "option1": {
                "content": "**Types file example (Client-side):**\n\n```typescript\nexport interface AppState {\n  data: any[];\n  setData: (data: any[]) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n  reset: () => void;\n}\n\nexport interface ApiData {\n  id: string;\n  name: string;\n  value: number;\n}\n```",
                "include": true
              },
              "option2": {
                "content": "**Types file example (With Database):**\n\n```typescript\nimport { User } from \"@prisma/client\";\n\nexport interface AppState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  tempEmail?: string;\n  setTempEmail: (tempEmail: string) => void;\n  reset: () => void;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n```",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "### Store Example (With Database)\n\n```typescript\nimport { UserRole } from \"@prisma/client\";\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { AppState, ExtendedUser, RedirectState } from \"./layout.types\";\n\nconst initialState = {\n  user: null,\n};\n\nexport const useAppStore = create<AppState>()((set) => ({\n  ...initialState,\n  setUser: (user) => set({ user, profile: user?.profile || null }),\n  reset: () => set(initialState),\n}));\n```\n\n**Usage with React Query:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\nimport { useGetUser } from \"@/hooks/user.hooks\";\n\nexport const UserProfile = () => {\n  const setUser = useAppStore((state) => state.setUser);\n  const user = useAppStore((state) => state.user);\n\n  const { isLoading } = useGetUser({\n    onSuccess: (data) => setUser(data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n\n  return <div>Welcome, {user?.name}</div>;\n};\n```",
                "include": true
              },
              "option2": {
                "content": "### Store Example (Without Database)\n\n```typescript\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\ninterface AppState {\n  theme: \"light\" | \"dark\";\n  setTheme: (theme: \"light\" | \"dark\") => void;\n  sidebarOpen: boolean;\n  toggleSidebar: () => void;\n}\n\nexport const useAppStore = create<AppState>()(\n  persist(\n    (set) => ({\n      theme: \"light\",\n      setTheme: (theme) => set({ theme }),\n      sidebarOpen: true,\n      toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),\n    }),\n    {\n      name: \"app-storage\",\n    }\n  )\n);\n```\n\n**Usage:**\n```typescript\nimport { useAppStore } from \"@/stores/app.stores\";\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useAppStore();\n\n  return (\n    <button onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}>\n      Toggle Theme\n    </button>\n  );\n};\n```",
                "include": true
              }
            },
            "section3": {
              "option1": {
                "content": "**No actions file needed for client-side only applications.**\n\nUse API routes or external API calls directly in hooks with React Query.",
                "include": true
              },
              "option2": {
                "content": "**Actions file example (NeonDB + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                "include": true
              },
              "option3": {
                "content": "**Actions file example (Supabase + Better Auth):**\n\n```typescript\n\"use server\";\n\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\nimport { auth } from \"@/lib/auth\";\nimport { getAuthenticatedClient } from \"@/lib/auth.utils\";\nimport { User } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\n\nexport const getUserAction = async (): Promise<ActionResponse<User | null>> => {\n  try {\n    const session = await auth.api.getSession({\n      headers: await headers(),\n    });\n\n    if (!session?.user) return getActionResponse();\n\n    const { db } = await getAuthenticatedClient();\n\n    const prismaUser = await db.user.findUnique({\n      where: { id: session.user.id },\n    });\n\n    return getActionResponse({ data: prismaUser });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                "include": true
              },
              "option4": {
                "content": "**Actions file example (Supabase Auth Only):**\n\n```typescript\n\"use server\";\n\nimport { createClient } from \"@/lib/supabase/server\";\nimport { ActionResponse, getActionResponse } from \"@/lib/action.utils\";\n\nexport const getUserAction = async (): Promise<ActionResponse<any>> => {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return getActionResponse({ error: authError?.message || \"Not authenticated\" });\n    }\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', user.id)\n      .single();\n\n    if (error) throw error;\n\n    return getActionResponse({ data });\n  } catch (error) {\n    return getActionResponse({ error });\n  }\n};\n```",
                "include": true
              }
            },
            "section4": {
              "option1": {
                "content": "**Hooks file example (Client-side):**\n\n```typescript\n\"use client\";\n\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetData = () => {\n  const { setData } = useAppStore();\n\n  return useQuery({\n    queryKey: [\"data\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/data\");\n      if (!response.ok) throw new Error(\"Failed to fetch\");\n      const data = await response.json();\n      setData(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useCreateData = () => {\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (newData: any) => {\n      const response = await fetch(\"/api/data\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(newData),\n      });\n      if (!response.ok) throw new Error(\"Failed to create\");\n      return response.json();\n    },\n    onSuccess: () => {\n      router.refresh();\n    },\n  });\n};\n```",
                "include": true
              },
              "option2": {
                "content": "**Hooks file example (Better Auth):**\n\n```typescript\n\"use client\";\n\nimport { configuration, privatePaths } from \"@/configuration\";\nimport { signIn } from \"@/lib/auth-client\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { Toast } from \"../(components)/Toast\";\nimport { CypressDataAttributes } from \"../../types/cypress.types\";\nimport { useAppStore, useRedirectStore } from \"../layout.stores\";\nimport { SignInData } from \"../layout.types\";\nimport { getUserAction } from \"./layout.actions\";\nimport { useAuthLayoutStore } from \"./layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const { reset: resetAuthLayout } = useAuthLayoutStore();\n  const { setUserData } = useRedirectStore();\n  const pathname = usePathname();\n\n  const router = useRouter();\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const { data, error } = await getUserAction();\n      if (!data || error) {\n        if (privatePaths.includes(pathname)) {\n          router.push(configuration.paths.signIn);\n        }\n        reset();\n        resetAuthLayout();\n      }\n      if (error) throw error;\n      setUser(data ?? null);\n\n      setUserData(data);\n\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser, setTempEmail } = useAppStore();\n  const { setUserData } = useRedirectStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async (signInData: SignInData) => {\n      const { error } = await signIn.email({\n        email: signInData.email,\n        password: signInData.password,\n      });\n\n      if (error?.status === 403) setTempEmail(signInData.email);\n\n      if (error) throw error;\n      const { data: userData, error: userError } = await getUserAction();\n\n      if (userError) throw new Error(userError);\n\n      return userData;\n    },\n    onSuccess: (data) => {\n      if (data) {\n        setUser(data);\n        setUserData(data);\n      }\n      toast.custom(() => (\n        <Toast\n          variant=\"success\"\n          title=\"Success\"\n          message=\"Successfully signed in\"\n          data-cy={CypressDataAttributes.TOAST_SUCCESS}\n        />\n      ));\n      if (data && !data.profile?.isOnboardingComplete) {\n        router.push(configuration.paths.onboarding);\n        return;\n      }\n      router.push(configuration.paths.home);\n    },\n    onError: (\n      error: {\n        code?: string | undefined;\n        message?: string | undefined;\n        status: number;\n        statusText: string;\n      } | null\n    ) => {\n      if (error?.status === 403) return;\n      toast.custom(() => (\n        <Toast\n          variant=\"error\"\n          title=\"Sign In Failed\"\n          message={error?.message || \"Failed to sign in\"}\n          data-cy={CypressDataAttributes.TOAST_ERROR}\n        />\n      ));\n    },\n  });\n};\n```",
                "include": true
              },
              "option3": {
                "content": "**Hooks file example (Supabase Auth):**\n\n```typescript\n\"use client\";\n\nimport { createClient } from \"@/lib/supabase/client\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppStore } from \"../layout.stores\";\n\nexport const useGetUser = () => {\n  const { setUser, reset } = useAppStore();\n  const router = useRouter();\n\n  return useQuery({\n    queryKey: [\"user\"],\n    queryFn: async () => {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        reset();\n        return null;\n      }\n\n      const { data, error } = await supabase\n        .from('users')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n\n      if (error) throw error;\n\n      setUser(data);\n      return data;\n    },\n    staleTime: 1000 * 60 * 5,\n  });\n};\n\nexport const useSignIn = () => {\n  const { setUser } = useAppStore();\n  const router = useRouter();\n\n  return useMutation({\n    mutationFn: async ({ email, password }: { email: string; password: string }) => {\n      const supabase = createClient();\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n\n      if (error) throw error;\n\n      return data.user;\n    },\n    onSuccess: (user) => {\n      setUser(user);\n      router.push('/dashboard');\n    },\n  });\n};\n```",
                "include": true
              }
            },
            "section5": {
              "option1": {
                "content": "**No utility files needed for client-side only applications.**",
                "include": true
              },
              "option2": {
                "content": "**Utility files (Better Auth + Prisma):**\n\n## `prisma-rls.ts`:\n\n```typescript\nimport { Prisma } from \"@prisma/client\";\nimport { prisma } from \"./prisma\";\n\nfunction forUser(userId: string, tenantId?: string) {\n  return Prisma.defineExtension((prisma) =>\n    prisma.$extends({\n      query: {\n        $allModels: {\n          async $allOperations({ args, query }) {\n            if (tenantId) {\n              const [, , result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                prisma.$executeRaw`SELECT set_config('app.current_tenant_id', ${tenantId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            } else {\n              const [, result] = await prisma.$transaction([\n                prisma.$executeRaw`SELECT set_config('app.current_user_id', ${userId}, TRUE)`,\n                query(args),\n              ]);\n              return result;\n            }\n          },\n        },\n      },\n    })\n  );\n}\n\nexport function createRLSClient(userId: string, tenantId?: string) {\n  return prisma.$extends(forUser(userId, tenantId));\n}\n```\n\n## `auth.util.ts`\n\n```typescript\nimport { User } from \"better-auth\";\nimport jwt from \"jsonwebtoken\";\nimport { headers } from \"next/headers\";\nimport { auth, Session } from \"./auth\";\nimport { createRLSClient } from \"./prisma-rls\";\n\nexport async function getAuthenticatedClient(user?: User): Promise<{\n  db: ReturnType<typeof createRLSClient>;\n  session: Session | null;\n}> {\n  const headersList = await headers();\n\n  const session = await auth.api.getSession({\n    headers: headersList,\n  });\n\n  const userId = user?.id || session?.user.id;\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const db = createRLSClient(userId);\n\n  return { db, session };\n}\n\nexport function generateSupabaseJWT(userId: string, userRole: string): string {\n  const jwtSecret = process.env.SUPABASE_JWT_SECRET;\n\n  if (!jwtSecret) {\n    throw new Error(\"SUPABASE_JWT_SECRET is required for JWT generation\");\n  }\n\n  const payload = {\n    aud: \"authenticated\",\n    exp: Math.floor(Date.now() / 1000) + 60 * 60,\n    sub: userId,\n    email: `${userId}@better-auth.local`,\n    role: \"authenticated\",\n    user_metadata: {\n      better_auth_user_id: userId,\n      better_auth_role: userRole,\n    },\n    app_metadata: {\n      provider: \"better-auth\",\n      providers: [\"better-auth\"],\n    },\n  };\n\n  return jwt.sign(payload, jwtSecret, {\n    algorithm: \"HS256\",\n  });\n}\n```\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                "include": true
              },
              "option3": {
                "content": "**Utility files (Supabase):**\n\n## `log.util.ts`:\n\n```typescript\nexport enum LOG_LABELS {\n  GENERATE = \"generate\",\n  API = \"api\",\n  AUTH = \"auth\",\n  DB = \"db\",\n  FETCH = \"fetch\",\n  RATE_LIMIT = \"rate-limit\",\n  IMAGE = \"image\",\n  WIDGET = \"widget\",\n}\n\ninterface ConditionalLogOptions {\n  maxStringLength?: number;\n  label: LOG_LABELS | string;\n}\n\nexport function conditionalLog(\n  data: unknown,\n  options: ConditionalLogOptions\n): string | null {\n  const { maxStringLength = 200, label } = options;\n\n  const logLabels = process.env.NEXT_PUBLIC_LOG_LABELS;\n\n  if (!logLabels || logLabels === \"none\") {\n    return null;\n  }\n\n  if (logLabels !== \"all\") {\n    const allowedLabels = logLabels.split(\",\").map((l) => l.trim());\n    if (!allowedLabels.includes(label)) {\n      return null;\n    }\n  }\n\n  try {\n    const processedData = deepStringify(data, maxStringLength, new WeakSet());\n    const result = JSON.stringify(processedData);\n    return result.replace(/\\\\s+/g, \"\");\n  } catch (error) {\n    return JSON.stringify({ error: \"Failed to stringify data\", label });\n  }\n}\n\nfunction deepStringify(\n  value: unknown,\n  maxLength: number,\n  seen: WeakSet<object>\n): unknown {\n  if (value === null || value === undefined) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    return truncateString(value, maxLength);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\") {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: truncateString(value.message, maxLength),\n      stack: value.stack ? truncateString(value.stack, maxLength) : undefined,\n    };\n  }\n\n  if (typeof value === \"object\") {\n    if (seen.has(value)) {\n      return \"[Circular Reference]\";\n    }\n\n    seen.add(value);\n\n    if (Array.isArray(value)) {\n      const result = value.map((item) => deepStringify(item, maxLength, seen));\n      seen.delete(value);\n      return result;\n    }\n\n    const result: Record<string, unknown> = {};\n    for (const [key, val] of Object.entries(value)) {\n      result[key] = deepStringify(val, maxLength, seen);\n    }\n    seen.delete(value);\n    return result;\n  }\n\n  return String(value);\n}\n\nfunction truncateString(str: string, maxLength: number): string {\n  if (str.length <= maxLength) {\n    return str;\n  }\n\n  const startLength = Math.floor((maxLength - 3) / 2);\n  const endLength = maxLength - 3 - startLength;\n\n  return str.slice(0, startLength) + \"...\" + str.slice(-endLength);\n}\n```",
                "include": true
              }
            }
          },
          "include": true,
          "includeInSidebar": false,
          "isDynamicRobotsFile": false
        },
        "6-robots": {
          "id": "6-robots",
          "name": "6-robots",
          "displayName": " 6-ROBOTS",
          "type": "file",
          "path": "6-robots",
          "urlPath": "/6-robots",
          "content": "# ROBOTS.md\n\nThis file provides guidance to AI assistants when working with code in this repository.\n\n### Tech stack\n\n- **Next.js 15** with App Router architecture\n- **TypeScript** for type safety\n- **TailwindCSS & Shadcn** for styling\n\n<!-- section-1 -->\n\n# General rules:\n\n- Don't include any comments in any files.\n- All errors should be thrown - no \"fallback\" functionality\n- Import \"cn\" from \"@/lib/utils\" to concatenate classes.\n\n# File Organization and Naming Conventions\n\n- Types and store files alongside ancestor files\n- Actions and hooks files alongside descendent files\n\n\\`\\`\\`\n\n# Hook, action, store and type patterns\n\n<!-- section-2 -->\n\n# Console.logging\n\nAll logging should be performed using the \\`conditionalLog\\` function exported from \\`lib/log.utils.ts\\`\nThe \\`NEXT_PUBLIC_LOG_LABELS\\` variable in \\`.env.local\\` stores a comma separated string of log labels. Logs are returned if \\`NEXT_PUBLIC_LOG_LABELS=\"all\"\\`, or if \\`NEXT_PUBLIC_LOG_LABELS\\` includes the label arg in \\`conditionalLog\\`.\n\n\\`\\`\\`\n",
          "components": [],
          "sections": {
            "section1": {
              "option1": {
                "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for authentication and real-time features\n\n# Database Architecture\n\nUse Supabase as the primary database and authentication provider.",
                "include": true
              },
              "option2": {
                "content": "- **Postgres & Prisma** for database and ORM\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse NeonDB for serverless Postgres with Prisma ORM and Better-Auth for authentication.",
                "include": true
              },
              "option3": {
                "content": "- **Postgres & Prisma** for database and ORM\n- **Supabase** for real-time features\n- **NeonDB** for serverless Postgres\n- **Better-Auth** for authentication\n\n# Database Architecture\n\nUse both Supabase and NeonDB based on feature requirements. Use Better-Auth for authentication with NeonDB as the primary database.",
                "include": true
              },
              "option4": {
                "content": "# Database Architecture\n\nNo database required - this is a frontend-only application.",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "DB <-> Supabase Client <-> hook <-> store\n\n- Supabase client queries are called directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store (if applicable).\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `@/supabase/types`.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                "include": true
              },
              "option2": {
                "content": "DB <-> Action <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All db types should be defined from `\"@prisma/client\"`\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, action, store or type files. The file also contains the `prisma-rls.ts` and `action.util.ts` files for reference.",
                "include": true
              },
              "option3": {
                "content": "DB <-> Action/Supabase Client <-> hook <-> store\n\n- Better-auth client methods are called directly in react-query hooks.\n- Prisma client queries are called in actions via getAuthenticatedClient for NeonDB.\n- Supabase client queries are called directly in react-query hooks for real-time features.\n- Actions are called via react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- Database types should be defined from `\"@prisma/client\"` for NeonDB and `@/supabase/types` for Supabase.",
                "include": true
              },
              "option4": {
                "content": "Component <-> hook <-> store\n\n- No database interactions - frontend only.\n- API calls (if any) are made directly in react-query hooks.\n- Data returned in the onSuccess function of react-query hooks is used to update the corresponding zustand store.\n- Loading and error state is managed via the react-query hooks, NOT the zustand store.\n- All types should be defined in `.types.ts` files alongside components.\n\n## Example of file patterns - [`util.md`](util.md)\n\nFollow the examples outlined in [`util.md`](util.md) when working on hook, store or type files.",
                "include": true
              }
            }
          },
          "include": true,
          "includeInSidebar": false,
          "isDynamicRobotsFile": true,
          "visibleAfterPage": "readme"
        },
        "7-deployment": {
          "id": "7-deployment",
          "name": "7-deployment",
          "displayName": " 7-Deployment",
          "type": "file",
          "path": "7-deployment",
          "urlPath": "/7-deployment",
          "content": "# Deployment Instructions\n\nThis guide provides step-by-step instructions for deploying your application based on your selected technology stack.\n\n## Platform Setup\n\n<!-- section-1 -->\n\n## Database Deployment\n\n<!-- section-2 -->\n\n## Environment Variables\n\n<!-- section-3 -->\n\n## Authentication Setup\n\n<!-- section-4 -->\n\n## Post-Deployment Tasks\n\n<!-- section-5 -->\n",
          "components": [],
          "sections": {
            "section1": {
              "option1": {
                "content": "### Deploying to Vercel\n\n**Prerequisites:**\n- Vercel account\n- GitHub repository connected to Vercel\n\n**Steps:**\n\n1. Install Vercel CLI:\n```bash\nnpm install -g vercel\n```\n\n2. Login to Vercel:\n```bash\nvercel login\n```\n\n3. Deploy your application:\n```bash\nvercel\n```\n\n4. For production deployment:\n```bash\nvercel --prod\n```\n\n**Configuration:**\n- Vercel automatically detects Next.js projects\n- Environment variables should be set in the Vercel dashboard under Settings → Environment Variables\n- Build command: `npm run build`\n- Output directory: `.next`\n- Install command: `npm install`\n\n**Custom Domain:**\n1. Go to your project settings in Vercel dashboard\n2. Navigate to Domains\n3. Add your custom domain\n4. Update your DNS records as instructed\n\n**Continuous Deployment:**\n- Vercel automatically deploys on push to your main branch\n- Pull requests create preview deployments\n- Configure branch deployments in Settings → Git",
                "include": true
              },
              "option2": {
                "content": "### Deploying to Railway\n\n**Prerequisites:**\n- Railway account\n- GitHub repository\n\n**Steps:**\n\n1. Install Railway CLI:\n```bash\nnpm install -g @railway/cli\n```\n\n2. Login to Railway:\n```bash\nrailway login\n```\n\n3. Initialize your project:\n```bash\nrailway init\n```\n\n4. Link to your Railway project:\n```bash\nrailway link\n```\n\n5. Deploy your application:\n```bash\nrailway up\n```\n\n**Configuration:**\n\nCreate a `railway.json` file in your project root:\n```json\n{\n  \"$schema\": \"https://railway.app/railway.schema.json\",\n  \"build\": {\n    \"builder\": \"NIXPACKS\"\n  },\n  \"deploy\": {\n    \"startCommand\": \"npm start\",\n    \"restartPolicyType\": \"ON_FAILURE\",\n    \"restartPolicyMaxRetries\": 10\n  }\n}\n```\n\n**Environment Variables:**\n- Set in Railway dashboard under Variables tab\n- Or use CLI: `railway variables set KEY=value`\n\n**Health Checks:**\nRailway automatically monitors your application. Configure health check endpoint in your application:\n```typescript\napp.get('/health', (req, res) => {\n  res.status(200).json({ status: 'healthy' });\n});\n```\n\n**Custom Domain:**\n1. Go to Settings in Railway dashboard\n2. Navigate to Domains\n3. Add custom domain\n4. Update DNS records with provided values\n\n**Scaling:**\n- Railway supports horizontal and vertical scaling\n- Configure in Settings → Resources\n- Adjust memory and CPU allocation as needed",
                "include": true
              }
            },
            "section2": {
              "option1": {
                "content": "### No Database Deployment\n\nYour application is configured without a database backend. No additional database setup is required.\n\n**Static Content:**\n- All data is client-side only\n- Consider using environment variables for configuration\n- Perfect for static sites and applications without persistent data",
                "include": true
              },
              "option2": {
                "content": "### NeonDB Deployment\n\n**Prerequisites:**\n- NeonDB account (sign up at [neon.tech](https://neon.tech))\n\n**Steps:**\n\n1. Create a new project in NeonDB dashboard\n2. Copy your connection string from the dashboard\n3. Set environment variable in your deployment platform:\n   - `DATABASE_URL=your-neondb-connection-string`\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n3. Or use migrations:\n```bash\nnpx prisma migrate deploy\n```\n\n**Connection Pooling:**\nNeonDB provides built-in connection pooling. Use the pooled connection string for serverless environments.\n\n**Branching:**\nNeonDB supports database branching:\n- Create branches for preview deployments\n- Automatically create database branches per pull request\n- Configure in your CI/CD pipeline\n\n**Monitoring:**\n- Access database metrics in NeonDB dashboard\n- Set up alerts for connection limits\n- Monitor query performance",
                "include": true
              },
              "option3": {
                "content": "### Supabase Deployment\n\n**Prerequisites:**\n- Supabase account (sign up at [supabase.com](https://supabase.com))\n\n**Steps:**\n\n1. Create a new project in Supabase dashboard\n2. Note your project URL and anon key\n3. Set environment variables in your deployment platform:\n   - `VITE_SUPABASE_URL=your-project-url`\n   - `VITE_SUPABASE_ANON_KEY=your-anon-key`\n   - `DATABASE_URL=your-connection-string` (for Prisma)\n\n**Database Schema Setup:**\n\n1. Generate Prisma client:\n```bash\nnpx prisma generate\n```\n\n2. Push schema to database:\n```bash\nnpx prisma db push\n```\n\n**Row Level Security (RLS):**\nEnable RLS policies through Supabase dashboard:\n1. Navigate to Authentication → Policies\n2. Create policies for each table\n3. Test policies using the SQL editor\n\n**Storage Setup:**\nIf using Supabase Storage:\n1. Create storage buckets in dashboard\n2. Configure bucket policies\n3. Set CORS policies if needed\n\n**Realtime Setup:**\nEnable realtime for tables:\n1. Go to Database → Replication\n2. Enable replication for tables\n3. Configure realtime listeners in your application\n\n**Edge Functions (Optional):**\nDeploy edge functions for server-side logic:\n```bash\nsupabase functions deploy function-name\n```\n\n**Monitoring:**\n- Access logs in Supabase dashboard\n- Monitor API usage and database performance\n- Set up error tracking",
                "include": true
              }
            },
            "section3": {
              "option1": {
                "content": "### Core Environment Variables\n\nRequired for all deployments:\n\n```env\nNODE_ENV=production\nVITE_APP_URL=https://your-domain.com\n```",
                "include": true
              },
              "option2": {
                "content": "### Database Environment Variables\n\n**For NeonDB:**\n```env\nDATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/dbname\n```\n\n**For Supabase:**\n```env\nVITE_SUPABASE_URL=https://xxx.supabase.co\nVITE_SUPABASE_ANON_KEY=your-anon-key\nDATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres\n```",
                "include": true
              },
              "option3": {
                "content": "### Better Auth Environment Variables\n\n```env\nBETTER_AUTH_SECRET=your-secret-key-min-32-chars\nBETTER_AUTH_URL=https://your-domain.com\n```\n\nGenerate a secure secret:\n```bash\nopenssl rand -base64 32\n```",
                "include": true
              },
              "option4": {
                "content": "### Email Service (Resend)\n\n```env\nRESEND_API_KEY=re_xxxxxxxxxxxx\nVITE_FROM_EMAIL=noreply@yourdomain.com\n```\n\nGet your API key from [resend.com/api-keys](https://resend.com/api-keys)",
                "include": true
              },
              "option5": {
                "content": "### Stripe Payment Variables\n\n```env\nSTRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxx\nSTRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Get keys from Stripe Dashboard\n2. Set up webhook endpoint at `/api/webhooks/stripe`\n3. Configure webhook events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`",
                "include": true
              },
              "option6": {
                "content": "### PayPal Payment Variables\n\n```env\nPAYPAL_CLIENT_ID=xxxxxxxxxxxx\nPAYPAL_CLIENT_SECRET=xxxxxxxxxxxx\nPAYPAL_MODE=live\n```\n\n**Setup:**\n1. Create app in PayPal Developer Dashboard\n2. Get credentials from app settings\n3. Use `sandbox` mode for testing, `live` for production",
                "include": true
              },
              "option7": {
                "content": "### OpenRouter AI Variables\n\n```env\nOPENROUTER_API_KEY=sk-or-xxxxxxxxxxxx\n```\n\nGet your API key from [openrouter.ai/keys](https://openrouter.ai/keys)",
                "include": true
              },
              "option8": {
                "content": "### OAuth Provider Variables (Google)\n\n```env\nGOOGLE_CLIENT_ID=xxxxxxxxxxxx.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Create project in Google Cloud Console\n2. Enable Google+ API\n3. Create OAuth 2.0 credentials\n4. Add authorized redirect URI: `https://your-domain.com/api/auth/callback/google`",
                "include": true
              },
              "option9": {
                "content": "### OAuth Provider Variables (GitHub)\n\n```env\nGITHUB_CLIENT_ID=xxxxxxxxxxxx\nGITHUB_CLIENT_SECRET=xxxxxxxxxxxx\n```\n\n**Setup:**\n1. Go to GitHub Settings → Developer settings → OAuth Apps\n2. Create new OAuth App\n3. Set callback URL: `https://your-domain.com/api/auth/callback/github`",
                "include": true
              },
              "option10": {
                "content": "### OAuth Provider Variables (Apple)\n\n```env\nAPPLE_CLIENT_ID=com.yourapp.service\nAPPLE_TEAM_ID=xxxxxxxxxxxx\nAPPLE_KEY_ID=xxxxxxxxxxxx\nAPPLE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\"\n```\n\n**Setup:**\n1. Create Service ID in Apple Developer Account\n2. Configure Sign in with Apple\n3. Generate private key\n4. Set return URL: `https://your-domain.com/api/auth/callback/apple`",
                "include": true
              }
            },
            "section4": {
              "option1": {
                "content": "### Authentication Setup (Better Auth)\n\n**Database Schema:**\nBetter Auth creates necessary tables automatically on first run. Ensure your database is accessible.\n\n**Email Provider Setup:**\nConfigure Resend for email authentication:\n1. Verify your domain in Resend dashboard\n2. Add SPF and DKIM records to your DNS\n3. Test email delivery\n\n**Magic Link Setup:**\nMagic links are automatically configured if enabled. Ensure:\n- `BETTER_AUTH_URL` is set to your production domain\n- Email provider is configured correctly\n\n**Two-Factor Authentication:**\n2FA tables are created automatically. Users can enable in their account settings.\n\n**Session Management:**\n- Sessions are stored in database\n- Default expiration: 30 days\n- Refresh tokens enabled by default\n\n**Passkey Setup:**\nPasskeys require HTTPS:\n- Ensure your domain has valid SSL certificate\n- Passkeys stored securely in database\n- Works with biometric authentication",
                "include": true
              },
              "option2": {
                "content": "### Authentication Setup (Supabase Auth)\n\n**Email Templates:**\nCustomize email templates in Supabase dashboard:\n1. Navigate to Authentication → Email Templates\n2. Customize confirmation, magic link, and password reset emails\n3. Add your branding and domain\n\n**OAuth Providers:**\nConfigure in Supabase dashboard under Authentication → Providers:\n- Add client IDs and secrets\n- Set redirect URLs\n- Enable providers\n\n**Email Confirmation:**\nConfigure email confirmation settings:\n- Require email confirmation for new signups\n- Set confirmation token expiration\n- Configure redirect URLs\n\n**Password Requirements:**\nSet password policies:\n- Minimum length\n- Require special characters\n- Password history\n\n**Session Management:**\n- Sessions managed by Supabase\n- Configure JWT expiry\n- Set up refresh token rotation",
                "include": true
              },
              "option3": {
                "content": "### Organization Setup (Better Auth)\n\n**Super Admin Creation:**\nCreate your first super admin using the CLI:\n\n```bash\nnpm run create-super-admin\n```\n\nOr manually insert into database:\n```sql\nINSERT INTO users (email, role)\nVALUES ('admin@yourdomain.com', 'super_admin');\n```\n\n**Organization Creation:**\nSuper admins can create organizations through the admin panel or API.\n\n**Role Assignment:**\n- Super admins: Full system access\n- Org admins: Manage their organization and members\n- Org members: Read access to organization data\n\n**RLS Policies:**\nEnsure Row Level Security policies are enabled for organization tables:\n- Users can only see their organization data\n- Org admins can manage org members\n- Super admins have full access",
                "include": true
              }
            },
            "section5": {
              "option1": {
                "content": "### Stripe Webhook Configuration\n\n**Create Webhook Endpoint:**\n1. Go to Stripe Dashboard → Developers → Webhooks\n2. Add endpoint: `https://your-domain.com/api/webhooks/stripe`\n3. Select events to listen for:\n   - `checkout.session.completed`\n   - `customer.subscription.created`\n   - `customer.subscription.updated`\n   - `customer.subscription.deleted`\n   - `invoice.paid`\n   - `invoice.payment_failed`\n\n4. Copy the webhook signing secret\n5. Add to environment variables as `STRIPE_WEBHOOK_SECRET`\n\n**Test Webhook:**\n```bash\nstripe listen --forward-to localhost:3000/api/webhooks/stripe\n```\n\n**Webhook Handler:**\nVerify webhook signatures in your handler to ensure security.",
                "include": true
              },
              "option2": {
                "content": "### PayPal Webhook Configuration\n\n**Create Webhook:**\n1. Go to PayPal Developer Dashboard\n2. Select your app\n3. Add webhook URL: `https://your-domain.com/api/webhooks/paypal`\n4. Select events:\n   - `PAYMENT.CAPTURE.COMPLETED`\n   - `PAYMENT.CAPTURE.DENIED`\n   - `BILLING.SUBSCRIPTION.ACTIVATED`\n   - `BILLING.SUBSCRIPTION.CANCELLED`\n\n**Verify Webhooks:**\nPayPal provides webhook signature verification. Implement in your handler.",
                "include": true
              },
              "option3": {
                "content": "### Health Checks (Railway)\n\n**Configure Health Check Endpoint:**\nCreate endpoint at `/health` or `/api/health`:\n\n```typescript\nexport async function GET() {\n  return Response.json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    uptime: process.uptime()\n  });\n}\n```\n\n**Railway Configuration:**\nRailway automatically detects health checks. Configure in `railway.json`:\n\n```json\n{\n  \"deploy\": {\n    \"healthcheckPath\": \"/health\",\n    \"healthcheckTimeout\": 300\n  }\n}\n```",
                "include": true
              },
              "option4": {
                "content": "### Domain and SSL Setup (Vercel)\n\n**Add Custom Domain:**\n1. Go to project settings in Vercel\n2. Navigate to Domains tab\n3. Add your domain\n\n**DNS Configuration:**\nAdd these records to your DNS provider:\n- A record: `76.76.21.21`\n- AAAA record: `2606:4700:4700::1111`\n\nOr use CNAME:\n- CNAME: `cname.vercel-dns.com`\n\n**SSL Certificate:**\n- Vercel automatically provisions SSL certificates\n- Certificates auto-renew\n- HTTPS enforced by default\n\n**Redirect www to apex:**\nConfigure in Vercel dashboard or use redirect in `vercel.json`",
                "include": true
              },
              "option5": {
                "content": "### Domain and SSL Setup (Railway)\n\n**Add Custom Domain:**\n1. Go to your project settings\n2. Click on Domains\n3. Add custom domain\n\n**DNS Configuration:**\nPoint your domain to Railway:\n- CNAME record: `your-app.up.railway.app`\n- Or use A records provided by Railway\n\n**SSL Certificate:**\n- Railway automatically provisions Let's Encrypt certificates\n- Auto-renewal enabled\n- HTTPS enforced\n\n**Domain Verification:**\nMay require TXT record verification for some domains",
                "include": true
              },
              "option6": {
                "content": "### Email Deliverability (Resend)\n\n**Domain Verification:**\n1. Add domain in Resend dashboard\n2. Add DNS records:\n   - SPF: `v=spf1 include:resend.com ~all`\n   - DKIM: Provided by Resend\n   - DMARC: `v=DMARC1; p=none;`\n\n**Verification:**\n- Verify domain in Resend dashboard\n- Test email delivery\n- Monitor bounce rates\n\n**Best Practices:**\n- Use verified domain for production\n- Set up DMARC policy to `quarantine` or `reject` after testing\n- Monitor email reputation",
                "include": true
              },
              "option7": {
                "content": "### Monitoring and Logging\n\n**Application Monitoring:**\n- Set up error tracking (Sentry, LogRocket)\n- Monitor API response times\n- Track user analytics\n\n**Database Monitoring:**\n- Monitor connection pool usage\n- Set up slow query alerts\n- Track database size and growth\n\n**Platform Monitoring:**\n- Use platform-provided metrics\n- Set up uptime monitoring\n- Configure alerts for downtime\n\n**Log Aggregation:**\nConsider log aggregation service:\n- Logtail\n- Datadog\n- New Relic",
                "include": true
              },
              "option8": {
                "content": "### File Storage Setup (Supabase)\n\n**Create Storage Buckets:**\n1. Go to Supabase dashboard → Storage\n2. Create new bucket\n3. Configure bucket as public or private\n\n**Bucket Policies:**\nSet up access policies:\n```sql\nCREATE POLICY \"Public Access\"\nON storage.objects FOR SELECT\nUSING (bucket_id = 'public-bucket');\n\nCREATE POLICY \"Authenticated Upload\"\nON storage.objects FOR INSERT\nTO authenticated\nWITH CHECK (bucket_id = 'user-uploads');\n```\n\n**CORS Configuration:**\nConfigure CORS if accessing from different domain:\n1. Go to Storage → Configuration\n2. Add allowed origins\n3. Set allowed methods\n\n**CDN:**\nSupabase Storage includes CDN. Use transformation parameters for images:\n```\nhttps://xxx.supabase.co/storage/v1/object/public/bucket/image.jpg?width=500\n```",
                "include": true
              },
              "option9": {
                "content": "### Realtime Setup (Supabase)\n\n**Enable Replication:**\n1. Go to Database → Replication\n2. Enable for tables you want realtime updates\n3. Configure publication settings\n\n**Security:**\nSet up RLS policies for realtime:\n```sql\nALTER TABLE messages ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Users can see their messages\"\nON messages FOR SELECT\nUSING (auth.uid() = user_id);\n```\n\n**Client Configuration:**\nRealtime subscriptions are automatic with Supabase client. Ensure proper channel naming and filtering.\n\n**Monitoring:**\n- Monitor connection count\n- Check message delivery latency\n- Set up alerts for connection issues",
                "include": true
              },
              "option10": {
                "content": "### Post-Deployment Verification\n\n**Checklist:**\n- [ ] Application loads correctly at production URL\n- [ ] Database migrations applied successfully\n- [ ] All environment variables set correctly\n- [ ] Authentication flow works (sign up, login, logout)\n- [ ] Email delivery working\n- [ ] Payment processing functional (if applicable)\n- [ ] File uploads working (if applicable)\n- [ ] API endpoints responding correctly\n- [ ] SSL certificate valid and auto-renewing\n- [ ] Monitoring and logging configured\n- [ ] Error tracking set up\n- [ ] Backups configured\n- [ ] Domain DNS propagated\n\n**Load Testing:**\nTest your application under load:\n```bash\nnpm install -g artillery\nartillery quick --count 100 --num 10 https://your-domain.com\n```\n\n**Security Scan:**\n- Run security audit: `npm audit`\n- Check for exposed secrets\n- Verify CORS settings\n- Test rate limiting\n- Verify CSP headers",
                "include": true
              }
            }
          },
          "include": true,
          "includeInSidebar": false,
          "isDynamicRobotsFile": false
        },
        "code-files": {
          "id": "code-files",
          "name": "code-files",
          "displayName": "Code files",
          "type": "directory",
          "path": "code-files",
          "urlPath": "/code-files",
          "include": true,
          "includeInSidebar": true,
          "children": []
        }
      },
      "contentVersion": 1
    },
    "previewMode": false,
    "darkMode": false,
    "appStructureGenerated": true,
    "readmeGenerated": true,
    "databaseGenerated": true,
    "appStructure": [
      {
        "id": "app-root",
        "name": "app",
        "type": "directory",
        "children": [
          {
            "id": "layout-tsx",
            "name": "layout.tsx",
            "type": "file"
          },
          {
            "id": "layout-hooks",
            "name": "layout.hooks.tsx",
            "type": "file"
          },
          {
            "id": "layout-actions",
            "name": "layout.actions.ts",
            "type": "file"
          },
          {
            "id": "layout-stores",
            "name": "layout.stores.ts",
            "type": "file"
          },
          {
            "id": "layout-types",
            "name": "layout.types.ts",
            "type": "file"
          },
          {
            "id": "page-tsx",
            "name": "page.tsx",
            "type": "file"
          },
          {
            "id": "page-hooks",
            "name": "page.hooks.tsx",
            "type": "file"
          },
          {
            "id": "page-actions",
            "name": "page.actions.ts",
            "type": "file"
          },
          {
            "id": "page-stores",
            "name": "page.stores.ts",
            "type": "file"
          },
          {
            "id": "page-types",
            "name": "page.types.ts",
            "type": "file"
          },
          {
            "id": "sign-in-dir",
            "name": "sign-in",
            "type": "directory",
            "children": [
              {
                "id": "sign-in-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "sign-in-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "sign-in-actions",
                "name": "page.actions.ts",
                "type": "file"
              },
              {
                "id": "page-types-ts-1769505221434",
                "name": "page.types.ts",
                "type": "file"
              }
            ]
          },
          {
            "id": "welcome-dir",
            "name": "welcome",
            "type": "directory",
            "children": [
              {
                "id": "welcome-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "welcome-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "welcome-actions",
                "name": "page.actions.ts",
                "type": "file"
              },
              {
                "id": "page-types-ts-1769505221434",
                "name": "page.types.ts",
                "type": "file"
              }
            ]
          },
          {
            "id": "username-dir",
            "name": "[username]",
            "type": "directory",
            "children": [
              {
                "id": "username-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "username-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "username-actions",
                "name": "page.actions.ts",
                "type": "file"
              },
              {
                "id": "page-types-ts-1769505221435",
                "name": "page.types.ts",
                "type": "file"
              }
            ]
          },
          {
            "id": "editor-dir",
            "name": "editor",
            "type": "directory",
            "children": [
              {
                "id": "editor-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "editor-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "editor-actions",
                "name": "page.actions.ts",
                "type": "file"
              },
              {
                "id": "editor-stores",
                "name": "page.stores.ts",
                "type": "file"
              },
              {
                "id": "page-types-ts-1769505221435",
                "name": "page.types.ts",
                "type": "file"
              }
            ]
          },
          {
            "id": "admin-dir",
            "name": "admin",
            "type": "directory",
            "children": [
              {
                "id": "admin-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "admin-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "admin-actions",
                "name": "page.actions.ts",
                "type": "file"
              },
              {
                "id": "admin-stores",
                "name": "page.stores.ts",
                "type": "file"
              },
              {
                "id": "page-types-ts-1769505221435",
                "name": "page.types.ts",
                "type": "file"
              }
            ]
          },
          {
            "id": "settings-dir",
            "name": "settings",
            "type": "directory",
            "children": [
              {
                "id": "settings-page",
                "name": "page.tsx",
                "type": "file"
              },
              {
                "id": "settings-hooks",
                "name": "page.hooks.tsx",
                "type": "file"
              },
              {
                "id": "settings-actions",
                "name": "page.actions.ts",
                "type": "file"
              },
              {
                "id": "settings-stores",
                "name": "page.stores.ts",
                "type": "file"
              },
              {
                "id": "page-types-ts-1769505221435",
                "name": "page.types.ts",
                "type": "file"
              }
            ]
          }
        ]
      }
    ],
    "features": {
      "layout-tsx": [
        {
          "id": "0rm99xumz",
          "title": "Sign out user",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useSignOut",
            "actions": "signOutAction",
            "stores": "useAuthStore",
            "types": "SignOutResult"
          }
        },
        {
          "id": "tl8a5xrk4",
          "title": "Sign out user",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useSignOut",
            "actions": "signOutAction",
            "stores": "useAuthStore",
            "types": "SignOutResult"
          }
        },
        {
          "id": "4lk7jonkz",
          "title": "Get user profile menu",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useProfileMenu",
            "actions": "getProfileMenuAction",
            "stores": "useProfileStore",
            "types": "ProfileMenu"
          }
        },
        {
          "id": "h40sgwjye",
          "title": "Get user profile menu",
          "linkedFiles": {
            "hooks": "/app/layout.hooks.tsx",
            "actions": "/app/layout.actions.ts",
            "stores": "/app/layout.stores.ts",
            "types": "/app/layout.types.ts"
          },
          "functionNames": {
            "hooks": "useProfileMenu",
            "actions": "getProfileMenuAction",
            "stores": "useProfileStore",
            "types": "ProfileMenu"
          }
        }
      ],
      "page-tsx": [
        {
          "id": "302z4uspz",
          "title": "Search pages",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/page.actions.ts",
            "stores": "/app/page.stores.ts",
            "types": "/app/page.types.ts"
          },
          "functionNames": {
            "hooks": "useSearch",
            "actions": "searchPagesAction",
            "stores": "useSearchStore",
            "types": "SearchResult"
          }
        },
        {
          "id": "owlimx50c",
          "title": "Filter by category",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/page.actions.ts",
            "stores": "/app/page.stores.ts",
            "types": "/app/page.types.ts"
          },
          "functionNames": {
            "hooks": "useFilter",
            "actions": "filterPagesAction",
            "stores": "useFilterStore",
            "types": "FilterOptions"
          }
        },
        {
          "id": "cu8zfy4dj",
          "title": "Get random page",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/page.actions.ts",
            "stores": "/app/page.stores.ts",
            "types": "/app/page.types.ts"
          },
          "functionNames": {
            "hooks": "useRandomPage",
            "actions": "getRandomPageAction",
            "stores": "useRandomPageStore",
            "types": "RandomPageResult"
          }
        },
        {
          "id": "fyefsenoc",
          "title": "Get featured pages",
          "linkedFiles": {
            "hooks": "/app/page.hooks.tsx",
            "actions": "/app/page.actions.ts",
            "stores": "/app/page.stores.ts",
            "types": "/app/page.types.ts"
          },
          "functionNames": {
            "hooks": "useFeaturedPages",
            "actions": "getFeaturedPagesAction",
            "stores": "useFeaturedPagesStore",
            "types": "FeaturedPages"
          }
        }
      ],
      "sign-in-page": [
        {
          "id": "bnt98k8xx",
          "title": "Send magic link email",
          "linkedFiles": {
            "hooks": "/app/sign-in/page.hooks.tsx",
            "actions": "/app/sign-in/page.actions.ts",
            "types": "/app/sign-in/page.types.ts"
          },
          "functionNames": {
            "hooks": "useMagicLink",
            "actions": "sendMagicLinkAction",
            "types": "MagicLinkResult"
          }
        }
      ],
      "welcome-page": [
        {
          "id": "nuy1els7u",
          "title": "Create username",
          "linkedFiles": {
            "hooks": "/app/welcome/page.hooks.tsx",
            "actions": "/app/welcome/page.actions.ts",
            "types": "/app/welcome/page.types.ts"
          },
          "functionNames": {
            "hooks": "useCreateUsername",
            "actions": "createUsernameAction",
            "types": "UsernameResult"
          }
        },
        {
          "id": "a65kjzey0",
          "title": "Customize beep icon",
          "linkedFiles": {
            "hooks": "/app/welcome/page.hooks.tsx",
            "actions": "/app/welcome/page.actions.ts",
            "types": "/app/welcome/page.types.ts"
          },
          "functionNames": {
            "hooks": "useCustomizeBeepIcon",
            "actions": "customizeBeepIconAction",
            "types": "BeepIconConfig"
          }
        },
        {
          "id": "fxdrynza3",
          "title": "Customize buzz icon",
          "linkedFiles": {
            "hooks": "/app/welcome/page.hooks.tsx",
            "actions": "/app/welcome/page.actions.ts",
            "types": "/app/welcome/page.types.ts"
          },
          "functionNames": {
            "hooks": "useCustomizeBuzzIcon",
            "actions": "customizeBuzzIconAction",
            "types": "BuzzIconConfig"
          }
        }
      ],
      "username-page": [
        {
          "id": "by7hol465",
          "title": "Toggle sticker visibility",
          "linkedFiles": {
            "hooks": "/app/[username]/page.hooks.tsx",
            "actions": "/app/[username]/page.actions.ts",
            "types": "/app/[username]/page.types.ts"
          },
          "functionNames": {
            "hooks": "useToggleStickers",
            "actions": "toggleStickersAction",
            "types": "StickerVisibility"
          }
        },
        {
          "id": "1byabz1db",
          "title": "Add beep sticker",
          "linkedFiles": {
            "hooks": "/app/[username]/page.hooks.tsx",
            "actions": "/app/[username]/page.actions.ts",
            "types": "/app/[username]/page.types.ts"
          },
          "functionNames": {
            "hooks": "useAddBeepSticker",
            "actions": "addBeepStickerAction",
            "types": "BeepSticker"
          }
        },
        {
          "id": "fb64810uq",
          "title": "Add buzz sticker",
          "linkedFiles": {
            "hooks": "/app/[username]/page.hooks.tsx",
            "actions": "/app/[username]/page.actions.ts",
            "types": "/app/[username]/page.types.ts"
          },
          "functionNames": {
            "hooks": "useAddBuzzSticker",
            "actions": "addBuzzStickerAction",
            "types": "BuzzSticker"
          }
        },
        {
          "id": "2ce1hnbc6",
          "title": "Get sticker details",
          "linkedFiles": {
            "hooks": "/app/[username]/page.hooks.tsx",
            "actions": "/app/[username]/page.actions.ts",
            "types": "/app/[username]/page.types.ts"
          },
          "functionNames": {
            "hooks": "useStickerDetails",
            "actions": "getStickerDetailsAction",
            "types": "StickerDetails"
          }
        }
      ],
      "editor-page": [
        {
          "id": "g5ljgmcuq",
          "title": "Add text block",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "useAddTextBlock",
            "actions": "addTextBlockAction",
            "stores": "useEditorStore",
            "types": "TextBlockElement"
          }
        },
        {
          "id": "kjcxmemxd",
          "title": "Add shape",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "useAddShape",
            "actions": "addShapeAction",
            "stores": "useEditorStore",
            "types": "ShapeElement"
          }
        },
        {
          "id": "8eyjrlop1",
          "title": "Add divider",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "useAddDivider",
            "actions": "addDividerAction",
            "stores": "useEditorStore",
            "types": "DividerElement"
          }
        },
        {
          "id": "9e26iibea",
          "title": "Add YouTube embed",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "useAddYouTube",
            "actions": "addYouTubeAction",
            "stores": "useEditorStore",
            "types": "YouTubeElement"
          }
        },
        {
          "id": "vzw7oevav",
          "title": "Edit element",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "useEditElement",
            "actions": "editElementAction",
            "stores": "useEditorStore",
            "types": "ElementEdit"
          }
        },
        {
          "id": "k9nbtg0e8",
          "title": "Delete element",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "useDeleteElement",
            "actions": "deleteElementAction",
            "stores": "useEditorStore",
            "types": "DeleteResult"
          }
        },
        {
          "id": "296bmg5hd",
          "title": "Toggle preview mode",
          "linkedFiles": {
            "hooks": "/app/editor/page.hooks.tsx",
            "actions": "/app/editor/page.actions.ts",
            "stores": "/app/editor/page.stores.ts",
            "types": "/app/editor/page.types.ts"
          },
          "functionNames": {
            "hooks": "usePreviewMode",
            "actions": "togglePreviewModeAction",
            "stores": "usePreviewStore",
            "types": "PreviewMode"
          }
        }
      ],
      "admin-page": [
        {
          "id": "4u0kxx85t",
          "title": "Review flagged content",
          "linkedFiles": {
            "hooks": "/app/admin/page.hooks.tsx",
            "actions": "/app/admin/page.actions.ts",
            "stores": "/app/admin/page.stores.ts",
            "types": "/app/admin/page.types.ts"
          },
          "functionNames": {
            "hooks": "useReviewContent",
            "actions": "reviewContentAction",
            "stores": "useModeratorStore",
            "types": "FlaggedContent"
          }
        },
        {
          "id": "xduofp9x6",
          "title": "Approve sticker design",
          "linkedFiles": {
            "hooks": "/app/admin/page.hooks.tsx",
            "actions": "/app/admin/page.actions.ts",
            "stores": "/app/admin/page.stores.ts",
            "types": "/app/admin/page.types.ts"
          },
          "functionNames": {
            "hooks": "useApproveSticker",
            "actions": "approveStickerAction",
            "stores": "useModeratorStore",
            "types": "StickerApproval"
          }
        },
        {
          "id": "zsmh5nwnt",
          "title": "Remove content",
          "linkedFiles": {
            "hooks": "/app/admin/page.hooks.tsx",
            "actions": "/app/admin/page.actions.ts",
            "stores": "/app/admin/page.stores.ts",
            "types": "/app/admin/page.types.ts"
          },
          "functionNames": {
            "hooks": "useRemoveContent",
            "actions": "removeContentAction",
            "stores": "useModeratorStore",
            "types": "ContentRemoval"
          }
        },
        {
          "id": "rueaodpfg",
          "title": "Warn user",
          "linkedFiles": {
            "hooks": "/app/admin/page.hooks.tsx",
            "actions": "/app/admin/page.actions.ts",
            "stores": "/app/admin/page.stores.ts",
            "types": "/app/admin/page.types.ts"
          },
          "functionNames": {
            "hooks": "useWarnUser",
            "actions": "warnUserAction",
            "stores": "useModeratorStore",
            "types": "UserWarning"
          }
        },
        {
          "id": "3lsi0qds5",
          "title": "Ban user",
          "linkedFiles": {
            "hooks": "/app/admin/page.hooks.tsx",
            "actions": "/app/admin/page.actions.ts",
            "stores": "/app/admin/page.stores.ts",
            "types": "/app/admin/page.types.ts"
          },
          "functionNames": {
            "hooks": "useBanUser",
            "actions": "banUserAction",
            "stores": "useModeratorStore",
            "types": "UserBan"
          }
        },
        {
          "id": "jt90ydwmd",
          "title": "Get moderation log",
          "linkedFiles": {
            "hooks": "/app/admin/page.hooks.tsx",
            "actions": "/app/admin/page.actions.ts",
            "stores": "/app/admin/page.stores.ts",
            "types": "/app/admin/page.types.ts"
          },
          "functionNames": {
            "hooks": "useModerationLog",
            "actions": "getModerationLogAction",
            "stores": "useModerationLogStore",
            "types": "ModerationLog"
          }
        }
      ],
      "settings-page": [
        {
          "id": "yiagk29gs",
          "title": "Update beep icon",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.actions.ts",
            "stores": "/app/settings/page.stores.ts",
            "types": "/app/settings/page.types.ts"
          },
          "functionNames": {
            "hooks": "useUpdateBeepIcon",
            "actions": "updateBeepIconAction",
            "stores": "useSettingsStore",
            "types": "BeepIconUpdate"
          }
        },
        {
          "id": "b2svsc2h1",
          "title": "Update buzz icon",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.actions.ts",
            "stores": "/app/settings/page.stores.ts",
            "types": "/app/settings/page.types.ts"
          },
          "functionNames": {
            "hooks": "useUpdateBuzzIcon",
            "actions": "updateBuzzIconAction",
            "stores": "useSettingsStore",
            "types": "BuzzIconUpdate"
          }
        },
        {
          "id": "ootsuelnq",
          "title": "Get sticker activity",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.actions.ts",
            "stores": "/app/settings/page.stores.ts",
            "types": "/app/settings/page.types.ts"
          },
          "functionNames": {
            "hooks": "useStickerActivity",
            "actions": "getStickerActivityAction",
            "stores": "useStickerActivityStore",
            "types": "StickerActivity"
          }
        },
        {
          "id": "mfn1mxy3w",
          "title": "Remove placed sticker",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.actions.ts",
            "stores": "/app/settings/page.stores.ts",
            "types": "/app/settings/page.types.ts"
          },
          "functionNames": {
            "hooks": "useRemoveSticker",
            "actions": "removeStickerAction",
            "stores": "useSettingsStore",
            "types": "StickerRemoval"
          }
        },
        {
          "id": "1uuuf8x08",
          "title": "Get sticker analytics",
          "linkedFiles": {
            "hooks": "/app/settings/page.hooks.tsx",
            "actions": "/app/settings/page.actions.ts",
            "stores": "/app/settings/page.stores.ts",
            "types": "/app/settings/page.types.ts"
          },
          "functionNames": {
            "hooks": "useStickerAnalytics",
            "actions": "getStickerAnalyticsAction",
            "stores": "useSettingsStore",
            "types": "StickerAnalytics"
          }
        }
      ]
    },
    "initialConfiguration": {
      "technologies": {
        "nextjs": true,
        "typescript": true,
        "tailwindcss": true,
        "shadcn": true,
        "zustand": true,
        "reactQuery": true,
        "supabase": true,
        "postgresql": true,
        "vercel": true,
        "railway": false,
        "playwright": false,
        "cypress": false,
        "resend": false,
        "stripe": false,
        "paypal": false,
        "openrouter": false
      },
      "questions": {
        "databaseProvider": "supabase",
        "alwaysOnServer": false
      },
      "features": {
        "authentication": {
          "enabled": false,
          "emailPassword": false,
          "magicLink": false,
          "emailVerification": false,
          "forgotPassword": false
        },
        "admin": {
          "enabled": false,
          "admin": false,
          "superAdmin": false
        },
        "payments": {
          "enabled": false,
          "paypalPayments": false,
          "stripePayments": false,
          "stripeSubscriptions": false
        },
        "aiIntegration": {
          "enabled": false,
          "imageGeneration": false,
          "textGeneration": false
        },
        "realTimeNotifications": {
          "enabled": false,
          "emailNotifications": false,
          "inAppNotifications": false
        },
        "fileStorage": false
      },
      "database": {
        "hosting": "supabase"
      },
      "deployment": {
        "platform": "vercel"
      }
    }
  },
  "themeState": {
    "selectedTheme": 24,
    "colors": {
      "light": {
        "primary": "oklch(0.6489 0.237 26.9728)",
        "primaryForeground": "oklch(1 0 0)",
        "secondary": "oklch(0.968 0.211 109.7692)",
        "secondaryForeground": "oklch(0 0 0)",
        "accent": "oklch(0.5635 0.2408 260.8178)",
        "accentForeground": "oklch(1 0 0)",
        "background": "oklch(1 0 0)",
        "foreground": "oklch(0 0 0)",
        "card": "oklch(1 0 0)",
        "cardForeground": "oklch(0 0 0)",
        "popover": "oklch(1 0 0)",
        "popoverForeground": "oklch(0 0 0)",
        "muted": "oklch(0.9551 0 0)",
        "mutedForeground": "oklch(0.3211 0 0)",
        "destructive": "oklch(0 0 0)",
        "destructiveForeground": "oklch(1 0 0)",
        "border": "oklch(0 0 0)",
        "input": "oklch(0 0 0)",
        "ring": "oklch(0.6489 0.237 26.9728)",
        "chart1": "oklch(0.6489 0.237 26.9728)",
        "chart2": "oklch(0.968 0.211 109.7692)",
        "chart3": "oklch(0.5635 0.2408 260.8178)",
        "chart4": "oklch(0.7323 0.2492 142.4953)",
        "chart5": "oklch(0.5931 0.2726 328.3634)",
        "sidebarBackground": "oklch(0.9551 0 0)",
        "sidebarForeground": "oklch(0 0 0)",
        "sidebarPrimary": "oklch(0.6489 0.237 26.9728)",
        "sidebarPrimaryForeground": "oklch(1 0 0)",
        "sidebarAccent": "oklch(0.5635 0.2408 260.8178)",
        "sidebarAccentForeground": "oklch(1 0 0)",
        "sidebarBorder": "oklch(0 0 0)",
        "sidebarRing": "oklch(0.6489 0.237 26.9728)"
      },
      "dark": {
        "primary": "oklch(0.7044 0.1872 23.1858)",
        "primaryForeground": "oklch(0 0 0)",
        "secondary": "oklch(0.9691 0.2005 109.6228)",
        "secondaryForeground": "oklch(0 0 0)",
        "accent": "oklch(0.6755 0.1765 252.2592)",
        "accentForeground": "oklch(0 0 0)",
        "background": "oklch(0 0 0)",
        "foreground": "oklch(1 0 0)",
        "card": "oklch(0.3211 0 0)",
        "cardForeground": "oklch(1 0 0)",
        "popover": "oklch(0.3211 0 0)",
        "popoverForeground": "oklch(1 0 0)",
        "muted": "oklch(0.2178 0 0)",
        "mutedForeground": "oklch(0.8452 0 0)",
        "destructive": "oklch(1 0 0)",
        "destructiveForeground": "oklch(0 0 0)",
        "border": "oklch(1 0 0)",
        "input": "oklch(1 0 0)",
        "ring": "oklch(0.7044 0.1872 23.1858)",
        "chart1": "oklch(0.7044 0.1872 23.1858)",
        "chart2": "oklch(0.9691 0.2005 109.6228)",
        "chart3": "oklch(0.6755 0.1765 252.2592)",
        "chart4": "oklch(0.7395 0.2268 142.8504)",
        "chart5": "oklch(0.6131 0.2458 328.0714)",
        "sidebarBackground": "oklch(0 0 0)",
        "sidebarForeground": "oklch(1 0 0)",
        "sidebarPrimary": "oklch(0.7044 0.1872 23.1858)",
        "sidebarPrimaryForeground": "oklch(0 0 0)",
        "sidebarAccent": "oklch(0.6755 0.1765 252.2592)",
        "sidebarAccentForeground": "oklch(0 0 0)",
        "sidebarBorder": "oklch(1 0 0)",
        "sidebarRing": "oklch(0.7044 0.1872 23.1858)"
      }
    },
    "typography": {
      "light": {
        "fontSans": "var(--font-dm-sans)",
        "fontSerif": "ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif",
        "fontMono": "var(--font-space-mono)",
        "letterSpacing": 0
      },
      "dark": {
        "fontSans": "var(--font-dm-sans)",
        "fontSerif": "ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif",
        "fontMono": "var(--font-space-mono)",
        "letterSpacing": 0
      }
    },
    "other": {
      "light": {
        "hueShift": 0,
        "saturationMultiplier": 1,
        "lightnessMultiplier": 1,
        "radius": 0,
        "spacing": 0.25,
        "shadow": {
          "color": "oklch(0.0000 0.0000 0.0000)",
          "opacity": 1,
          "blurRadius": 0,
          "spread": 0,
          "offsetX": 4,
          "offsetY": 4
        }
      },
      "dark": {
        "hueShift": 0,
        "saturationMultiplier": 1,
        "lightnessMultiplier": 1,
        "radius": 0,
        "spacing": 0.25,
        "shadow": {
          "color": "oklch(0.0000 0.0000 0.0000)",
          "opacity": 1,
          "blurRadius": 0,
          "spread": 0,
          "offsetX": 4,
          "offsetY": 4
        }
      }
    }
  },
  "databaseState": {
    "tables": [
      {
        "id": "default-users",
        "name": "users",
        "schema": "auth",
        "isDefault": true,
        "isEditable": false,
        "uniqueConstraints": [],
        "checkConstraints": [],
        "questionId": "authentication",
        "columns": [
          {
            "id": "users-id",
            "name": "id",
            "type": "UUID",
            "isDefault": true,
            "isEditable": false,
            "isOptional": false,
            "isUnique": false,
            "isId": true,
            "isArray": false,
            "defaultValue": "gen_random_uuid()"
          },
          {
            "id": "users-email",
            "name": "email",
            "type": "TEXT",
            "isDefault": true,
            "isEditable": false,
            "isOptional": false,
            "isUnique": true,
            "isId": false,
            "isArray": false
          }
        ]
      },
      {
        "name": "profiles",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "n43rssbol",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "isUnique": true,
            "relation": {
              "table": "auth.users",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "jsitls62i",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "username",
            "type": "TEXT",
            "isUnique": true,
            "isOptional": false,
            "id": "f3m8q7dmg",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "role",
            "type": "user_role",
            "defaultValue": "'user'",
            "isOptional": false,
            "id": "dlm9mghnc",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "beep_settings",
            "type": "JSONB",
            "isOptional": true,
            "id": "m1cy7ikxt",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "buzz_settings",
            "type": "JSONB",
            "isOptional": true,
            "id": "k6fulfxcb",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "5ksl0cx39",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "e8lc05lnr",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "mkifjwa2e",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "pages",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "of56yh2et",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "relation": {
              "table": "profiles",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "rjgjo5rq4",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "nl6oiqx5l",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "title",
            "type": "TEXT",
            "isOptional": false,
            "id": "igd7e5xgm",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "visibility",
            "type": "page_visibility",
            "defaultValue": "'public'",
            "id": "md0niceyi",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "iekg2ohd8",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "yo6zfuz92",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "qkfqlqdba",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "page_elements",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "9hw8bxwgq",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "page_id",
            "type": "UUID",
            "relation": {
              "table": "pages",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "89ny4j99t",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "relation": {
              "table": "profiles",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "jmcpi4uwk",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "hcz5g1sp4",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "element_type",
            "type": "element_type",
            "isOptional": false,
            "id": "wk11ycsei",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content",
            "type": "JSONB",
            "isOptional": false,
            "id": "wsagjsjd4",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "position_x",
            "type": "INTEGER",
            "isOptional": false,
            "id": "yksz41ug1",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "position_y",
            "type": "INTEGER",
            "isOptional": false,
            "id": "i3bau9j0p",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "width",
            "type": "INTEGER",
            "isOptional": true,
            "id": "t319299ks",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "height",
            "type": "INTEGER",
            "isOptional": true,
            "id": "a4sal6sak",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "dmh4skp2e",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "7ikdcxkyx",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "bdr2e2ujh",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "stickers",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "e2guenm8t",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "page_id",
            "type": "UUID",
            "relation": {
              "table": "pages",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "8zdhxvmbi",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "relation": {
              "table": "profiles",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "fejdicvqt",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "xs7dgspsa",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "sticker_type",
            "type": "sticker_type",
            "isOptional": false,
            "id": "mxl5csapx",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "position_x",
            "type": "INTEGER",
            "isOptional": false,
            "id": "d6sywbayi",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "position_y",
            "type": "INTEGER",
            "isOptional": false,
            "id": "laietvu5l",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "eplkveeqr",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "28kqxv5og",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "content_flags",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "2tdv7tknv",
            "isDefault": false,
            "isEditable": true
          },
          {
            "id": "387pmi24g",
            "name": "user_id",
            "type": "UUID",
            "isId": false,
            "isDefault": false,
            "isEditable": true,
            "isOptional": false,
            "isUnique": false,
            "isArray": false,
            "relation": {
              "table": "auth.users",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            }
          },
          {
            "name": "content_type",
            "type": "content_type",
            "isOptional": false,
            "id": "d0xkunq8w",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_id",
            "type": "UUID",
            "isOptional": false,
            "id": "9ji3omw7v",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "reporter_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "wih3rnaty",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "reason",
            "type": "flag_reason",
            "isOptional": false,
            "id": "0bum1wogz",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "details",
            "type": "TEXT",
            "isOptional": true,
            "id": "ur8el9bxx",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "status",
            "type": "flag_status",
            "defaultValue": "'pending'",
            "id": "ok7uyt90e",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "dhb40zgwk",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "resolved_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "1t41kz4pv",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "ti4sze2b5",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "moderation_logs",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "ruzzynifr",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "admin_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "cd8prad3e",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_type",
            "type": "content_type",
            "isOptional": false,
            "id": "bb2go3c37",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "content_id",
            "type": "UUID",
            "isOptional": false,
            "id": "60pgblnwp",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "action",
            "type": "mod_action",
            "isOptional": false,
            "id": "3b6r8gd9b",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "reason",
            "type": "TEXT",
            "isOptional": true,
            "id": "765v7wrln",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "6rjc2i9k8",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "v0kmezf7x",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "sticker_designs",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "b67lc0lcx",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "relation": {
              "table": "profiles",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "iibz7hili",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "8tyaa3oi7",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "sticker_type",
            "type": "sticker_type",
            "isOptional": false,
            "id": "ogt4q24j9",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "design_data",
            "type": "JSONB",
            "isOptional": false,
            "id": "ykmddeu7n",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "status",
            "type": "approval_status",
            "defaultValue": "'pending'",
            "id": "8xgiv0mt4",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "em2ee1nu1",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "updated_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "isOptional": true,
            "id": "71ta47sre",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "tuhg826tv",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "categories",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "9mgu1mnpc",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "name",
            "type": "TEXT",
            "isUnique": true,
            "isOptional": false,
            "id": "8wbxaghsa",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "description",
            "type": "TEXT",
            "isOptional": true,
            "id": "z3gxqyubu",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "iulrjbdto",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "x9lhs66u0",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      },
      {
        "name": "page_categories",
        "schema": "public",
        "columns": [
          {
            "name": "id",
            "type": "UUID",
            "isId": true,
            "defaultValue": "gen_random_uuid()",
            "id": "i7nm8nyje",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "page_id",
            "type": "UUID",
            "relation": {
              "table": "pages",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "qffo72jst",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "category_id",
            "type": "UUID",
            "relation": {
              "table": "categories",
              "field": "id",
              "onDelete": "Cascade",
              "relationType": "many-to-one"
            },
            "id": "h6hdrbxx3",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "profile_id",
            "type": "UUID",
            "relation": {
              "table": "profiles",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "ilswgs39j",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "user_id",
            "type": "UUID",
            "relation": {
              "table": "auth.users",
              "field": "id",
              "relationType": "many-to-one"
            },
            "id": "hx8wc08wu",
            "isDefault": false,
            "isEditable": true
          },
          {
            "name": "created_at",
            "type": "TIMESTAMP WITH TIME ZONE",
            "defaultValue": "NOW()",
            "id": "zplq18wdu",
            "isDefault": false,
            "isEditable": true
          }
        ],
        "id": "15duue2r0",
        "isDefault": false,
        "isEditable": true,
        "uniqueConstraints": [],
        "checkConstraints": []
      }
    ],
    "enums": [
      {
        "name": "page_visibility",
        "values": [
          {
            "value": "public",
            "id": "jlo6kxhcc"
          },
          {
            "value": "private",
            "id": "iv28nyb8j"
          }
        ],
        "id": "p72c7yx9i",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "element_type",
        "values": [
          {
            "value": "text",
            "id": "f5cucqwlh"
          },
          {
            "value": "shape",
            "id": "hej0v1zrs"
          },
          {
            "value": "divider",
            "id": "2gub7vk8i"
          },
          {
            "value": "youtube",
            "id": "c2scdbdgt"
          }
        ],
        "id": "ds7b7tfh7",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "sticker_type",
        "values": [
          {
            "value": "beep",
            "id": "grutu6r6m"
          },
          {
            "value": "buzz",
            "id": "3m77prdlb"
          }
        ],
        "id": "5whw1hvo8",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "content_type",
        "values": [
          {
            "value": "page",
            "id": "e1ql13179"
          },
          {
            "value": "sticker",
            "id": "bs4oace42"
          },
          {
            "value": "element",
            "id": "2q9r2qcp6"
          }
        ],
        "id": "hx2d6lky3",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "flag_reason",
        "values": [
          {
            "value": "inappropriate",
            "id": "o5n9lao16"
          },
          {
            "value": "spam",
            "id": "p1go3raxk"
          },
          {
            "value": "offensive",
            "id": "zpwia6hvi"
          },
          {
            "value": "other",
            "id": "85ssouyvp"
          }
        ],
        "id": "4tt3fxg4b",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "flag_status",
        "values": [
          {
            "value": "pending",
            "id": "32y5omjds"
          },
          {
            "value": "reviewed",
            "id": "5gsgl2uqs"
          },
          {
            "value": "dismissed",
            "id": "ln556m5wx"
          }
        ],
        "id": "ifclwlx6j",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "mod_action",
        "values": [
          {
            "value": "approve",
            "id": "yca6ejngq"
          },
          {
            "value": "remove",
            "id": "kpbupjziw"
          },
          {
            "value": "warn",
            "id": "692o2c4iu"
          },
          {
            "value": "ban",
            "id": "obi3tmnhl"
          }
        ],
        "id": "44ace0nw2",
        "isDefault": false,
        "isEditable": true
      },
      {
        "name": "approval_status",
        "values": [
          {
            "value": "pending",
            "id": "5uew4qnt8"
          },
          {
            "value": "approved",
            "id": "ib900s773"
          },
          {
            "value": "rejected",
            "id": "imkj4tjbq"
          }
        ],
        "id": "pfk0p30ca",
        "isDefault": false,
        "isEditable": true
      }
    ],
    "rlsPolicies": [
      {
        "id": "fuog49p06",
        "tableId": "mkifjwa2e",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "lke98njbi",
        "tableId": "mkifjwa2e",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "l6ach1w5c",
        "tableId": "mkifjwa2e",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "a59baabn4",
        "tableId": "mkifjwa2e",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "4493nrg40",
        "tableId": "qkfqlqdba",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "p20r33rcr",
        "tableId": "qkfqlqdba",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "cwralnywi",
        "tableId": "qkfqlqdba",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "zawmm9laj",
        "tableId": "qkfqlqdba",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "bicyq1wcs",
        "tableId": "bdr2e2ujh",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "udxzy4n1m",
        "tableId": "bdr2e2ujh",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "qqhq4ncjq",
        "tableId": "bdr2e2ujh",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "e9y7rakd8",
        "tableId": "bdr2e2ujh",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "siw1omvtp",
        "tableId": "28kqxv5og",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "x43fb43rt",
        "tableId": "28kqxv5og",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "dp5heaxeq",
        "tableId": "28kqxv5og",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "i5v5iflgs",
        "tableId": "28kqxv5og",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "ehdw2enk5",
        "tableId": "ti4sze2b5",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "7v3mvwuos",
        "tableId": "ti4sze2b5",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "jw1osk340",
        "tableId": "ti4sze2b5",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "1p5k29i15",
        "tableId": "ti4sze2b5",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "w1z4tfj2h",
        "tableId": "v0kmezf7x",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "rbb255v31",
        "tableId": "v0kmezf7x",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "tt9oucnar",
        "tableId": "v0kmezf7x",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "vy78pq59x",
        "tableId": "v0kmezf7x",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "8p88a7vrz",
        "tableId": "tuhg826tv",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "7l7ua00kn",
        "tableId": "tuhg826tv",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "v7xa810aj",
        "tableId": "tuhg826tv",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "4hvuq4kb4",
        "tableId": "tuhg826tv",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "0d9ttm9as",
        "tableId": "x9lhs66u0",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "faihv0e65",
        "tableId": "x9lhs66u0",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "i6alc8ut8",
        "tableId": "x9lhs66u0",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "9zege3gr7",
        "tableId": "x9lhs66u0",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "none"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "idtk8xikl",
        "tableId": "15duue2r0",
        "operation": "SELECT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "public"
          },
          {
            "role": "authenticated",
            "accessType": "public"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "0h4ktv342",
        "tableId": "15duue2r0",
        "operation": "INSERT",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "9w6rvn3tf",
        "tableId": "15duue2r0",
        "operation": "UPDATE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      },
      {
        "id": "814glxpye",
        "tableId": "15duue2r0",
        "operation": "DELETE",
        "rolePolicies": [
          {
            "role": "anon",
            "accessType": "none"
          },
          {
            "role": "authenticated",
            "accessType": "own"
          },
          {
            "role": "admin",
            "accessType": "global"
          }
        ]
      }
    ],
    "plugins": []
  },
  "appStructureState": {
    "inferredFeatures": {
      "layout-nb0tvqaz9": [
        {
          "id": "0rm99xumz",
          "pageId": "layout-nb0tvqaz9",
          "title": "Sign out user",
          "description": "Clear user session and redirect to home page"
        },
        {
          "id": "4lk7jonkz",
          "pageId": "layout-nb0tvqaz9",
          "title": "Get user profile menu",
          "description": "Display authenticated user avatar and profile menu options"
        }
      ],
      "layout-pb4b7plwp": [
        {
          "id": "tl8a5xrk4",
          "pageId": "layout-pb4b7plwp",
          "title": "Sign out user",
          "description": "Clear user session and redirect to home page"
        },
        {
          "id": "h40sgwjye",
          "pageId": "layout-pb4b7plwp",
          "title": "Get user profile menu",
          "description": "Display authenticated user avatar and profile menu options"
        }
      ],
      "rl8b8v24d": [
        {
          "id": "302z4uspz",
          "pageId": "rl8b8v24d",
          "title": "Search pages",
          "description": "Search for pages by title or username"
        },
        {
          "id": "owlimx50c",
          "pageId": "rl8b8v24d",
          "title": "Filter pages by category",
          "description": "Filter displayed pages based on selected category"
        },
        {
          "id": "cu8zfy4dj",
          "pageId": "rl8b8v24d",
          "title": "Get random page",
          "description": "Navigate to a randomly selected user page"
        },
        {
          "id": "fyefsenoc",
          "pageId": "rl8b8v24d",
          "title": "Get featured pages",
          "description": "Retrieve popular, recent, and new pages for display"
        }
      ],
      "2yjux32oc": [
        {
          "id": "bnt98k8xx",
          "pageId": "2yjux32oc",
          "title": "Send magic link email",
          "description": "Send authentication magic link to user's email address"
        }
      ],
      "dg8xt3z7q": [
        {
          "id": "nuy1els7u",
          "pageId": "dg8xt3z7q",
          "title": "Create username",
          "description": "Set unique username with AI validation"
        },
        {
          "id": "a65kjzey0",
          "pageId": "dg8xt3z7q",
          "title": "Customize beep icon",
          "description": "Select and customize personal beep icon settings"
        },
        {
          "id": "fxdrynza3",
          "pageId": "dg8xt3z7q",
          "title": "Customize buzz icon",
          "description": "Select and customize personal buzz icon settings"
        }
      ],
      "gck8gvfgb": [
        {
          "id": "by7hol465",
          "pageId": "gck8gvfgb",
          "title": "Toggle sticker visibility",
          "description": "Show/hide stickers on the page"
        },
        {
          "id": "1byabz1db",
          "pageId": "gck8gvfgb",
          "title": "Add beep sticker",
          "description": "Place a beep sticker on the page"
        },
        {
          "id": "fb64810uq",
          "pageId": "gck8gvfgb",
          "title": "Add buzz sticker",
          "description": "Place a buzz sticker on the page"
        },
        {
          "id": "2ce1hnbc6",
          "pageId": "gck8gvfgb",
          "title": "Get sticker details",
          "description": "View who placed a specific sticker and navigate to their page"
        }
      ],
      "b2c0ac6t3": [
        {
          "id": "g5ljgmcuq",
          "pageId": "b2c0ac6t3",
          "title": "Add text block",
          "description": "Insert new text element on the page"
        },
        {
          "id": "kjcxmemxd",
          "pageId": "b2c0ac6t3",
          "title": "Add shape",
          "description": "Insert new shape element on the page"
        },
        {
          "id": "8eyjrlop1",
          "pageId": "b2c0ac6t3",
          "title": "Add divider",
          "description": "Insert new divider element on the page"
        },
        {
          "id": "9e26iibea",
          "pageId": "b2c0ac6t3",
          "title": "Add YouTube embed",
          "description": "Insert new YouTube video embed on the page"
        },
        {
          "id": "vzw7oevav",
          "pageId": "b2c0ac6t3",
          "title": "Edit element",
          "description": "Modify properties of selected page element"
        },
        {
          "id": "k9nbtg0e8",
          "pageId": "b2c0ac6t3",
          "title": "Delete element",
          "description": "Remove selected element from the page"
        },
        {
          "id": "296bmg5hd",
          "pageId": "b2c0ac6t3",
          "title": "Toggle preview mode",
          "description": "Switch between desktop, tablet, and mobile previews"
        }
      ],
      "jp4qijm6a": [
        {
          "id": "4u0kxx85t",
          "pageId": "jp4qijm6a",
          "title": "Review flagged content",
          "description": "View and assess reported content items"
        },
        {
          "id": "xduofp9x6",
          "pageId": "jp4qijm6a",
          "title": "Approve sticker design",
          "description": "Review and approve new sticker designs"
        },
        {
          "id": "zsmh5nwnt",
          "pageId": "jp4qijm6a",
          "title": "Remove content",
          "description": "Permanently delete flagged content"
        },
        {
          "id": "rueaodpfg",
          "pageId": "jp4qijm6a",
          "title": "Warn user",
          "description": "Send warning notification to user"
        },
        {
          "id": "3lsi0qds5",
          "pageId": "jp4qijm6a",
          "title": "Ban user",
          "description": "Disable user account access"
        },
        {
          "id": "jt90ydwmd",
          "pageId": "jp4qijm6a",
          "title": "Get moderation log",
          "description": "View audit trail of moderation actions"
        }
      ],
      "x2bw4j7vj": [
        {
          "id": "yiagk29gs",
          "pageId": "x2bw4j7vj",
          "title": "Update beep icon",
          "description": "Modify personal beep icon settings"
        },
        {
          "id": "b2svsc2h1",
          "pageId": "x2bw4j7vj",
          "title": "Update buzz icon",
          "description": "Modify personal buzz icon settings"
        },
        {
          "id": "ootsuelnq",
          "pageId": "x2bw4j7vj",
          "title": "Get sticker activity",
          "description": "View pages with placed stickers"
        },
        {
          "id": "mfn1mxy3w",
          "pageId": "x2bw4j7vj",
          "title": "Remove placed sticker",
          "description": "Delete previously placed sticker from a page"
        },
        {
          "id": "1uuuf8x08",
          "pageId": "x2bw4j7vj",
          "title": "Get sticker analytics",
          "description": "View statistics about received stickers."
        }
      ]
    },
    "parsedPages": [
      {
        "id": "layout-nb0tvqaz9",
        "name": "Main Layout Features",
        "route": "",
        "description": "Primary layout with header containing Beep.Buzz logo and authenticaion avatar button/menu, with a profile link button and a sign out button. Includes a minimal footer with essential links."
      },
      {
        "id": "layout-pb4b7plwp",
        "name": "Admin Layout Features",
        "route": "",
        "description": "Admin-specific layout with header containing the beep.buzz logo (link to home) and the same authentication avatar button/menu as the Main layout. Includes sidebar with content flagging queue, user management, and sticker approval tools."
      },
      {
        "id": "rl8b8v24d",
        "name": "Home",
        "route": "/",
        "description": "The main discovery and navigation hub. Users can search for pages by title or username, browse featured sections (Popular Pages, Recently Active, New Pages), filter by categories, or discover random pages. Each page card displays title, username, preview, sticker counts, and category. Includes a prominent 'Create Your Page' call-to-action."
      },
      {
        "id": "2yjux32oc",
        "name": "Sign In",
        "route": "/sign-in",
        "description": "Authentication page where users enter their email address to receive a magic link for passwordless sign-in. Features playful beep.buzz branding and animated stickers."
      },
      {
        "id": "dg8xt3z7q",
        "name": "Welcome Setup",
        "route": "/welcome",
        "description": "First-time user profile setup after email magic link authentication. Choose unique username (3-20 URL-friendly characters, AI-scanned). Select and customize personal beep and buzz icons, choosing icons, colors, and shapes. Immediate access to explore and place stickers after setup."
      },
      {
        "id": "gck8gvfgb",
        "name": "User Page",
        "route": "/[username]",
        "description": "Each user's personal subdomain page. Shows static header with page title, username, creator's stickers, and counts. Sticky header with sticker visibility toggle and \"Add Beep/Buzz\" buttons. Main content area with creator's elements and visitor stickers layered on top. Clicking stickers reveals who placed them and navigates to their page."
      },
      {
        "id": "b2c0ac6t3",
        "name": "Page Editor",
        "route": "/editor",
        "description": "Builder interface for creating and customizing personal pages. Users add text blocks, shapes, dividers, and YouTube embeds. Elements can be dragged, resized, aligned, edited, and deleted. Includes responsive preview toggles for desktop, tablet, and mobile."
      },
      {
        "id": "jp4qijm6a",
        "name": "Content Moderation",
        "route": "/admin",
        "description": "Admin dashboard for reviewing flagged content, managing user reports, and approving new sticker designs. Includes AI analysis results and content moderation tools. Actions include approve (unhide/dismiss reports), remove permanently, warn users, and ban users. Audit log tracks all moderation actions."
      },
      {
        "id": "x2bw4j7vj",
        "name": "Settings",
        "route": "/settings",
        "description": "Manage personal sticker identity and account. Change beep and buzz icons from available libraries, customize colors and background shapes. Changes update retroactively everywhere. Activity overview shows all pages with placed stickers, with navigation and removal options. Analytics show total stickers received with breakdowns."
      }
    ],
    "featuresGenerated": true
  },
  "readmeState": {
    "title": "Beep.Buzz",
    "description": "beep.buzz is a simple and playful social media platform where users create personalized pages at their own subdomain (username.beep.buzz). Each page is a customizable, vertically-scrolling canvas containing text, shapes, patterns, digital illustrations, and embedded YouTube videos. Users viewing the pages interact by placing decorative \"beep\" and \"buzz\" stickers on each other's pages, with each sticker serving as a clickable link to that visitor's page. Each user can design their own beep and buzz stickers, which are retroactively updated across the app. AI analysis at publish time ensures that pages and sticker content is safe. Content can be flagged as inappropriate, which is then reviewed by an admin",
    "pages": [
      {
        "id": "rl8b8v24d",
        "name": "Home",
        "route": "/",
        "description": "The main discovery and navigation hub. Users can search for pages by title or username, browse featured sections (Popular Pages, Recently Active, New Pages), filter by categories, or discover random pages. Each page card displays title, username, preview, sticker counts, and category. Includes a prominent 'Create Your Page' call-to-action.",
        "layoutIds": [
          "nb0tvqaz9"
        ]
      },
      {
        "id": "2yjux32oc",
        "name": "Sign In",
        "route": "/sign-in",
        "description": "Authentication page where users enter their email address to receive a magic link for passwordless sign-in. Features playful beep.buzz branding and animated stickers.",
        "layoutIds": [
          "nb0tvqaz9"
        ]
      },
      {
        "id": "dg8xt3z7q",
        "name": "Welcome Setup",
        "route": "/welcome",
        "description": "First-time user profile setup after email magic link authentication. Choose unique username (3-20 URL-friendly characters, AI-scanned). Select and customize personal beep and buzz icons, choosing icons, colors, and shapes. Immediate access to explore and place stickers after setup.",
        "layoutIds": [
          "nb0tvqaz9"
        ]
      },
      {
        "id": "gck8gvfgb",
        "name": "User Page",
        "route": "/[username]",
        "description": "Each user's personal subdomain page. Shows static header with page title, username, creator's stickers, and counts. Sticky header with sticker visibility toggle and \"Add Beep/Buzz\" buttons. Main content area with creator's elements and visitor stickers layered on top. Clicking stickers reveals who placed them and navigates to their page.",
        "layoutIds": [
          "nb0tvqaz9"
        ]
      },
      {
        "id": "b2c0ac6t3",
        "name": "Page Editor",
        "route": "/editor",
        "description": "Builder interface for creating and customizing personal pages. Users add text blocks, shapes, dividers, and YouTube embeds. Elements can be dragged, resized, aligned, edited, and deleted. Includes responsive preview toggles for desktop, tablet, and mobile.",
        "layoutIds": [
          "nb0tvqaz9"
        ]
      },
      {
        "id": "jp4qijm6a",
        "name": "Content Moderation",
        "route": "/admin",
        "description": "Admin dashboard for reviewing flagged content, managing user reports, and approving new sticker designs. Includes AI analysis results and content moderation tools. Actions include approve (unhide/dismiss reports), remove permanently, warn users, and ban users. Audit log tracks all moderation actions.",
        "layoutIds": [
          "pb4b7plwp"
        ]
      },
      {
        "id": "x2bw4j7vj",
        "name": "Settings",
        "route": "/settings",
        "description": "Manage personal sticker identity and account. Change beep and buzz icons from available libraries, customize colors and background shapes. Changes update retroactively everywhere. Activity overview shows all pages with placed stickers, with navigation and removal options. Analytics show total stickers received with breakdowns.",
        "layoutIds": []
      }
    ],
    "authMethods": {
      "emailPassword": false,
      "magicLink": true
    },
    "pageAccess": [
      {
        "pageId": "rl8b8v24d",
        "anon": true,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "2yjux32oc",
        "anon": true,
        "auth": false,
        "admin": false
      },
      {
        "pageId": "dg8xt3z7q",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "gck8gvfgb",
        "anon": true,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "b2c0ac6t3",
        "anon": false,
        "auth": true,
        "admin": true
      },
      {
        "pageId": "jp4qijm6a",
        "anon": false,
        "auth": false,
        "admin": true
      },
      {
        "pageId": "x2bw4j7vj",
        "anon": false,
        "auth": true,
        "admin": true
      }
    ],
    "stage": "pages",
    "lastGeneratedForAuth": {
      "title": "Beep.Buzz",
      "description": "beep.buzz is a simple and playful social media platform where users create personalized pages at their own subdomain (username.beep.buzz). Each page is a customizable, vertically-scrolling canvas containing text, shapes, patterns, digital illustrations, and embedded YouTube videos. Users viewing the pages interact by placing decorative \"beep\" and \"buzz\" stickers on each other's pages, with each sticker serving as a clickable link to that visitor's page. Each user can design their own beep and buzz stickers, which are retroactively updated across the app. AI analysis at publish time ensures that pages and sticker content is safe. Content can be flagged as inappropriate, which is then reviewed by an admin"
    },
    "lastGeneratedForPages": {
      "emailPassword": false,
      "magicLink": true
    },
    "lastGeneratedForReadme": "{\"layouts\":[{\"id\":\"nb0tvqaz9\",\"name\":\"Main Layout\",\"description\":\"Primary layout with header containing Beep.Buzz logo and authenticaion avatar button/menu, with a profile link button and a sign out button. Includes a minimal footer with essential links.\"},{\"id\":\"pb4b7plwp\",\"name\":\"Admin Layout\",\"description\":\"Admin-specific layout with header containing the beep.buzz logo (link to home) and the same authentication avatar button/menu as the Main layout. Includes sidebar with content flagging queue, user management, and sticker approval tools.\"}],\"pages\":[{\"id\":\"rl8b8v24d\",\"name\":\"Home\",\"route\":\"/\",\"description\":\"The main discovery and navigation hub. Users can search for pages by title or username, browse featured sections (Popular Pages, Recently Active, New Pages), filter by categories, or discover random pages. Each page card displays title, username, preview, sticker counts, and category. Includes a prominent 'Create Your Page' call-to-action.\",\"layoutIds\":[\"nb0tvqaz9\"]},{\"id\":\"2yjux32oc\",\"name\":\"Sign In\",\"route\":\"/sign-in\",\"description\":\"Authentication page where users enter their email address to receive a magic link for passwordless sign-in. Features playful beep.buzz branding and animated stickers.\",\"layoutIds\":[\"nb0tvqaz9\"]},{\"id\":\"dg8xt3z7q\",\"name\":\"Welcome Setup\",\"route\":\"/welcome\",\"description\":\"First-time user profile setup after email magic link authentication. Choose unique username (3-20 URL-friendly characters, AI-scanned). Select and customize personal beep and buzz icons, choosing icons, colors, and shapes. Immediate access to explore and place stickers after setup.\",\"layoutIds\":[\"nb0tvqaz9\"]},{\"id\":\"gck8gvfgb\",\"name\":\"User Page\",\"route\":\"/[username]\",\"description\":\"Each user's personal subdomain page. Shows static header with page title, username, creator's stickers, and counts. Sticky header with sticker visibility toggle and \\\"Add Beep/Buzz\\\" buttons. Main content area with creator's elements and visitor stickers layered on top. Clicking stickers reveals who placed them and navigates to their page.\",\"layoutIds\":[\"nb0tvqaz9\"]},{\"id\":\"b2c0ac6t3\",\"name\":\"Page Editor\",\"route\":\"/editor\",\"description\":\"Builder interface for creating and customizing personal pages. Users add text blocks, shapes, dividers, and YouTube embeds. Elements can be dragged, resized, aligned, edited, and deleted. Includes responsive preview toggles for desktop, tablet, and mobile.\",\"layoutIds\":[\"nb0tvqaz9\"]},{\"id\":\"jp4qijm6a\",\"name\":\"Content Moderation\",\"route\":\"/admin\",\"description\":\"Admin dashboard for reviewing flagged content, managing user reports, and approving new sticker designs. Includes AI analysis results and content moderation tools. Actions include approve (unhide/dismiss reports), remove permanently, warn users, and ban users. Audit log tracks all moderation actions.\",\"layoutIds\":[\"pb4b7plwp\"]},{\"id\":\"x2bw4j7vj\",\"name\":\"Settings\",\"route\":\"/settings\",\"description\":\"Manage personal sticker identity and account. Change beep and buzz icons from available libraries, customize colors and background shapes. Changes update retroactively everywhere. Activity overview shows all pages with placed stickers, with navigation and removal options. Analytics show total stickers received with breakdowns.\",\"layoutIds\":[]}]}"
  },
  "databaseTablesState": {
    "tableDescriptions": [
      {
        "id": "ttycx8bfv",
        "name": "profiles",
        "description": "Stores application-specific user profile data including username, customized beep/buzz sticker settings, and account preferences that extends the Supabase auth.users table"
      },
      {
        "id": "3hh0ilo5n",
        "name": "pages",
        "description": "Contains user-created pages with titles, metadata, and visibility settings"
      },
      {
        "id": "lxw12men3",
        "name": "page_elements",
        "description": "Stores individual content elements (text, shapes, dividers, YouTube embeds) and their properties for each page"
      },
      {
        "id": "04o3pymvy",
        "name": "stickers",
        "description": "Records placed beep and buzz stickers, including position coordinates, page reference, and placement metadata"
      },
      {
        "id": "1srusarfp",
        "name": "content_flags",
        "description": "Tracks reported content with reason codes, reporter information, and moderation status"
      },
      {
        "id": "j302ru361",
        "name": "moderation_logs",
        "description": "Audit trail of all content moderation actions including approvals, removals, warnings, and bans"
      },
      {
        "id": "089we8tfo",
        "name": "sticker_designs",
        "description": "Stores custom sticker designs with approval status and configuration options"
      },
      {
        "id": "sm5w2qa5c",
        "name": "categories",
        "description": "List of available page categories for content organization and filtering"
      },
      {
        "id": "aefhha70a",
        "name": "page_categories",
        "description": "Junction table linking pages to their assigned categories"
      }
    ],
    "tablesGenerated": true,
    "accordionValue": "step-tables",
    "expandedTableId": "aefhha70a",
    "lastGeneratedAppStructure": null,
    "lastGeneratedTableDescriptions": [
      {
        "id": "ttycx8bfv",
        "name": "profiles",
        "description": "Stores application-specific user profile data including username, customized beep/buzz sticker settings, and account preferences that extends the Supabase auth.users table"
      },
      {
        "id": "3hh0ilo5n",
        "name": "pages",
        "description": "Contains user-created pages with titles, metadata, and visibility settings"
      },
      {
        "id": "lxw12men3",
        "name": "page_elements",
        "description": "Stores individual content elements (text, shapes, dividers, YouTube embeds) and their properties for each page"
      },
      {
        "id": "04o3pymvy",
        "name": "stickers",
        "description": "Records placed beep and buzz stickers, including position coordinates, page reference, and placement metadata"
      },
      {
        "id": "1srusarfp",
        "name": "content_flags",
        "description": "Tracks reported content with reason codes, reporter information, and moderation status"
      },
      {
        "id": "j302ru361",
        "name": "moderation_logs",
        "description": "Audit trail of all content moderation actions including approvals, removals, warnings, and bans"
      },
      {
        "id": "089we8tfo",
        "name": "sticker_designs",
        "description": "Stores custom sticker designs with approval status and configuration options"
      },
      {
        "id": "sm5w2qa5c",
        "name": "categories",
        "description": "List of available page categories for content organization and filtering"
      },
      {
        "id": "aefhha70a",
        "name": "page_categories",
        "description": "Junction table linking pages to their assigned categories"
      }
    ]
  },
  "nextStepsState": {
    "openStep": "step-7",
    "unlockedSteps": [
      1,
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9
    ]
  }
}